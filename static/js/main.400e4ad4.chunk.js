(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(e,t,a){},136:function(e,t,a){},166:function(e,t,a){e.exports=a(241)},23:function(e,t,a){},236:function(e,t,a){},238:function(e,t,a){},239:function(e,t,a){},240:function(e,t,a){},241:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),o=a(30),r=a.n(o),l=a(36),c=a(38),i=a(4),m=a.n(i),u=a(10),h=a(5),d=a(6),p=a(7),f=a(14),b=a(9),g=a(8),E=(a(23),a(1)),S=a(16),y=a.n(S),N=a(21),v=(a(27),a(49),a(12)),D=(a(47),a(15),function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value))},console.log(">>> inside loginConstructor",e),n.state={login:!1,userInfo:"",userPassword:"",authPassword:"",selectUserName:"",shift:""},n}return Object(p.a)(a,[{key:"login",value:function(){var e=this;fetch("".concat("https://zarvichdemo.localto.net/fofUserInfo?fofcode=").concat(this.state.userPassword),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({userInfo:t}),e.myTimer=setTimeout(function(){e.state.userInfo.length>0&&(e.setState({login:!1}),window.location.reload(),t.map(function(t){return localStorage.setItem("userInfo",t.name),localStorage.setItem("shift",e.state.shift),"ok"}))},1e3)})}},{key:"onCloseModallogin",value:function(){this.setState({login:!0})}},{key:"render",value:function(){var e=this;return console.log(">>> Inside logindetails",this.state),s.a.createElement(s.a.Fragment,null,s.a.createElement(v.a,{open:this.state.login,onClose:function(){return e.onCloseModallogin()},center:!0},s.a.createElement("div",null,s.a.createElement("div",{className:"formdesign152"},s.a.createElement("h6",{className:"mb-3"},"Login First"),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("input",{type:"password",autoComplete:"off",className:"form-control mb-3 formsize51",name:"userPassword",require:!0,placeholder:"Enter password",value:this.state.userPassword,onChange:this.handleChange}),s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize51",name:"shift",require:!0,placeholder:"Select Shift",value:this.state.shift,list:"shift",onChange:this.handleChange}),s.a.createElement("datalist",{id:"shift"},s.a.createElement("option",{value:"Morning Shift"}),s.a.createElement("option",{value:"Night Shift"}),s.a.createElement("option",{value:"All Day"})),s.a.createElement("button",{disabled:""===this.state.userPassword||""===this.state.shift,className:"btn btn-warning formsize91",onClick:function(){return e.login()}},"Login")))))))}},{key:"componentDidMount",value:function(){var e=this;console.log(">>> Inside loginDidMount",this.state),fetch("".concat("https://zarvichdemo.localto.net/fofUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({selectUserName:t,login:!0})})}}]),a}(n.Component)),T=D,C=a(2),k=a.n(C),I="https://zarvichdemo.localto.net/checkedout?findPastGuest=",j="https://zarvichdemo.localto.net/getActive",x=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value))},n.handleChangePast=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value)),""===e.target.value?n.setState({regformSetting:"hidden"}):(fetch("".concat(I).concat(e.target.value),{method:"GET"}).then(function(e){return e.json()}).then(function(e){n.setState({FoundGuest:e})}),n.myTimer=setTimeout(function(){n.state.FoundGuest.length>0&&(n.setState({regformSetting:"visibe"}),n.state.FoundGuest.map(function(e){return n.setState({status:e.status,group:e.group,discounType:e.discounType,discountAmount:e.discountAmount,title:e.title,fname:e.fname,lname:e.lname,middlename:e.middlename,dob:e.dob,mob:e.mob,phone:e.phone,email:e.email,ID:e.ID,passportNum:e.passportNum,Gender:e.Gender,Nationality:e.Nationality,Address:e.Address,occupation:e.occupation,NokLname:e.NokLname,NokFname:e.NokFname,NokMname:e.NokMname,NokRelationship:e.NokRelationship,NokPhone:e.NokPhone,POV:e.POV,vehicleReg:e.vehicleReg}),"ok"}))},1e3))},n.handleChangeP=function(e){var t;n.setState((t={},Object(h.a)(t,e.target.name,e.target.value),Object(h.a)(t,"valid2","black"),t));var a=n.state.levyData.filter(function(e){return e.feesName.includes("VAT")}).reduce(function(e,t){return e+parseFloat(t.feesRate)},0);n.setState({VAT:a}),n.myTimer=setTimeout(function(){var e=n.state.VAT/100*n.state.dailyRate;n.setState({useVAT:e})},1e3);var s=n.state.levyData.filter(function(e){return e.feesName.includes("Tourism")}).reduce(function(e,t){return e+parseFloat(t.feesRate)},0);n.setState({TourismLevy:s}),n.myTimer=setTimeout(function(){var e=n.state.TourismLevy/100*n.state.dailyRate;n.setState({useTourismLevy:e})},1e3);var o=n.state.levyData.filter(function(e){return e.feesName.match("Service Charge")}).reduce(function(e,t){return e+parseFloat(t.feesRate)},0);n.setState({ServiceChrg:o}),n.myTimer=setTimeout(function(){var e=n.state.ServiceChrg/100*n.state.dailyRate;n.setState({useServiceChrg:e})},1e3)},n.handleChangeS=function(e){var t;n.setState((t={},Object(h.a)(t,e.target.name,e.target.value),Object(h.a)(t,"valid3","black"),t))},n.handleChangePh=function(e){var t;n.setState((t={},Object(h.a)(t,e.target.name,e.target.value),Object(h.a)(t,"valid4","black"),t))},n.handleChange2=function(e){if(n.setState(Object(h.a)({},e.target.name,e.target.value)),"Amount"===n.state.discounType){sessionStorage.setItem("pdc",e.target.value),sessionStorage.setItem("rmR",n.state.roomRate);var t=parseFloat(sessionStorage.getItem("pdc")),a=0,s=parseFloat(sessionStorage.getItem("rmR"));a=parseFloat(a+s-t),n.setState({dailyRate:a})}if("Percentage"===n.state.discounType){sessionStorage.setItem("pdc",e.target.value),sessionStorage.setItem("rmR",n.state.roomRate);var o=parseFloat(sessionStorage.getItem("pdc")),r=0,l=parseInt(sessionStorage.getItem("rmR"));r=parseInt(r+l-o/100*l),n.setState({dailyRate:r})}if("FlatRate"===n.state.discounType){sessionStorage.setItem("pdc",e.target.value);var c=parseFloat(sessionStorage.getItem("pdc")),i=0;i=parseFloat(i+c),n.setState({dailyRate:i})}},n.renderCompany=function(e){if(e)return e.map(function(e){return s.a.createElement("option",{key:e.orgName,value:e.orgName},e.orgName)})},n.renderPastGuest=function(e){if(e)return e.map(function(e){return s.a.createElement("option",{key:e.refID,value:e.refID},e.lname,"  ",e.fname,"  ",e.phone)})},n.renderCardMessages=function(e){if(e)return e.map(function(e){var t="";return""!==e.message?("No valid card is read in the sensor area of the card issuer: 550100"===e.message?t="Place the card well on the encoder or turn the card":"There is no card on the encoder."===e.message&&(t="Place a room card on the encoder"),s.a.createElement("div",{key:e._id},s.a.createElement("h3",null," ",e.message," "),s.a.createElement("h5",null," ",t," "),s.a.createElement("h6",null," ","Wait until you here the encoder beep sound before you remove card."," "),s.a.createElement("h6",null," ","Click close after you remove card"," "),s.a.createElement("br",null),s.a.createElement("button",{className:"btn btn-success",onClick:function(){n.deleteGuestCardInfo()}},"Close"))):s.a.createElement("div",{key:e._id},s.a.createElement("h3",null," ","Card Issue was successfull"," "),s.a.createElement("h5",null," ","Click close after you remove card"," "),s.a.createElement("br",null),s.a.createElement("button",{className:"btn btn-success",onClick:function(){n.deleteGuestCardInfo()}},"Close"))})},console.log(">>> inside RegCobtructor",e),n.state={_id:Math.floor(1e8*Math.random()),status:"",group:"",roomNumbers:"",roomRate:0,roomtypeName:"",dailyRate:0,discounType:"",discountAmount:"",comingFrom:"",goingTo:"",transactionDate:"",arrivalDate:"",departureDate:"",stay:"",stay2:"",calculatedstay:"",postBillStatus:"",title:"",fname:"",lname:"",middlename:"",dob:"",mob:"",phone:"",email:"",ID:"",passportNum:"",Gender:"",Nationality:"",Address:"",occupation:"",NokLname:"",NokFname:"",NokMname:"",NokRelationship:"",NokPhone:"",POV:"",vehicleReg:"",roomStatus:"green",groupDetails:"",valid1:"red",valid2:"red",valid3:"red",valid4:"red",valid5:"red",loginDetails:"",name:localStorage.getItem("userInfo"),login:"",Blogin:"",VAT:0,TourismLevy:0,ServiceChrg:0,useVAT:0,useTourismLevy:0,useServiceChrg:0,levyData:"",pastGuestData:"",existingGuest:"",regformSetting:"hidden",FoundGuest:"",BillStatus:0,Hotelname:"",Hoteladdress:"",Hotelphone:"",cardDate:"",cardMessages:[],cardModal:!1,cardData:""},n.checkinhandleChange=n.checkinhandleChange.bind(Object(f.a)(n)),n.checkouthandleChange=n.checkouthandleChange.bind(Object(f.a)(n)),n}return Object(p.a)(a,[{key:"checkinhandleChange",value:function(e){this.setState({arrivalDate:e})}},{key:"checkouthandleChange",value:function(e){var t=this;this.setState({departureDate:e,valid5:"black"}),this.myTimer=setTimeout(function(){var e=t.state.departureDate,a=k()(e),n=k()(t.state.arrivalDate),s=a.diff(n),o=Math.ceil(s/864e5);t.setState({stay:o}),sessionStorage.setItem("stayLenght",o),t.formatDate()},1e3),this.myTimer=setTimeout(function(){var e=0+parseInt(t.state.stay)*parseInt(t.state.dailyRate);t.setState({calculatedstay:e})},1e3)}},{key:"rendercheckinDate",value:function(){return s.a.createElement("div",null,s.a.createElement(y.a,{selected:this.state.arrivalDate,onChange:this.checkinhandleChange,minDate:new Date,maxDate:Object(N.default)(new Date,31),dropdownMode:"select",dateFormat:"MMM/d/ yyyy"}))}},{key:"formatDate",value:function(){var e="".concat(this.state.departureDate),t=k()(e).format("YYMMDD");this.setState({cardDate:t})}},{key:"newGuest",value:function(){this.setState({regformSetting:"visibe"})}},{key:"rendercheckOutDate",value:function(){return s.a.createElement("div",null,s.a.createElement(y.a,{selected:this.state.departureDate,onChange:this.checkouthandleChange,minDate:Object(N.default)(this.state.arrivalDate,1),maxDate:Object(N.default)(new Date,31),dropdownMode:"select",dateFormat:"MMM/d/ yyyy"}))}},{key:"handleGueststatus",value:function(e){var t=this;this.setState({status:e.target.value,valid1:"black"},function(){"Individual"===t.state.status?(t.setState({roomStatus:"blueviolet"}),t.setState({groupDetails:""}),t.setState({group:""})):"Corporate"===t.state.status?(t.setState({roomStatus:"blue"}),fetch("".concat("https://zarvichdemo.localto.net/org"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({groupDetails:e})})):"Staff"===t.state.status?(t.setState({roomStatus:"deeppink"}),t.setState({groupDetails:""}),t.setState({group:""})):"Complimentary"===t.state.status?(t.setState({roomStatus:"orange"}),t.setState({groupDetails:""}),t.setState({group:""})):"green"===t.state.roomStatus?(t.setState({status:""}),t.setState({groupDetails:""}),t.setState({group:""})):(t.setState({roomStatus:"green"}),t.setState({groupDetails:""}),t.setState({group:""}))})}},{key:"onCloseModalCard",value:function(){this.setState({cardModal:!1})}},{key:"handleSubmit",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o,r,l,c,i;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.props.match.params.reID,a=parseInt(t),n={status:"".concat(this.state.status),roomtypeName:"".concat(this.state.roomtypeName),fname:"".concat(this.state.fname),lname:"".concat(this.state.lname),roomStatus:"".concat(this.state.roomStatus),refID:"".concat(this.state._id),BillStatus:"".concat(this.state.BillStatus)},s={refID:"".concat(this.state._id),fname:"".concat(this.state.fname),lname:"".concat(this.state.lname),group:"".concat(this.state.group),roomtypeName:"".concat(this.state.roomtypeName),arrivalDate:"".concat(this.state.arrivalDate),departureDate:"".concat(this.state.departureDate),roomNumbers:"".concat(this.state.roomNumbers),dailyRate:"".concat(this.state.dailyRate),tranDate:new Date,description:"Daily Room Rate",searchKey:"GuestBill"},o=this.state.arrivalDate.toISOString(),r=this.state.departureDate.toISOString(),l=k()(this.state.transactionDate).format("MMM DD YYYY"),c={_id:"".concat(this.state._id),refID:"".concat(this.state._id),status:"".concat(this.state.status),group:"".concat(this.state.group),roomNumbers:"".concat(this.state.roomNumbers),roomRate:"".concat(this.state.roomRate),roomtypeName:"".concat(this.state.roomtypeName),dailyRate:"".concat(this.state.dailyRate),discounType:"".concat(this.state.discounType),discountAmount:"".concat(this.state.discountAmount),comingFrom:"".concat(this.state.comingFrom),goingTo:"".concat(this.state.goingTo),arrivalDate:o,departureDate:r,stay:"".concat(this.state.stay),calculatedstay:"".concat(this.state.calculatedstay),postBillStatus:"".concat(this.state.postBillStatus),title:"".concat(this.state.title),fname:"".concat(this.state.fname),lname:"".concat(this.state.lname),middlename:"".concat(this.state.middlename),dob:"".concat(this.state.dob),mob:"".concat(this.state.mob),phone:"".concat(this.state.phone),email:"".concat(this.state.email),ID:"".concat(this.state.ID),passportNum:"".concat(this.state.passportNum),Gender:"".concat(this.state.Gender),Nationality:"".concat(this.state.Nationality),Address:"".concat(this.state.Address),occupation:"".concat(this.state.occupation),NokLname:"".concat(this.state.NokLname),NokFname:"".concat(this.state.NokFname),NokMname:"".concat(this.state.NokMname),NokRelationship:"".concat(this.state.NokRelationship),NokPhone:"".concat(this.state.NokPhone),POV:"".concat(this.state.POV),vehicleReg:"".concat(this.state.vehicleReg),roomStatus:"".concat(this.state.roomStatus),transactionDate:l},e.next=11,fetch("".concat("https://zarvichdemo.localto.net/delBooking","/").concat(this.state._id),{method:"delete"});case 11:i=e.sent,console.log("delFirst>  "+i),this.myTimer=setTimeout(function(){var e=fetch("https://zarvichdemo.localto.net/bookNow",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(c)});console.log("result>  "+e);var t=fetch("".concat("https://zarvichdemo.localto.net/rmstatus2","/").concat(a),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)});console.log("result2> "+t);var o=fetch("".concat("https://zarvichdemo.localto.net/firstNight"),{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(s)});console.log("result3>  "+o),console.log("result2> "+t)},1e3),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}},e,this,[[0,16]])}));return function(){return e.apply(this,arguments)}}()},{key:"applyReservation",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=sessionStorage.getItem("getrsvAmount"),a=sessionStorage.getItem("getrsvCode"),n={receiptNum:"BillRec"+Math.floor(1e4*Math.random()),_id:"".concat(this.state._id),refID:"".concat(this.state._id),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),POSAmount:0,CashAmount:0,TransferAmount:0,CompDebit:Math.abs(parseInt("".concat(t))),roomDebit:0,paymentMethod:"Complimentary",roomNumbers:"".concat(this.state.roomNumbers),description:"Reservation Deposit",department:"Room Deposit",user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=6,fetch("https://zarvichdemo.localto.net/rmDeposit",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)});case 6:return s=e.sent,console.log("result1>  "+s),e.next=10,fetch("https://zarvichdemo.localto.net/PostTmpRmDep",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)});case 10:o=e.sent,console.log("result1b>  "+o),fetch("".concat("https://zarvichdemo.localto.net/delReservation","/").concat(a),{method:"delete"}),this.handleSubmit(),alert("Reservation Deposit has been applied to "+this.state.roomNumbers),sessionStorage.removeItem("getrsvAmount"),sessionStorage.removeItem("getrsvCode"),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),console.log(e.t0);case 22:case"end":return e.stop()}},e,this,[[0,19]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return console.log(">>> Inside REgdetails",this.state),null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement(T,null)):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"container",key:this.state.roomNumbers},s.a.createElement("div",{className:"formdesign11"},s.a.createElement("button",{className:"btn btn-warning movebtn2 printing",onClick:function(){return window.print()}},"Print Form"),s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("img",{src:"https://i.ibb.co/pP1xN03/Orange-Groove2.png",className:"alignImg2mmmm",style:{width:"150px",height:"150px"},alt:"companylogo"})),s.a.createElement("center",null,s.a.createElement("h6",null,this.state.Hotelname),s.a.createElement("p",{className:"textSize"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSize"},this.state.Hotelphone))),s.a.createElement("center",null,s.a.createElement("h4",null,"Guests Entry Form")),s.a.createElement("form",null,s.a.createElement("br",null),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-6"},s.a.createElement("h5",{className:"form-control mb-3 background11 searchColor formsize btn btn-warning",onClick:function(){return e.newGuest()}},"Register New Guests")),s.a.createElement("div",{className:"col-6"},s.a.createElement("h5",null,s.a.createElement("input",{type:"text",className:"form-control mb-3 background11 searchColor btn-warning",name:"existingGuest",require:!0,placeholder:"Find Existing Guests",value:this.state.existingGuest,list:"findGuest",onChange:this.handleChangePast}),s.a.createElement("datalist",{id:"findGuest"},this.renderPastGuest(this.state.pastGuestData))))),s.a.createElement("div",{className:this.state.regformSetting},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"mb-3 col-4"},s.a.createElement("label",{className:"form-label"},"GuestID"),s.a.createElement("input",{type:"number",className:"form-control mb-3 formsize",name:"_id",value:this.state._id,readOnly:!0}),s.a.createElement("label",{className:"form-label",style:{color:this.state.valid1}},"Guest Status"),s.a.createElement("select",{className:"form-select formsize mb-3",name:"status",onChange:this.handleGueststatus.bind(this)},s.a.createElement("option",{selected:!0,value:""},"Choose"),s.a.createElement("option",{value:"Individual"},"Individual"),s.a.createElement("option",{value:"Corporate"},"Group/Corporate"),s.a.createElement("option",{value:"Staff"},"Staff"),s.a.createElement("option",{value:"Complimentary"},"Complimentary")),s.a.createElement("label",{className:"form-label"},"Organisations"),s.a.createElement("select",{className:"form-select formsize mb-3",name:"group",onChange:this.handleChange},s.a.createElement("option",{selected:!0,value:""},"Select Company"),this.renderCompany(this.state.groupDetails)),s.a.createElement("label",{className:"form-label"},"Room Number"),s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize",name:"roomNumbers",value:this.state.roomNumbers,readOnly:!0}),s.a.createElement("label",{className:"form-label"},"Room Type"),s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize",name:"roomtypeName",value:this.state.roomtypeName,readOnly:!0}),s.a.createElement("label",{className:"form-label"},"Room Rate"),s.a.createElement("p",{className:"form-control mb-3 formsize"},s.a.createElement(E.a,{value:this.state.roomRate,displayType:"text",thousandSeparator:!0,prefix:"N"}),".00")),s.a.createElement("div",{className:"col-4"},s.a.createElement("label",{className:"form-label"},"Discount Type"),s.a.createElement("select",{className:"form-select formsize mb-3",name:"discounType",onChange:this.handleChange2},s.a.createElement("option",{selected:!0,value:"None"},"Select"),s.a.createElement("option",{value:"Amount"},"Discount Amount"),s.a.createElement("option",{value:"Percentage"},"Percentage Discount"),s.a.createElement("option",{value:"FlatRate"},"Flat Rate")),s.a.createElement("label",{className:"form-label"},this.state.discounType),s.a.createElement("input",{type:"number",className:"form-control mb-3 formsize",name:"discountAmount",value:this.state.discountAmount,onChange:this.handleChange2}),s.a.createElement("label",{className:"form-label"},"Daily Rate"),s.a.createElement("p",{className:"form-control mb-4 formsize"}," ",s.a.createElement(E.a,{value:this.state.dailyRate,displayType:"text",thousandSeparator:!0,prefix:"N"}))),s.a.createElement("div",{className:"col-4"},s.a.createElement("label",{className:"form-label"},"Travelling From"),s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize",name:"comingFrom",value:this.state.comingFrom,onChange:this.handleChange}),s.a.createElement("label",{className:"form-label"},"Next Destination"),s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize",name:"goingTo",value:this.state.goingTo,onChange:this.handleChange}),s.a.createElement("label",{className:"form-label"},"Arrival Date"),s.a.createElement("label",{className:"formsize"},this.rendercheckinDate(this.state.arrivalDate)),s.a.createElement("label",{className:"form-label",style:{color:this.state.valid5}},"Departure Date"),s.a.createElement("label",{className:"formsize"},this.rendercheckOutDate(this.state.departureDate)),s.a.createElement("label",{className:"form-label",style:{color:this.state.valid2}},"Enable Dockets?"),s.a.createElement("select",{className:"form-select formsize mb-3",name:"postBillStatus",onChange:this.handleChangeP},s.a.createElement("option",{selected:!0,value:""},"Select"),s.a.createElement("option",{value:"No"},"No"),s.a.createElement("option",{value:"Yes"},"Yes"))),s.a.createElement("hr",null)),s.a.createElement("br",null),s.a.createElement("h5",{className:"mb-3 background11 formsize21"},"Personal Info"),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"mb-3 col-2"},s.a.createElement("label",{className:"form-label"},"Title"),s.a.createElement("select",{className:"form-select formsize21 mb-3",name:"title",onChange:this.handleChange},s.a.createElement("option",{selected:!0,value:""},"Select"),s.a.createElement("option",{value:"Mr"},"Mr"),s.a.createElement("option",{value:"Mrs"},"Mrs"),s.a.createElement("option",{value:"Miss"},"Miss"),s.a.createElement("option",{value:"Rev"},"Rev."),s.a.createElement("option",{value:"Mal"},"Mal."),s.a.createElement("option",{value:"Alh"},"Alh."),s.a.createElement("option",{value:"Chief"},"Chief"),s.a.createElement("option",{value:"Engr"},"Engr."),s.a.createElement("option",{value:"Bar"},"Bar."),s.a.createElement("option",{value:"Dr."},"Dr."))),s.a.createElement("div",{className:"mb-3 col-2"},s.a.createElement("label",{className:"form-label",style:{color:this.state.valid3}},"Surname"),s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize21",name:"lname",value:this.state.lname,onChange:this.handleChangeS})),s.a.createElement("div",{className:"mb-3 col-2"},s.a.createElement("label",{className:"form-label"},"Firstname"),s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize21",name:"fname",value:this.state.fname,onChange:this.handleChange})),s.a.createElement("div",{className:"mb-3 col-2"},s.a.createElement("label",{className:"form-label"},"Middle Name"),s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize21",name:"middlename",value:this.state.middlename,onChange:this.handleChange})),s.a.createElement("div",{className:"mb-3 col-2"},s.a.createElement("label",{className:"form-label"},"Birth Day"),s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize21",name:"dob",value:this.state.dob,onChange:this.handleChange})),s.a.createElement("div",{className:"mb-3 col-2"},s.a.createElement("label",{className:"form-label"},"Birth Month"),s.a.createElement("select",{className:"form-select formsize21 mb-3",name:"mob",onChange:this.handleChange},s.a.createElement("option",{selected:!0,value:""},"Select Month"),s.a.createElement("option",{value:"Jan"},"Jan"),s.a.createElement("option",{value:"Feb"},"Feb"),s.a.createElement("option",{value:"Mar"},"Mar"),s.a.createElement("option",{value:"Apr"},"Apr"),s.a.createElement("option",{value:"May"},"May"),s.a.createElement("option",{value:"Jun"},"Jun"),s.a.createElement("option",{value:"Jul"},"Jul"),s.a.createElement("option",{value:"Aug"},"Aug"),s.a.createElement("option",{value:"Sept"},"Sept"),s.a.createElement("option",{value:"Oct"},"Oct"),s.a.createElement("option",{value:"Nov"},"Nov"),s.a.createElement("option",{value:"Dec"},"Dec")))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"mb-3 col-2"},s.a.createElement("label",{className:"form-label",style:{color:this.state.valid4}},"Phone"),s.a.createElement("input",{type:"number",className:"form-control mb-3 formsize21",name:"phone",value:this.state.phone,onChange:this.handleChangePh})),s.a.createElement("div",{className:"mb-3 col-2"},s.a.createElement("label",{className:"form-label"},"Email"),s.a.createElement("input",{type:"email",className:"form-control mb-3 formsize21",name:"email",value:this.state.email,onChange:this.handleChange})),s.a.createElement("div",{className:"mb-3 col-2"},s.a.createElement("label",{className:"form-label"},"ID"),s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize21",name:"ID",value:this.state.ID,onChange:this.handleChange})),s.a.createElement("div",{className:"mb-3 col-2"},s.a.createElement("label",{className:"form-label"},"Passport Num"),s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize21",name:"passportNum",value:this.state.passportNum,onChange:this.handleChange})),s.a.createElement("div",{className:"mb-3 col-2"},s.a.createElement("label",{className:"form-label"},"Gender"),s.a.createElement("select",{className:"form-select formsize21 mb-3",name:"Gender",onChange:this.handleChange},s.a.createElement("option",{selected:!0,value:""},"Select"),s.a.createElement("option",{value:"Male"},"Male"),s.a.createElement("option",{value:"Female"},"Female"))),s.a.createElement("div",{className:"mb-3 col-2"},s.a.createElement("label",{className:"form-label"},"Nationality"),s.a.createElement("select",{className:"form-select formsize21 mb-3",name:"Nationality",onChange:this.handleChange},s.a.createElement("option",{selected:!0,value:""},"Select"),s.a.createElement("option",{value:"Nigeria"},"Nigeria"),s.a.createElement("option",{value:"Others"},"Others"))),s.a.createElement("div",{className:"mb-3 col-2"},s.a.createElement("label",{className:"form-label"},"Address"),s.a.createElement("textarea",{row:"4",className:"form-control mb-3",name:"Address",value:this.state.Address,onChange:this.handleChange})),s.a.createElement("div",{className:"mb-3 col-2"},s.a.createElement("label",{className:"form-label"},"occupation"),s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize21",name:"occupation",value:this.state.occupation,onChange:this.handleChange})),s.a.createElement("div",{className:"mb-3 col-2"},s.a.createElement("label",{className:"form-label"},"Purpose of Visits"),s.a.createElement("textarea",{row:"4",className:"form-control mb-3 formsize21",name:"POV",value:this.state.POV,onChange:this.handleChange})),s.a.createElement("div",{className:"mb-3 col-2"},s.a.createElement("label",{className:"form-label"},"Vehicle Reg"),s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize21",name:"vehicleReg",value:this.state.vehicleReg,onChange:this.handleChange}))),s.a.createElement("hr",null),s.a.createElement("h5",{className:"mb-3 background11 formsize4"},"Next of Kin Details"),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"mb-3 col-2"},s.a.createElement("label",{className:"form-label"},"Surname"),s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize21",name:"NokLname",value:this.state.NokLname,onChange:this.handleChangeS})),s.a.createElement("div",{className:"mb-3 col-2"},s.a.createElement("label",{className:"form-label"},"Firstname"),s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize21",name:"NokFname",value:this.state.NokFname,onChange:this.handleChange})),s.a.createElement("div",{className:"mb-3 col-2"},s.a.createElement("label",{className:"form-label"},"Middle Name"),s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize21",name:"NokMname",value:this.state.NokMname,onChange:this.handleChange})),s.a.createElement("div",{className:"mb-3 col-2"},s.a.createElement("label",{className:"form-label"},"Relationship"),s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize21",name:"NokRelationship",value:this.state.NokRelationship,onChange:this.handleChange})),s.a.createElement("div",{className:"mb-3 col-2"},s.a.createElement("label",{className:"form-label"},"Phone"),s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize21",name:"NokPhone",value:this.state.NokPhone,onChange:this.handleChange}))))),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("span",null,s.a.createElement("button",{disabled:""===this.state.status||""===this.state.lname||""===this.state.phone||""===this.state.postBillStatus||""===this.state.departureDate||null!==sessionStorage.getItem("getrsvAmount"),className:"btn btn-primary printing",onClick:function(){return e.handleSubmit()}},"Check In"),s.a.createElement(l.b,{to:"/roomchart"},s.a.createElement("button",{className:"btn btn-danger space printing",onClick:function(){sessionStorage.removeItem("getrsvAmount")}},"Cancel")),s.a.createElement("button",{disabled:""===sessionStorage.getItem("getrsvAmount")||""===this.state.status||""===this.state.lname||""===this.state.phone||""===this.state.postBillStatus||""===this.state.departureDate||null===sessionStorage.getItem("getrsvAmount"),className:"btn btn-warning movebtn31 printing",onClick:function(){return e.applyReservation()}},"Check In Reservation")))))),s.a.createElement(v.a,{open:this.state.cardModal,onClose:function(){return e.onCloseModalCard()},center:!0},s.a.createElement("div",{className:"editModal"},s.a.createElement("center",null,this.renderCardMessages(this.cardMessages),";"))))}},{key:"componentDidMount",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(">>> Inside RegDidMount",this.state),t=this.props.match.params.reID,a=parseInt(t),fetch("".concat("https://zarvichdemo.localto.net/rooms?details=").concat(a),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){var t=Number(e.roomRate);return n.setState({roomNumbers:e.roomNumbers}),n.setState({roomRate:t}),n.setState({roomtypeName:e.roomtypeName}),n.setState({_id:Math.floor(1e8*Math.random())}),n.setState({dailyRate:t}),"ok"})}),fetch("".concat("https://zarvichdemo.localto.net/hoteladdress"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return n.setState({Hotelname:e.HotelName,Hoteladdress:e.Address,Hotelphone:e.Phone}),"ok"})}),e.next=7,fetch("".concat(j),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return n.setState({transactionDate:e.date}),"ok"})});case 7:return e.next=9,fetch("".concat(j),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return n.setState({arrivalDate:new Date(e.date)}),"ok"})});case 9:fetch("".concat("https://zarvichdemo.localto.net/fofUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){n.setState({loginDetails:e})}),fetch("".concat(I),{method:"GET"}).then(function(e){return e.json()}).then(function(e){n.setState({pastGuestData:e})}),fetch("".concat("https://zarvichdemo.localto.net/feesAndCharges"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){n.setState({levyData:e})}),this.myTimer=setTimeout(function(){var e=n.state.loginDetails,t=n.state.name;e.some(function(e){return e.name===t})?n.setState({Blogin:!0}):n.setState({Blogin:!1})},1e3);case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),a}(n.Component),M=x,O=(a(101),function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this)).state={guestdata:""},n}return Object(p.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"black"},s.a.createElement("span",null,s.a.createElement(l.b,{to:"/stay/".concat(sessionStorage.getItem("rmNum"))},s.a.createElement("button",{className:"btn btn-primary mt-3 mb-3 buttncontrol1 printing"},"Extend Stay")),s.a.createElement(l.b,{to:"/change/".concat(sessionStorage.getItem("rmNum"))},s.a.createElement("button",{className:"btn btn-primary mt-3 mb-3 buttncontrol2 printing"},"Room Change")),s.a.createElement("button",{className:"btn btn-warning movebtn printing",onClick:function(){return window.print()}},"Print Form"),s.a.createElement(l.b,{to:"/roomchart"},s.a.createElement("button",{className:"btn btn-danger buttncontrol3 printing"},"Close"))))}},{key:"componentDidMount",value:function(){var e=this;console.log(">>> Inside GsDidMount",this.state);var t=this.props.match.params.stID,a=parseInt(t);fetch("".concat("https://zarvichdemo.localto.net/checkin?guest=").concat(a),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({guestdata:t})})}}]),a}(n.Component)),w=Object(c.e)(O),P=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).renderCompany=function(e){if(e)return e.sort(function(e,t){return e.orgName-t.orgName}),e.map(function(e){return s.a.createElement("option",{key:e.orgName,value:e.orgName},e.orgName)})},n.handleChange=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value))},n.handleChange2=function(e){var t;"Add to Group"===n.state.renameBtn?n.setState((t={},Object(h.a)(t,e.target.name,e.target.value),Object(h.a)(t,"status","Corporate"),Object(h.a)(t,"roomStatus","blue"),Object(h.a)(t,"renameBtn","Return to Individual"),t)):n.setState({group:"",status:"Individual",roomStatus:"blueviolet",renameBtn:"Add to Group"})},console.log(">>> inside GstContructor",e),n.state={_id:"",status:"",group:"",roomNumbers:"",roomRate:"",roomtypeName:"",dailyRate:"",discounType:"",discountAmount:"",comingFrom:"",goingTo:"",arrivalDate:"",departureDate:"",stay:"",postBillStatus:"",title:"",fname:"",lname:"",middlename:"",dob:"",mob:"",phone:"",email:"",ID:"",passportNum:"",Gender:"",Nationality:"",Address:"",occupation:"",VAT:0,TourismLevy:0,ServiceChrg:0,NokLname:"",NokFname:"",NokMname:"",NokRelationship:"",NokPhone:"",POV:"",vehicleReg:"",roomStatus:"",transactionDate:"",calculatedstay:"",loginDetails:"",name:localStorage.getItem("userInfo"),login:"",Blogin:"",groupDatax:"",renameBtn:"Add to Group",Hotelname:"",Hoteladdress:"",Hotelphone:""},n}return Object(p.a)(a,[{key:"handleSubmit",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o,r,l,c;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.props.match.params.rmID,a=this.state._id,n={status:"".concat(this.state.status),roomtypeName:"".concat(this.state.roomtypeName),fname:"".concat(this.state.fname),lname:"".concat(this.state.lname),roomStatus:"".concat(this.state.roomStatus),refID:"".concat(this.state._id)},s={group:"".concat(this.state.group),roomtypeName:"".concat(this.state.roomtypeName),dailyRate:"".concat(this.state.dailyRate),arrivalDate:"".concat(this.state.arrivalDate),departureDate:"".concat(this.state.departureDate),fname:"".concat(this.state.fname),lname:"".concat(this.state.lname),VAT:parseFloat("".concat(this.state.useVAT)),TourismLevy:parseFloat("".concat(this.state.useTourismLevy)),roomNumbers:"".concat(this.state.roomNumbers),ServiceCharge:"".concat(this.state.ServiceCharge),tranDate:"".concat(this.state.transactionDate),description:"Daily Room Rate",searchKey:"GuestBill"},o={status:"".concat(this.state.status),refID:"".concat(this.state._id),group:"".concat(this.state.group),roomRate:"".concat(this.state.roomRate),roomtypeName:"".concat(this.state.roomtypeName),dailyRate:"".concat(this.state.dailyRate),discounType:"".concat(this.state.discounType),discountAmount:"".concat(this.state.discountAmount),comingFrom:"".concat(this.state.comingFrom),goingTo:"".concat(this.state.goingTo),arrivalDate:"".concat(this.state.arrivalDate),departureDate:"".concat(this.state.departureDate),stay:"".concat(this.state.stay),postBillStatus:"".concat(this.state.postBillStatus),title:"".concat(this.state.title),fname:"".concat(this.state.fname),lname:"".concat(this.state.lname),middlename:"".concat(this.state.middlename),dob:"".concat(this.state.dob),mob:"".concat(this.state.mob),phone:"".concat(this.state.phone),email:"".concat(this.state.email),ID:"".concat(this.state.ID),passportNum:"".concat(this.state.passportNum),Gender:"".concat(this.state.Gender),Nationality:"".concat(this.state.Nationality),Address:"".concat(this.state.Address),occupation:"".concat(this.state.occupation),NokLname:"".concat(this.state.NokLname),NokFname:"".concat(this.state.NokFname),NokMname:"".concat(this.state.NokMname),NokRelationship:"".concat(this.state.NokRelationship),NokPhone:"".concat(this.state.NokPhone),POV:"".concat(this.state.POV),vehicleReg:"".concat(this.state.vehicleReg),roomStatus:"".concat(this.state.roomStatus),VAT:parseFloat("".concat(this.state.VAT)),TourismLevy:parseFloat("".concat(this.state.TourismLevy)),ServiceChrg:parseFloat("".concat(this.state.ServiceChrg)),calculatedstay:"".concat(this.state.calculatedstay)},e.next=8,fetch("".concat("https://zarvichdemo.localto.net/guestupdate","/").concat(t),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(o)});case 8:return r=e.sent,console.log("result>  "+r),e.next=12,fetch("".concat("https://zarvichdemo.localto.net/updateFirstNite","/").concat(a),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(s)});case 12:return l=e.sent,console.log("FirstNite>  "+l),e.next=16,fetch("".concat("https://zarvichdemo.localto.net/rmstatus2","/").concat(t),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)});case 16:c=e.sent,console.log("RmStatus>  "+c),alert("Guest Records Updated"),this.props.history.push("/roomchart"),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(0),console.log(e.t0);case 25:case"end":return e.stop()}},e,this,[[0,22]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return console.log(">>> Inside Gsdetails",this.state),null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement(T,null)):s.a.createElement(s.a.Fragment,null,s.a.createElement(w,null),s.a.createElement("div",{className:"container",key:this.state.roomNumbers},s.a.createElement("div",{className:"formdesign11"},s.a.createElement("div",{className:"NoPrint"},s.a.createElement("div",null,s.a.createElement("img",{src:"https://i.ibb.co/xfH44ry/grandseason-Logo.jpg",className:"alignImg2Dt",style:{width:"80px",height:"70px"},alt:"companylogo"})),s.a.createElement("center",null,s.a.createElement("h6",null,this.state.Hotelname),s.a.createElement("p",{className:"textSize"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSize"},this.state.Hotelphone))),s.a.createElement("center",null,s.a.createElement("h4",null,"Guests Registration Form")),s.a.createElement("form",null,s.a.createElement("br",null),s.a.createElement("h5",{className:"mb-3 background11 formsize"},"Booking Info"),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"mb-3 col-4"},s.a.createElement("label",{className:"form-label"},"GuestID"),s.a.createElement("input",{type:"number",className:"form-control mb-3 formsize",name:"_id",value:this.state._id,readOnly:!0}),s.a.createElement("label",{className:"form-label valid"},"Guest Status"),s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize",name:"status",value:this.state.status,readOnly:!0}),s.a.createElement("select",{type:"button",className:"form-select formsize mb-3 btn btn-primary",name:"group",onChange:this.handleChange2},s.a.createElement("option",{selected:!0,value:""},this.state.renameBtn),this.renderCompany(this.state.groupDatax)),s.a.createElement("label",{className:"form-label"},"Organisations"),s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize",name:"group",value:this.state.group,readOnly:!0}),s.a.createElement("label",{className:"form-label"},"Room Number"),s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize",name:"roomNumbers",value:this.state.roomNumbers,readOnly:!0}),s.a.createElement("label",{className:"form-label"},"Room Type"),s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize",name:"roomtypeName",value:this.state.roomtypeName,readOnly:!0}),s.a.createElement("label",{className:"form-label"},"Room Rate"),s.a.createElement("p",{className:"form-control mb-3 formsize"},s.a.createElement(E.a,{value:this.state.roomRate,displayType:"text",thousandSeparator:!0,prefix:"N"}),".00")),s.a.createElement("div",{className:"col-4"},s.a.createElement("label",{className:"form-label"},"Discount Type"),s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize",name:"discounType",value:this.state.discounType,readOnly:!0}),s.a.createElement("label",{className:"form-label"},this.state.discounType),s.a.createElement("input",{type:"number",className:"form-control mb-3 formsize",name:"discountAmount",value:this.state.discountAmount,readOnly:!0}),s.a.createElement("label",{className:"form-label"},"Daily Rate"),s.a.createElement("p",{className:"form-control mb-3 formsize"}," ",s.a.createElement(E.a,{value:this.state.dailyRate,displayType:"text",thousandSeparator:!0,prefix:"N"}),".00"),s.a.createElement("label",{className:"form-label"},"VAT"),s.a.createElement("p",{className:"form-control mb-3 formsize"}," ",s.a.createElement(E.a,{value:this.state.VAT,displayType:"text",thousandSeparator:!0,prefix:"N"})),s.a.createElement("label",{className:"form-label"},"Tourism Levy"),s.a.createElement("p",{className:"form-control mb-3 formsize"}," ",s.a.createElement(E.a,{value:this.state.TourismLevy,displayType:"text",thousandSeparator:!0,prefix:"N"})),s.a.createElement("label",{className:"form-label"},"Service Charge"),s.a.createElement("p",{className:"form-control mb-3 formsize"}," ",s.a.createElement(E.a,{value:this.state.ServiceChrg,displayType:"text",thousandSeparator:!0,prefix:"N"})),s.a.createElement("label",{className:"form-label"},"Hotel's Income"),s.a.createElement("p",{className:"form-control mb-3 formsize"}," ",s.a.createElement(E.a,{value:parseFloat(this.state.dailyRate)-parseFloat(this.state.VAT)-parseFloat(this.state.TourismLevy)-parseFloat(this.state.ServiceChrg),displayType:"text",thousandSeparator:!0,prefix:"N"}))),s.a.createElement("div",{className:"col-4"},s.a.createElement("label",{className:"form-label"},"Travelling From"),s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize",name:"comingFrom",value:this.state.comingFrom,readOnly:!0}),s.a.createElement("label",{className:"form-label"},"Next Destination"),s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize",name:"goingTo",value:this.state.goingTo,readOnly:!0}),s.a.createElement("label",{className:"form-label"},"Arrival Date"),s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize",name:"arrivalDate",value:this.state.arrivalDate,readOnly:!0}),s.a.createElement("label",{className:"form-label"},"Departure Date"),s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize",name:"departureDate",value:this.state.departureDate,readOnly:!0}),s.a.createElement("label",{className:"form-check-label valid"},"Enable Dockets is set to - ",this.state.postBillStatus),s.a.createElement("div",{className:"form-check"},s.a.createElement("input",{className:"form-check-input",type:"radio",name:"postBillStatus",value:"No",id:"flexRadioDefault1",onChange:this.handleChange}),s.a.createElement("label",{className:"form-check-label",for:"flexRadioDefault1"},"No")),s.a.createElement("div",{className:"form-check"},s.a.createElement("input",{className:"form-check-input",type:"radio",name:"postBillStatus",value:"Yes",id:"flexRadioDefault2",onChange:this.handleChange}),s.a.createElement("label",{className:"form-check-label",for:"flexRadioDefault1"},"Yes"))),s.a.createElement("hr",null)),s.a.createElement("br",null),s.a.createElement("h5",{className:"mb-3 background11 formsize2"},"Personal Info"),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"mb-3 col-2"},s.a.createElement("label",{className:"form-label"},"Title"),s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize",name:"title",value:this.state.title,readOnly:!0})),s.a.createElement("div",{className:"mb-3 col-2"},s.a.createElement("label",{className:"form-label valid"},"Surname"),s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize21",name:"lname",value:this.state.lname,readOnly:!0})),s.a.createElement("div",{className:"mb-3 col-2"},s.a.createElement("label",{className:"form-label"},"Firstname"),s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize21",name:"fname",value:this.state.fname,readOnly:!0})),s.a.createElement("div",{className:"mb-3 col-2"},s.a.createElement("label",{className:"form-label"},"Middle Name"),s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize21",name:"middlename",value:this.state.middlename,readOnly:!0})),s.a.createElement("div",{className:"mb-3 col-2"},s.a.createElement("label",{className:"form-label"},"Birth Day"),s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize21",name:"dob",value:this.state.dob,readOnly:!0})),s.a.createElement("div",{className:"mb-3 col-2"},s.a.createElement("label",{className:"form-label"},"Birth Month"),s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize21",name:"mob",value:this.state.mob,readOnly:!0}))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"mb-3 col-2"},s.a.createElement("label",{className:"form-label valid"},"Phone"),s.a.createElement("input",{type:"number",className:"form-control mb-3 formsize21",name:"phone",value:this.state.phone,readOnly:!0})),s.a.createElement("div",{className:"mb-3 col-2"},s.a.createElement("label",{className:"form-label"},"Email"),s.a.createElement("input",{type:"email",className:"form-control mb-3 formsize21",name:"email",value:this.state.email,readOnly:!0})),s.a.createElement("div",{className:"mb-3 col-2"},s.a.createElement("label",{className:"form-label"},"ID"),s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize21",name:"ID",value:this.state.ID,readOnly:!0})),s.a.createElement("div",{className:"mb-3 col-2"},s.a.createElement("label",{className:"form-label"},"Passport Num"),s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize21",name:"passportNum",value:this.state.passportNum,readOnly:!0})),s.a.createElement("div",{className:"mb-3 col-2"},s.a.createElement("label",{className:"form-label"},"Gender"),s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize21",name:"Gender",value:this.state.Gender,readOnly:!0})),s.a.createElement("div",{className:"mb-3 col-2"},s.a.createElement("label",{className:"form-label"},"Nationality"),s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize21",name:"Nationality",value:this.state.Nationality,readOnly:!0})),s.a.createElement("div",{className:"mb-3 col-2"},s.a.createElement("label",{className:"form-label"},"Address"),s.a.createElement("textarea",{row:"4",className:"form-control mb-3",name:"Address",value:this.state.Address,readOnly:!0})),s.a.createElement("div",{className:"mb-3 col-2"},s.a.createElement("label",{className:"form-label"},"occupation"),s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize21",name:"occupation",value:this.state.occupation,readOnly:!0})),s.a.createElement("div",{className:"mb-3 col-2"},s.a.createElement("label",{className:"form-label"},"Purpose of Visits"),s.a.createElement("textarea",{row:"4",className:"form-control mb-3 formsize21",name:"POV",value:this.state.POV,readOnly:!0})),s.a.createElement("div",{className:"mb-3 col-2"},s.a.createElement("label",{className:"form-label"},"Vehicle Reg"),s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize21",name:"vehicleReg",value:this.state.vehicleReg,readOnly:!0}))),s.a.createElement("hr",null),s.a.createElement("h5",{className:"mb-3 background11 formsize4"},"Next of Kin Details"),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"mb-3 col-2"},s.a.createElement("label",{className:"form-label"},"Surname"),s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize21",name:"NokLname",value:this.state.NokLname,readOnly:!0})),s.a.createElement("div",{className:"mb-3 col-2"},s.a.createElement("label",{className:"form-label"},"Firstname"),s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize21",name:"NokFname",value:this.state.NokFname,readOnly:!0})),s.a.createElement("div",{className:"mb-3 col-2"},s.a.createElement("label",{className:"form-label"},"Middle Name"),s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize21",name:"NokMname",value:this.state.NokMname,readOnly:!0})),s.a.createElement("div",{className:"mb-3 col-2"},s.a.createElement("label",{className:"form-label"},"Relationship"),s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize21",name:"NokRelationship",value:this.state.NokRelationship,readOnly:!0})),s.a.createElement("div",{className:"mb-3 col-2"},s.a.createElement("label",{className:"form-label"},"Phone"),s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize21",name:"NokPhone",value:this.state.NokPhone,readOnly:!0})))),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("span",null,s.a.createElement("button",{disabled:""===this.state.postBillStatus,className:"btn btn-primary printing",onClick:function(){return e.handleSubmit()}},"Save Changes"),s.a.createElement(l.b,{to:"/roomchart"},s.a.createElement("button",{className:"btn btn-danger space printing"},"Cancel Changes"))))))))}},{key:"componentDidMount",value:function(){var e=this;console.log(">>> Inside GsDidMount",this.state);var t=this.props.match.params.rmID,a=parseInt(t);fetch("".concat("https://zarvichdemo.localto.net/checkin?guest=").concat(a),{method:"GET"}).then(function(e){return e.json()}).then(function(t){t.map(function(t){var a=k()("".concat(t.arrivalDate)).format("YYYY-DD-MMM"),n=k()("".concat(t.departureDate)).format("YYYY-DD-MMM");return sessionStorage.setItem("rmNum",t.roomNumbers),e.setState({_id:t._id,status:t.status,group:t.group,roomNumbers:t.roomNumbers,roomRate:t.roomRate,roomtypeName:t.roomtypeName,dailyRate:t.dailyRate,VAT:t.VAT,TourismLevy:t.TourismLevy,ServiceChrg:t.ServiceCharge,discounType:t.discounType,discountAmount:t.discountAmount,comingFrom:t.comingFrom,goingTo:t.goingTo,arrivalDate:a,departureDate:n,stay:t.stay,postBillStatus:t.postBillStatus,title:t.title,fname:t.fname,lname:t.lname,middlename:t.middlename,dob:t.dob,mob:t.mob,phone:t.phone,email:t.email,ID:t.ID,passportNum:t.passportNum,Gender:t.Gender,Nationality:t.Nationality,Address:t.Address,occupation:t.occupation,NokLname:t.NokLname,NokFname:t.NokFname,NokMname:t.NokMname,NokRelationship:t.NokRelationship,NokPhone:t.NokPhone,POV:t.POV,vehicleReg:t.vehicleReg,roomStatus:t.roomStatus,transactionDate:t.transactionDate,calculatedstay:t.calculatedstay}),"ok"})}),fetch("".concat("https://zarvichdemo.localto.net/hoteladdress"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){t.map(function(t){return e.setState({Hotelname:t.HotelName,Hoteladdress:t.Address,Hotelphone:t.Phone}),"ok"})}),fetch("".concat("https://zarvichdemo.localto.net/org"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({groupDatax:t})}),fetch("".concat("https://zarvichdemo.localto.net/fofUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({loginDetails:t})}),this.myTimer=setTimeout(function(){var t=e.state.loginDetails,a=e.state.name;t.some(function(e){return e.name===a})?e.setState({Blogin:!0}):e.setState({Blogin:!1})},1e3)}}]),a}(n.Component),R=P,A=a(74),z=a.n(A),B=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),n=t.call(this,e),console.log(">>>Inside RMConstructor",e),n.state={checkinData:"",vacantData:"",reservationData:"",Corporate:"",Individual:"",Staff:"",Complimentary:"",CheckOut:"",TrDate:"",displayevnts:"",Totdisplayevnts:"",searchDte:""},n}return Object(p.a)(a,[{key:"render",value:function(){var e=this;console.log(">>>Inside RMrender",this.state);var t=this.state.checkinData;if("green"!==t)var a=t.length;var n=this.state.vacantData.length,o=this.state.Corporate.length,r=this.state.Individual.length,l=this.state.Staff.length,c=this.state.Complimentary.length,i=this.state.CheckOut.length,m=this.state.displayevnts.length,u=this.state.Totdisplayevnts.length;return s.a.createElement("div",{className:"black"},s.a.createElement("span",null,s.a.createElement("button",{className:"btn btn-danger buttncontrol6 mb-3 mt-3"},"Occuppied Rooms: ",a),s.a.createElement("button",{className:"btn btn-danger buttncontrol6 mb-3 mt-3"},"Vacant Rooms: ",n),s.a.createElement("button",{className:"btn btn-danger buttncontrol6 mb-3 mt-3",style:{backgroundColor:"chartreuse",color:"black",borderBlockStyle:"solid"}},"Total Reservation: ",u),s.a.createElement("button",{className:"btn buttncontrol6 mb-3 mt-3 setmarginNew",style:{backgroundColor:"green",color:"white"}},"Vacant: ",n),s.a.createElement("button",{className:"btn buttncontrol6 mb-3 mt-3",style:{backgroundColor:"blue",color:"white"}},"Corporate: ",o),s.a.createElement("button",{className:"btn buttncontrol6 mb-3 mt-3",style:{backgroundColor:"blueviolet",color:"white"}},"Individual: ",r),s.a.createElement("button",{className:"btn buttncontrol6 mb-3 mt-3",style:{backgroundColor:"deeppink",color:"white"}},"Staff: ",l),s.a.createElement("button",{className:"btn buttncontrol6 mb-3 mt-3",style:{backgroundColor:"orange",color:"white"}},"Complimentary: ",c),s.a.createElement("button",{className:"btn buttncontrol6 mb-3 mt-3",style:{backgroundColor:"black",color:"white",borderBlockStyle:"solid",borderBlockColor:"white"}},"Check Out: ",i),s.a.createElement("button",{className:"btn buttncontrol6 mb-3 mt-3",style:{backgroundColor:"chartreuse",color:"black",borderBlockStyle:"solid"},onClick:function(){localStorage.setItem("rsvpNwDte",new Date(e.state.searchDte)),e.props.history.push("/EditReservation")}},"Reservation: ",m)))}},{key:"componentDidMount",value:function(){var e=this;console.log(">>> Inside RMdidMount"),fetch("".concat("https://zarvichdemo.localto.net/getrmstatus"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({checkinData:t.map(function(e){return e.roomStatus}).filter(function(e){return"green"!==e&&"black"!==e})}),e.setState({vacantData:t.map(function(e){return e.roomStatus}).filter(function(e){return"green"===e})}),e.setState({Corporate:t.map(function(e){return e.roomStatus}).filter(function(e){return"blue"===e})}),e.setState({Individual:t.map(function(e){return e.roomStatus}).filter(function(e){return"blueviolet"===e})}),e.setState({Staff:t.map(function(e){return e.roomStatus}).filter(function(e){return"deeppink"===e})}),e.setState({Complimentary:t.map(function(e){return e.roomStatus}).filter(function(e){return"orange"===e})}),e.setState({CheckOut:t.map(function(e){return e.roomStatus}).filter(function(e){return"black"===e})})}),fetch("".concat("https://zarvichdemo.localto.net/getActive"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){t.map(function(t){return e.setState({TrDate:k()(t.date).format("YYYY-DD-MMM")}),e.setState({searchDte:t.date}),"ok"})}),setTimeout(function(){fetch("".concat("https://zarvichdemo.localto.net/getReservationBydate?selectDate=").concat(e.state.TrDate),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({displayevnts:t})}),fetch("".concat("https://zarvichdemo.localto.net/reservation?resavtnID="),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({Totdisplayevnts:t})})},1e3)}}]),a}(n.Component),G=Object(c.e)(B),Y="https://zarvichdemo.localto.net/getrmstatus",F="https://zarvichdemo.localto.net/checkin?guest=",U=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).renderRoomchart=function(e){if(e)return e.map(function(t){return e.sort(function(e,t){return e.roomNumbers-t.roomNumbers}),t.fname||t.lname||"black"===t.roomStatus||"green"!==t.roomStatus?s.a.createElement(s.a.Fragment,null,s.a.createElement(l.b,{to:"/guestForm/".concat(t.roomNumbers),key:t.roomNumbers},s.a.createElement("div",{className:"card alignroomsgreen",style:{backgroundColor:"".concat(t.roomStatus)}},s.a.createElement("div",{className:"card-body top"},s.a.createElement("h5",{className:"card-title"},t.roomNumbers),s.a.createElement("h6",{className:"card-subtitle mb-2 size"},t.fname," ",t.lname),s.a.createElement("h6",{className:"card-subtitle mb-2 size2"},t.roomtypeName))))):s.a.createElement(s.a.Fragment,null,s.a.createElement(l.b,{to:"/form/".concat(t.roomNumbers),key:t.roomNumbers},s.a.createElement("div",{className:"card alignroomsgreen",style:{backgroundColor:"".concat(t.roomStatus)}},s.a.createElement("div",{className:"card-body top"},s.a.createElement("h5",{className:"card-title"},t.roomNumbers),s.a.createElement("h6",{className:"card-subtitle mb-2 size"},t.fname," ",t.lname),s.a.createElement("h6",{className:"card-subtitle mb-2 size2"},t.roomtypeName)))))})},console.log(">>>Inside RMConstructor"),n.state={roomchart:"",guestrecord:"",loginDetails:"",name:localStorage.getItem("userInfo"),login:"",Blogin:"",transactionDatex:""},n}return Object(p.a)(a,[{key:"logout",value:function(){localStorage.removeItem("userInfo"),this.setState({login:!0})}},{key:"render",value:function(){var e=this;console.log(">>> Inside RMrender",this.state);var t=k()(this.state.transactionDatex).format("MMM DD YYYY");return null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement(T,null)):s.a.createElement(s.a.Fragment,null,s.a.createElement(G,null),s.a.createElement("div",{className:"pagebody12"},s.a.createElement("br",null),this.renderRoomchart(this.state.roomchart)),s.a.createElement("center",null,s.a.createElement("div",{className:"pagebody2"},s.a.createElement("center",null,s.a.createElement("h6",{style:{color:"yellow"}},"Active Work Date is: ",t)),s.a.createElement("div",{className:"space"},s.a.createElement("br",null),s.a.createElement("button",{className:"btn btn-danger gap6",onClick:function(){return e.props.history.push("./Reservation")}},"Reservation"),s.a.createElement("button",{disabled:"true",className:"btn btn-danger gap6",onClick:function(){return e.props.history.push("./HallHire")}},"Hall Reservation"),s.a.createElement("button",{className:"btn btn-danger gap6",onClick:function(){return e.props.history.push("./Group")}},"Register Group"),s.a.createElement("button",{className:"btn btn-danger gap6",onClick:function(){return e.props.history.push("./ReceptionMenu")}},"Reception Reports"),s.a.createElement("button",{className:"btn btn-warning gap6",onClick:function(){e.props.history.push("/BillingMenu")}},"Goto Billing"),s.a.createElement("button",{className:"btn btn-warning gap6",onClick:function(){e.props.history.push("/Laundry")}},"Goto Laundry"),s.a.createElement("button",{className:"btn btn-success gap6",onClick:function(){e.props.history.push("/Dashboard")}},"Goto Dashboard")),s.a.createElement("div",{className:"row mt-3"},s.a.createElement("div",{className:"col-3"},s.a.createElement("h6",{style:{color:"purple",marginLeft:"880px",marginBottom:"-50px"}},"Welcome, ",localStorage.getItem("userInfo").split(" ")[0]," ")),s.a.createElement("div",{className:"col-3"},s.a.createElement("h6",{type:"button",style:{color:"yellow",marginLeft:"180",textAlign:"left",marginBottom:"-50px"},onClick:function(){return e.logout()}},"Logout "))))))}},{key:"componentDidMount",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(">>> Inside RMdidMount"),e.next=3,z.a.get("".concat(Y));case 3:return t=e.sent,e.next=6,z.a.get("".concat(F));case 6:return a=e.sent,this.setState({roomchart:t.data,guestrecord:a.data}),this.myTimer=setInterval(function(){console.log(">>> Inside RMdidMount"),fetch("".concat(Y),{method:"GET"}).then(function(e){return e.json()}).then(function(e){n.setState({roomchart:e})}),fetch("".concat(F),{method:"GET"}).then(function(e){return e.json()}).then(function(e){n.setState({guestrecord:e})})},3e4),fetch("".concat("https://zarvichdemo.localto.net/fofUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){n.setState({loginDetails:e})}),this.myTimer=setTimeout(function(){var e=n.state.loginDetails,t=n.state.name;e.some(function(e){return e.name===t})?n.setState({Blogin:!0}):n.setState({Blogin:!1})},1e3),e.next=13,fetch("".concat("https://zarvichdemo.localto.net/getActive"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return n.setState({transactionDatex:e.date}),"ok"})});case 13:this.myTimer=setInterval(function(){fetch("".concat("https://zarvichdemo.localto.net/getActive"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return n.setState({transactionDatex:e.date}),"ok"})})},1e3);case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),a}(n.Component),H=U,q=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).renderCardMessages=function(e){if(e)return e.map(function(e){var t="";return""!==e.message?("No valid card is read in the sensor area of the card issuer: 550100"===e.message?t="Place the card well on the encoder or turn the card":"There is no card on the encoder."===e.message&&(t="Place a room card on the encoder"),s.a.createElement("div",{key:e._id},s.a.createElement("h3",null," ",e.message," "),s.a.createElement("h5",null," ",t," "),s.a.createElement("h6",null," ","Wait until you here the encoder beep sound before you remove card."," "),s.a.createElement("h6",null," ","Click close after you remove card"," "),s.a.createElement("br",null),s.a.createElement("button",{className:"btn btn-success",onClick:function(){n.deleteGuestCardInfo()}},"Close"))):s.a.createElement("div",{key:e._id},s.a.createElement("h3",null," ","Card Issue was successfull"," "),s.a.createElement("h5",null," ","Click close after you remove card"," "),s.a.createElement("br",null),s.a.createElement("button",{className:"btn btn-success",onClick:function(){n.deleteGuestCardInfo()}},"Close"))})},console.log(">>> inside ExtContructor",e),n.state={_id:"",status:"",group:"",roomNumbers:"",roomRate:"",roomtypeName:"",dailyRate:"",discounType:"",discountAmount:"",comingFrom:"",goingTo:"",arrivalDate:"",departureDate:new Date,stay:"",postBillStatus:"",title:"",fname:"",lname:"",middlename:"",dob:"",mob:"",phone:"",email:"",ID:"",passportNum:"",Gender:"",Nationality:"",Address:"",occupation:"",NokLname:"",NokFname:"",NokMname:"",NokRelationship:"",NokPhone:"",POV:"",vehicleReg:"",roomStatus:"",newDepartureDate:new Date,transactionDate:"",calculatedstay:"",loginDetails:"",name:localStorage.getItem("userInfo"),login:"",Blogin:"",cardDate:"",cardMessages:[],cardModal:!1,cardData:""},n.checkouthandleChange=n.checkouthandleChange.bind(Object(f.a)(n)),n}return Object(p.a)(a,[{key:"checkouthandleChange",value:function(e){var t=this;this.setState({departureDate:e}),this.myTimer=setTimeout(function(){var e=t.state.departureDate,a=k()(e),n=k()(t.state.arrivalDate),s=a.diff(n),o=Math.ceil(s/864e5);t.setState({stay:o}),t.formatDate()},1e3),this.myTimer=setTimeout(function(){var e=0+t.state.stay*t.state.dailyRate;t.setState({calculatedstay:e})},1e3)}},{key:"formatDate",value:function(){var e="".concat(this.state.departureDate),t=k()(e).format("YYMMDD");this.setState({cardDate:t})}},{key:"rendercheckOutDate",value:function(){return s.a.createElement("div",null,s.a.createElement(y.a,{selected:this.state.departureDate,onChange:this.checkouthandleChange,minDate:Object(N.default)(this.state.departureDate,1),maxDate:Object(N.default)(new Date,31),dropdownMode:"select",dateFormat:"MMM/d/ yyyy"}))}},{key:"onCloseModalCard",value:function(){this.setState({cardModal:!1})}},{key:"handleSubmit",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o,r,l,c;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.props.match.params.stID,a=sessionStorage.getItem("extStayID"),n=k()(this.state.departureDate).format("YYYY-DD-MMM"),s={refID:"".concat(this.state._id),arrivalDate:"".concat(this.state.arrivalDate),departureDate:"".concat(this.state.departureDate),roomNumbers:"".concat(this.state.roomNumbers),dailyRate:"".concat(this.state.dailyRate),description:"Daily Room Rate"},o={status:"".concat(this.state.status),refID:"".concat(this.state._id),group:"".concat(this.state.group),roomRate:"".concat(this.state.roomRate),roomtypeName:"".concat(this.state.roomtypeName),dailyRate:"".concat(this.state.dailyRate),discounType:"".concat(this.state.discounType),discountAmount:"".concat(this.state.discountAmount),comingFrom:"".concat(this.state.comingFrom),goingTo:"".concat(this.state.goingTo),arrivalDate:"".concat(this.state.arrivalDate),departureDate:n,stay:"".concat(this.state.stay),postBillStatus:"".concat(this.state.postBillStatus),title:"".concat(this.state.title),fname:"".concat(this.state.fname),lname:"".concat(this.state.lname),middlename:"".concat(this.state.middlename),dob:"".concat(this.state.dob),mob:"".concat(this.state.mob),phone:"".concat(this.state.phone),email:"".concat(this.state.email),ID:"".concat(this.state.ID),passportNum:"".concat(this.state.passportNum),Gender:"".concat(this.state.Gender),Nationality:"".concat(this.state.Nationality),Address:"".concat(this.state.Address),occupation:"".concat(this.state.occupation),NokLname:"".concat(this.state.NokLname),NokFname:"".concat(this.state.NokFname),NokMname:"".concat(this.state.NokMname),NokRelationship:"".concat(this.state.NokRelationship),NokPhone:"".concat(this.state.NokPhone),POV:"".concat(this.state.POV),vehicleReg:"".concat(this.state.vehicleReg),roomStatus:"".concat(this.state.roomStatus),transactionDate:"".concat(this.state.transactionDate),calculatedstay:"".concat(this.state.calculatedstay)},e.next=8,fetch("".concat("https://zarvichdemo.localto.net/guestupdate","/").concat(t),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(o)});case 8:if(r=e.sent,console.log("result>  "+r),""===this.state.group){e.next=16;break}return e.next=14,fetch("".concat("https://zarvichdemo.localto.net/groupguestupdate","/").concat(t),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(o)});case 14:l=e.sent,console.log("resultd>  "+l);case 16:return e.next=18,fetch("".concat("https://zarvichdemo.localto.net/rmstatus3","/").concat(a),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(s)});case 18:c=e.sent,console.log("result2> "+c),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(0),console.log(e.t0);case 25:case"end":return e.stop()}},e,this,[[0,22]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return console.log(">>> Inside Exdetails",this.state),null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement(T,null)):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"background120"},s.a.createElement("div",{className:"formdesign101"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-4"},s.a.createElement("label",{className:"form-label valid"},"Names"),s.a.createElement("label",{className:"form-control mb-3 formsize2"},this.state.lname," ",this.state.fname," ")),s.a.createElement("div",{className:"col-4"},s.a.createElement("label",{className:"form-label valid"},"Room No."),s.a.createElement("label",{className:"form-control mb-3 formsize2"},this.state.roomNumbers," ")),s.a.createElement("div",{className:"col-4"},s.a.createElement("label",{className:"form-label valid"},"Daily Room Rate"),s.a.createElement("p",{className:"form-control mb-3 formsize2"}," ",s.a.createElement(E.a,{value:this.state.dailyRate,displayType:"text",thousandSeparator:!0,prefix:"N"}),".00"))),s.a.createElement("hr",null),s.a.createElement("form",null,s.a.createElement("center",null,s.a.createElement("h5",{className:"mb-3"}," Existing Dates"),s.a.createElement("label",{className:"form-label"},"Arrival Date"),s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize",name:"arrivalDate",value:this.state.arrivalDate,readOnly:!0}),s.a.createElement("label",{className:"form-label"},"Departure Date"),s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize",name:"departureDate",value:this.state.newDepartureDate,readOnly:!0}),s.a.createElement("input",{type:"hidden",name:"group",value:this.state.group}),s.a.createElement("input",{type:"hidden",name:"roomRate",value:this.state.roomRate}),s.a.createElement("input",{type:"hidden",name:"status",value:this.state.status}),s.a.createElement("input",{type:"hidden",name:"_id",value:this.state._id}),s.a.createElement("input",{type:"hidden",name:"roomtypeName",value:this.state.roomtypeName}),s.a.createElement("input",{type:"hidden",name:"dailyRate",value:this.state.dailyRate}),s.a.createElement("input",{type:"hidden",name:"discountType",value:this.state.discounType}),s.a.createElement("input",{type:"hidden",name:"discountAmount",value:this.state.discountAmount}),s.a.createElement("input",{type:"hidden",name:"comingFrom",value:this.state.comingFrom}),s.a.createElement("input",{type:"hidden",name:"goingTo",value:this.state.goingTo}),s.a.createElement("input",{type:"hidden",name:"stay",value:this.state.stay}),s.a.createElement("input",{type:"hidden",name:"title",value:this.state.title}),s.a.createElement("input",{type:"hidden",name:"middlename",value:this.state.middlename}),s.a.createElement("input",{type:"hidden",name:"dob",value:this.state.dob}),s.a.createElement("input",{type:"hidden",name:"mob",value:this.state.mob}),s.a.createElement("input",{type:"hidden",name:"phone",value:this.state.phone}),s.a.createElement("input",{type:"hidden",name:"email",value:this.state.email}),s.a.createElement("input",{type:"hidden",name:"ID",value:this.state.ID}),s.a.createElement("input",{type:"hidden",name:"passportNum",value:this.state.passportNum}),s.a.createElement("input",{type:"hidden",name:"Gender",value:this.state.Gender}),s.a.createElement("input",{type:"hidden",name:"Nationality",value:this.state.Nationality}),s.a.createElement("input",{type:"hidden",name:"Address",value:this.state.Address}),s.a.createElement("input",{type:"hidden",name:"occupation",value:this.state.occupation}),s.a.createElement("input",{type:"hidden",name:"NokLname",value:this.state.NokLname}),s.a.createElement("input",{type:"hidden",name:"NokFname",value:this.state.NokFname}),s.a.createElement("input",{type:"hidden",name:"NokMname",value:this.state.NokMname}),s.a.createElement("input",{type:"hidden",name:"NokRelationship",value:this.state.NokRelationship}),s.a.createElement("input",{type:"hidden",name:"NokPhone",value:this.state.NokPhone}),s.a.createElement("input",{type:"hidden",name:"POV",value:this.state.POV}),s.a.createElement("input",{type:"hidden",name:"vehicleReg",value:this.state.vehicleReg}),s.a.createElement("input",{type:"hidden",name:"roomStatus",value:this.state.roomStatus}),s.a.createElement("br",null),s.a.createElement("hr",null),s.a.createElement("h5",{className:"mb-3"}," Change Departure Date"),s.a.createElement("label",{className:"formsize"},this.rendercheckOutDate(this.state.departureDate)),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("hr",null))),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("span",null,s.a.createElement("button",{className:"btn btn-primary",onClick:function(){return e.handleSubmit()}},"Extend Stay"),s.a.createElement(l.b,{to:"/roomchart"},s.a.createElement("button",{className:"btn btn-danger space"},"Cancel")))))),s.a.createElement("div",null)),s.a.createElement(v.a,{open:this.state.cardModal,onClose:function(){return e.onCloseModalCard()},center:!0},s.a.createElement("div",{className:"editModal"},s.a.createElement("center",null,this.renderCardMessages(this.cardMessages),";"))))}},{key:"componentDidMount",value:function(){var e=this;console.log(">>> Inside ExDidMount",this.state);var t=this.props.match.params.stID,a=parseInt(t);fetch("".concat("https://zarvichdemo.localto.net/checkin?guest=").concat(a),{method:"GET"}).then(function(e){return e.json()}).then(function(t){t.map(function(t){var a=k()("".concat(t.arrivalDate)).format("YYYY-DD-MMM"),n=k()("".concat(t.departureDate)).format("YYYY-DD-MMM");return e.setState({_id:t._id,status:t.status,group:t.group,roomNumbers:t.roomNumbers,roomRate:t.roomRate,roomtypeName:t.roomtypeName,dailyRate:t.dailyRate,discounType:t.discounType,discountAmount:t.discountAmount,comingFrom:t.comingFrom,goingTo:t.goingTo,arrivalDate:a,newDepartureDate:n,stay:t.stay,postBillStatus:t.postBillStatus,title:t.title,fname:t.fname,lname:t.lname,middlename:t.middlename,dob:t.dob,mob:t.mob,phone:t.phone,email:t.email,ID:t.ID,passportNum:t.passportNum,Gender:t.Gender,Nationality:t.Nationality,Address:t.Address,occupation:t.occupation,NokLname:t.NokLname,NokFname:t.NokFname,NokMname:t.NokMname,NokRelationship:t.NokRelationship,NokPhone:t.NokPhone,POV:t.POV,vehicleReg:t.vehicleReg,roomStatus:t.roomStatus,transactionDate:t.transactionDate,calculatedstay:t.calculatedstay}),sessionStorage.setItem("extStayID",e.state._id),"ok"})}),fetch("".concat("https://zarvichdemo.localto.net/fofUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({loginDetails:t})}),this.myTimer=setTimeout(function(){var t=e.state.loginDetails,a=e.state.name;t.some(function(e){return e.name===a})?e.setState({Blogin:!0}):e.setState({Blogin:!1})},1e3)}}]),a}(n.Component),L=q,_="https://zarvichdemo.localto.net/rooms?rates=",W="https://zarvichdemo.localto.net/roomstatus?Rnumber=",Q=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).renderRooms=function(e){if(e)return e.map(function(e,t){return s.a.createElement("option",{key:t,value:e.roomNumbers},e.roomNumbers)})},n.renderRoomTypes=function(e){if(e)return e.map(function(e,t){return""===n.state.roomNumbers?s.a.createElement("h5",null,"Select a Room Number"):""!==n.state.roomNumbers?s.a.createElement("option",{key:t,value:e.roomtypeName},e.roomtypeName):"ok"})},n.renderRoomRates=function(e){if(e)return e.map(function(e,t){return""===n.state.roomNumbers?s.a.createElement("h5",null,"Select a Room Number"):""!==n.state.roomNumbers?s.a.createElement("option",{key:t,value:e.roomRate},e.roomRate):"ok"})},n.handleChange=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value))},n.handleChange4=function(e){if(n.setState(Object(h.a)({},e.target.name,e.target.value)),sessionStorage.setItem("drr",e.target.value),""===n.state.discountAmount){sessionStorage.setItem("disc",0);var t=0;t=t+parseInt(sessionStorage.getItem("drr"))-parseInt(sessionStorage.getItem("disc")),n.setState({dailyRate:t})}if("Amount"===n.state.discounType){sessionStorage.setItem("discAval",n.state.discountAmount);var a=0;a=a+parseInt(sessionStorage.getItem("drr"))-parseInt(sessionStorage.getItem("discAval")),n.setState({dailyRate:a})}if("FlatRate"===n.state.discounType){sessionStorage.setItem("discAval",n.state.discountAmount);var s=0;s+=parseInt(sessionStorage.getItem("discAval")),n.setState({dailyRate:s})}if("Percentage"===n.state.discounType){sessionStorage.setItem("discAval",n.state.discountAmount);var o=0,r=parseInt(sessionStorage.getItem("discAval"))/100*parseInt(sessionStorage.getItem("drr"));o=o+parseInt(sessionStorage.getItem("drr"))-r,n.setState({dailyRate:o})}},n.handleChange3=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value)),n.formatDate(),"".concat(null===sessionStorage.getItem("rcNum"))&&n.setState({displayroomtypes:"",displayroomrates:"",roomNumbers:"",roomtypeName:"",roomRate:""}),"Select Room"!==e.target.value&&(sessionStorage.setItem("rcNum",e.target.value),fetch("".concat(W).concat(sessionStorage.getItem("rcNum")),{method:"GET"}).then(function(e){return e.json()}).then(function(e){n.setState({displayroomtypes:e})}),fetch("".concat(_).concat(sessionStorage.getItem("rcNum")),{method:"GET"}).then(function(e){return e.json()}).then(function(e){n.setState({displayroomrates:e})}),n.setState({roomNumbers:e.target.value}))},console.log(">>> inside RCContructor",e),n.state={_id:"",status:"",group:"",roomNumbers:"",roomRate:"",roomtypeName:"",dailyRate:"",discountAmount:0,discounType:"",comingFrom:"",goingTo:"",arrivalDate:"",departureDate:"",stay:"",postBillStatus:"",title:"",fname:"",lname:"",middlename:"",dob:"",mob:"",phone:"",email:"",ID:"",passportNum:"",Gender:"",Nationality:"",Address:"",occupation:"",NokLname:"",NokFname:"",NokMname:"",NokRelationship:"",NokPhone:"",POV:"",vehicleReg:"",roomStatus:"",newroomNum:"",newroomtype:"",newdailyRate:"",displayrooms:"",displayroomrates:"",displayroomtypes:"",reason:"",transactionDate:"",calculatedstay:"",loginDetails:"",name:localStorage.getItem("userInfo"),login:"",Blogin:"",cardDate:"",cardMessages:[],cardModal:!1,cardData:""},n.handleChange3=n.handleChange3.bind(Object(f.a)(n)),n}return Object(p.a)(a,[{key:"formatDate",value:function(){var e="".concat(this.state.departureDate),t=k()(e).format("YYMMDD");this.setState({cardDate:t})}},{key:"handleSubmit2",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o,r,l,c,i,u,h,d,p,f;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=sessionStorage.getItem("rcNum"),a=sessionStorage.getItem("rcIndex"),n=sessionStorage.getItem("nrn"),s={roomNumbers:"".concat(this.state.roomNumbers),status:"".concat(this.state.status),roomtypeName:"".concat(this.state.roomtypeName),fname:"".concat(this.state.fname),lname:"".concat(this.state.lname),roomStatus:"".concat(this.state.roomStatus),refID:"".concat(this.state._id),BillStatus:0},o={OldRoomNum:"".concat(this.state.newroomNum),NewRoomNum:"".concat(this.state.roomNumbers),Reason:"".concat(this.state.reason),date:new Date},r={refID:"".concat(this.state._id),arrivalDate:"".concat(this.state.arrivalDate),departureDate:"".concat(this.state.departureDate),roomNumbers:"".concat(this.state.roomNumbers),dailyRate:"".concat(this.state.dailyRate),description:"Daily Room Rate"},l={roomNumbers:"".concat(this.state.newroomNum),status:"",roomtypeName:"".concat(this.state.newroomtype),fname:"",lname:"",roomStatus:"black",refID:"",BillStatus:0},c={roomNumbers:"".concat(this.state.roomNumbers),refID:"".concat(this.state._id),status:"".concat(this.state.status),group:"".concat(this.state.group),roomRate:"".concat(this.state.roomRate),roomtypeName:"".concat(this.state.roomtypeName),dailyRate:"".concat(this.state.dailyRate),discountAmount:"".concat(this.state.discountAmount),discounType:"".concat(this.state.discounType),comingFrom:"".concat(this.state.comingFrom),goingTo:"".concat(this.state.goingTo),arrivalDate:"".concat(this.state.arrivalDate),departureDate:"".concat(this.state.departureDate),stay:"".concat(this.state.stay),postBillStatus:"".concat(this.state.postBillStatus),title:"".concat(this.state.title),fname:"".concat(this.state.fname),lname:"".concat(this.state.lname),middlename:"".concat(this.state.middlename),dob:"".concat(this.state.dob),mob:"".concat(this.state.mob),phone:"".concat(this.state.phone),email:"".concat(this.state.email),ID:"".concat(this.state.ID),passportNum:"".concat(this.state.passportNum),Gender:"".concat(this.state.Gender),Nationality:"".concat(this.state.Nationality),Address:"".concat(this.state.Address),occupation:"".concat(this.state.occupation),NokLname:"".concat(this.state.NokLname),NokFname:"".concat(this.state.NokFname),NokMname:"".concat(this.state.NokMname),NokRelationship:"".concat(this.state.NokRelationship),NokPhone:"".concat(this.state.NokPhone),POV:"".concat(this.state.POV),vehicleReg:"".concat(this.state.vehicleReg),roomStatus:"".concat(this.state.roomStatus),transactionDate:"".concat(this.state.transactionDate),calculatedstay:"".concat(this.state.calculatedstay)},e.next=11,fetch("".concat("https://zarvichdemo.localto.net/guestupdate2","/").concat(a),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(c)});case 11:if(i=e.sent,console.log("result>  "+i),""===this.state.group){e.next=19;break}return e.next=17,fetch("".concat("https://zarvichdemo.localto.net/groupguestupdate2","/").concat(a),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(c)});case 17:u=e.sent,console.log("resultc>  "+u);case 19:return e.next=21,fetch("".concat("https://zarvichdemo.localto.net/rmstatus2","/").concat(t),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(s)});case 21:return h=e.sent,console.log("result3> "+h),e.next=25,fetch("".concat("https://zarvichdemo.localto.net/rmstatus","/").concat(n),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(l)});case 25:return d=e.sent,console.log("result4> "+d),e.next=29,fetch("".concat("https://zarvichdemo.localto.net/rmstatus3","/").concat(a),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(r)});case 29:return p=e.sent,console.log("result5> "+p),e.next=33,fetch("".concat("https://zarvichdemo.localto.net/postRoomChangeReason"),{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(o)});case 33:f=e.sent,console.log("result6> "+f),e.next=40;break;case 37:e.prev=37,e.t0=e.catch(0),console.log(e.t0);case 40:case"end":return e.stop()}},e,this,[[0,37]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return console.log(">>> Inside RCdetails",this.state),null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement(T,null)):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"background190"},s.a.createElement("div",{className:"formdesign110"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-3"},s.a.createElement("label",{className:"form-label valid"},"Names"),s.a.createElement("label",{className:"form-control mb-3 formsize2"},this.state.lname," ",this.state.fname," ")),s.a.createElement("div",{className:"col-3"},s.a.createElement("label",{className:"form-label valid"},"Room Status"),s.a.createElement("label",{className:"form-control mb-3 formsize6"},this.state.newroomNum," | ",this.state.newroomtype," ")),s.a.createElement("div",{className:"col-3"},s.a.createElement("label",{className:"form-label valid"},"Daily Room Rate"),s.a.createElement("p",{className:"form-control mb-3 formsize2"}," ",s.a.createElement(E.a,{value:this.state.newdailyRate,displayType:"text",thousandSeparator:!0,prefix:"N"}),".00")),s.a.createElement("div",{className:"col-3"},s.a.createElement("label",{className:"form-label valid"},"Discount (",this.state.discounType,")"),s.a.createElement("input",{type:"number",className:"form-control mb-3 formsize2",name:"discountAmount",value:this.state.discountAmount,onChange:this.handleChange}))),s.a.createElement("hr",null),s.a.createElement("form",null,s.a.createElement("center",null,s.a.createElement("h5",{className:"mb-3"}," Room Change"),s.a.createElement("label",{className:"form-label"},"Vacant Rooms"),s.a.createElement("select",{className:"form-select formsize mb-3",name:"roomNumbers",onChange:this.handleChange3.bind(this)},s.a.createElement("option",{selected:!0,value:""},"Select Room"),this.renderRooms(this.state.displayrooms)),s.a.createElement("label",{className:"form-label"},"Room Types"),s.a.createElement("select",{className:"form-select formsize mb-3",name:"roomtypeName",onChange:this.handleChange},s.a.createElement("option",{selected:!0,value:""},"Select Room Type"),this.renderRoomTypes(this.state.displayroomtypes)),s.a.createElement("label",{className:"form-label"},"Room Rate"),s.a.createElement("select",{className:"form-select formsize mb-3",name:"roomRate",onChange:this.handleChange4},s.a.createElement("option",{selected:!0,value:""},"Select Room Rate"),this.renderRoomRates(this.state.displayroomrates)),s.a.createElement("label",{className:"form-label"},"Reason for Room Change"),s.a.createElement("textarea",{row:"4",className:"form-control formsize mb-3",name:"reason",value:this.state.reason,onChange:this.handleChange}),s.a.createElement("input",{type:"hidden",name:"departureDate",value:this.state.departureDate}),s.a.createElement("input",{type:"hidden",name:"arrivalDate",value:this.state.arrivalDate}),s.a.createElement("input",{type:"hidden",name:"group",value:this.state.group}),s.a.createElement("input",{type:"hidden",name:"status",value:this.state.status}),s.a.createElement("input",{type:"hidden",name:"_id",value:this.state._id}),s.a.createElement("input",{type:"hidden",name:"discounType",value:this.state.discounType}),s.a.createElement("input",{type:"hidden",name:"discountAmount",value:this.state.discountAmount}),s.a.createElement("input",{type:"hidden",name:"comingFrom",value:this.state.comingFrom}),s.a.createElement("input",{type:"hidden",name:"goingTo",value:this.state.goingTo}),s.a.createElement("input",{type:"hidden",name:"stay",value:this.state.stay}),s.a.createElement("input",{type:"hidden",name:"title",value:this.state.title}),s.a.createElement("input",{type:"hidden",name:"middlename",value:this.state.middlename}),s.a.createElement("input",{type:"hidden",name:"dob",value:this.state.dob}),s.a.createElement("input",{type:"hidden",name:"mob",value:this.state.mob}),s.a.createElement("input",{type:"hidden",name:"phone",value:this.state.phone}),s.a.createElement("input",{type:"hidden",name:"email",value:this.state.email}),s.a.createElement("input",{type:"hidden",name:"ID",value:this.state.ID}),s.a.createElement("input",{type:"hidden",name:"passportNum",value:this.state.passportNum}),s.a.createElement("input",{type:"hidden",name:"Gender",value:this.state.Gender}),s.a.createElement("input",{type:"hidden",name:"Nationality",value:this.state.Nationality}),s.a.createElement("input",{type:"hidden",name:"Address",value:this.state.Address}),s.a.createElement("input",{type:"hidden",name:"occupation",value:this.state.occupation}),s.a.createElement("input",{type:"hidden",name:"NokLname",value:this.state.NokLname}),s.a.createElement("input",{type:"hidden",name:"NokFname",value:this.state.NokFname}),s.a.createElement("input",{type:"hidden",name:"NokMname",value:this.state.NokMname}),s.a.createElement("input",{type:"hidden",name:"NokRelationship",value:this.state.NokRelationship}),s.a.createElement("input",{type:"hidden",name:"NokPhone",value:this.state.NokPhone}),s.a.createElement("input",{type:"hidden",name:"POV",value:this.state.POV}),s.a.createElement("input",{type:"hidden",name:"vehicleReg",value:this.state.vehicleReg}),s.a.createElement("input",{type:"hidden",name:"roomStatus",value:this.state.roomStatus}),s.a.createElement("hr",null),s.a.createElement("label",{className:"form-label valid"},"Daily Room Rate"),s.a.createElement("p",{className:"form-control mb-3 formsize2"}," ",s.a.createElement(E.a,{value:this.state.dailyRate,displayType:"text",thousandSeparator:!0,prefix:"N"}),".00"),s.a.createElement("hr",null))),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("span",null,s.a.createElement("button",{disabled:""===this.state.dailyRate||""===this.state.reason,className:"btn btn-primary",onClick:function(){return e.handleSubmit2()}},"Change Room"),s.a.createElement(l.b,{to:"/roomchart"},s.a.createElement("button",{className:"btn btn-danger space"},"Cancel Changes")))))),s.a.createElement("div",null)))}},{key:"componentDidMount",value:function(){var e=this;console.log(">>> Inside ExDidMount",this.state);var t=this.props.match.params.rcID,a=parseInt(t);fetch("".concat("https://zarvichdemo.localto.net/checkin?guest=").concat(a),{method:"GET"}).then(function(e){return e.json()}).then(function(t){t.map(function(t){var a=k()("".concat(t.arrivalDate)).format("YYYY-DD-MMM"),n=k()("".concat(t.departureDate)).format("YYYY-DD-MMM");return e.setState({_id:t._id,status:t.status,group:t.group,newdailyRate:t.dailyRate,departureDate:n,discountAmount:t.discountAmount,discounType:t.discounType,comingFrom:t.comingFrom,goingTo:t.goingTo,arrivalDate:a,newroomNum:t.roomNumbers,newroomtype:t.roomtypeName,stay:t.stay,postBillStatus:t.postBillStatus,title:t.title,fname:t.fname,lname:t.lname,middlename:t.middlename,dob:t.dob,mob:t.mob,phone:t.phone,email:t.email,ID:t.ID,passportNum:t.passportNum,Gender:t.Gender,Nationality:t.Nationality,Address:t.Address,occupation:t.occupation,NokLname:t.NokLname,NokFname:t.NokFname,NokMname:t.NokMname,NokRelationship:t.NokRelationship,NokPhone:t.NokPhone,POV:t.POV,vehicleReg:t.vehicleReg,roomStatus:t.roomStatus,transactionDate:t.transactionDate,calculatedstay:t.calculatedstay}),sessionStorage.setItem("rcIndex",t._id),sessionStorage.setItem("nrn",e.state.newroomNum),"ok"})}),fetch("".concat("https://zarvichdemo.localto.net/roomstatus?Rstatus=green"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({displayrooms:t})}),fetch("".concat("https://zarvichdemo.localto.net/fofUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({loginDetails:t})}),this.myTimer=setTimeout(function(){var t=e.state.loginDetails,a=e.state.name;t.some(function(e){return e.name===a})?e.setState({Blogin:!0}):e.setState({Blogin:!1})},1e3)}}]),a}(n.Component),J=Q,V=(a(85),function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value))},console.log(">>> inside loginConstructor",e),n.state={login:!1,userInfo:"",userPassword:"",authPassword:"",selectUserName:"",shift:""},n}return Object(p.a)(a,[{key:"login",value:function(){var e=this;fetch("".concat("https://zarvichdemo.localto.net/restUserInfo?restcode=").concat(this.state.userPassword),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({userInfo:t}),e.myTimer=setTimeout(function(){e.state.userInfo.length>0&&(e.setState({login:!1}),window.location.reload(),t.map(function(t){return localStorage.setItem("userInfo",t.name),localStorage.setItem("shift",e.state.shift),"ok"}))},1e3)})}},{key:"onCloseModallogin",value:function(){this.setState({login:!0})}},{key:"render",value:function(){var e=this;return console.log(">>> Inside logindetails",this.state),s.a.createElement(s.a.Fragment,null,s.a.createElement(v.a,{open:this.state.login,onClose:function(){return e.onCloseModallogin()},center:!0},s.a.createElement("div",null,s.a.createElement("div",{className:"formdesign152"},s.a.createElement("h6",{className:"mb-3"},"Login First"),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("input",{type:"password",autoComplete:"off",className:"form-control mb-3 formsize51",name:"userPassword",require:!0,placeholder:"Enter password",value:this.state.userPassword,onChange:this.handleChange}),s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize51",name:"shift",require:!0,placeholder:"Select Shift",value:this.state.shift,list:"shift",onChange:this.handleChange}),s.a.createElement("datalist",{id:"shift"},s.a.createElement("option",{value:"Morning Shift"}),s.a.createElement("option",{value:"Night Shift"}),s.a.createElement("option",{value:"All Day"})),s.a.createElement("button",{disabled:""===this.state.userPassword||""===this.state.shift,className:"btn btn-warning formsize91",onClick:function(){return e.login()}},"Login")))))))}},{key:"componentDidMount",value:function(){var e=this;console.log(">>> Inside loginDidMount",this.state),fetch("".concat("https://zarvichdemo.localto.net/restUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({selectUserName:t,login:!0})})}}]),a}(n.Component)),K=V,X="https://zarvichdemo.localto.net/restaurant",Z="https://zarvichdemo.localto.net/checkin?docket=Yes",$="https://zarvichdemo.localto.net/checkin?roomNumID=",ee="https://zarvichdemo.localto.net/paymentMethods",te="https://zarvichdemo.localto.net/restaurantTablePost",ae="https://zarvichdemo.localto.net/restTable",ne="https://zarvichdemo.localto.net/getRestBarStore",se="https://zarvichdemo.localto.net/getRestSalesQty",oe=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleCost=function(e){if(null!==n.state.selected){var t=e.reduce(function(e,t){return e+t.mealPrice*t.qty},0);n.setState({cost:t})}null!==n.state.cost&&(fetch("".concat(Z),{method:"GET"}).then(function(e){return e.json()}).then(function(e){n.setState({displayRoomNums:e})}),fetch("".concat(ee),{method:"GET"}).then(function(e){return e.json()}).then(function(e){n.setState({displayPaymentMethods:e})}),localStorage.setItem("printMenus",JSON.stringify(e)),localStorage.removeItem("btnCntrl"),localStorage.removeItem("delcntrl"))},n.addqty=function(){var e=n.state.selected.map(function(e){return parseInt(e.qty+1)});n.setState({selected:e})},n.removeAll=function(e){var t=n.state.selected.filter(function(t){return t.id===e});n.setState({selected:t}),n.setState({cost:0}),n.setState({roomNumbers:""}),n.setState({amountPaid:""}),n.setState({displayRoomNums:""}),n.setState({paymentMethod:""}),n.setState({displayPaymentMethods:""}),n.setState({displayPaymentMethods:"",DrinkStore:0,DrinkSalesQty:0,stockBal:0})},n.handleChange=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value))},n.handleChange3=function(e){""===n.state.Newmeal&&""===n.state.Newprice&&""===n.state.Newid||n.setState(Object(h.a)({},e.target.name,e.target.value))},n.handleChange2=function(e){console.log("inside handle",n.props),n.setState(Object(h.a)({},e.target.name,e.target.value)),fetch("".concat($).concat(e.target.value),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return n.setState({guestInhouseID:e.refID,group:e.group}),"ok"})})},console.log(">>>Inside RESConstructor",e),n.state={Newmeal:"",Newprice:"",Newqty:0,Newid:"",edit:!1,credit:!1,editreceipt:!1,compModal:!1,report:!1,printStop:0,docketFirst:0,printBTN:"Print",print:0,blockTable:0,IDfound:[],menu:"",meal:"",mealPrice:"",mealQuantity:"",mealId:Math.floor(1e4*Math.random()),guestInhouseID:"",selected:[],menuID:"",menulist:"",cost:0,amountPaid:"",roomNumbers:"",paymentMethod:"",displayPaymentMethods:"",displayRoomNums:"",transactionDate:"",tables:"",group:"",newTable:"",loginDetails:"",name:localStorage.getItem("userInfo"),login:"",Blogin:"",shiftcolor:"",shift:localStorage.getItem("shift"),DrinkstoreData:[],DrinkSalesQtyData:[],DrinkStore:0,DrinkSalesQty:0,stockBal:0,DrinkSalesQtyReportData:[],useReportName:"",useReportShift:"",useReportDate:"",totalSales:0,Stockbtn:"Add",NewtableNum:0,creditSales:"",TotalCredit:0,creditPaid:0,payNwMeth:"",TotalCreditPaid:0,Hotelname:"",Hoteladdress:"",Hotelphone:"",pass:"",pword:!1,pword2:!1},n}return Object(p.a)(a,[{key:"onOpenPword",value:function(){"Credit"===this.state.paymentMethod?this.setState({pword:!0}):(this.setState({pword:!1}),this.onOpenModalreceipt(),this.postQty())}},{key:"onClosePword",value:function(){this.setState({pword:!1})}},{key:"AllowRefund",value:function(){"6849"===this.state.pass?(this.onOpenModalreceipt(),this.postQty(),this.onClosePword()):alert("Access Denied")}},{key:"onOpenModaltoprint",value:function(){this.setState({edit:!0})}},{key:"onOpenCompModal",value:function(){this.setState({compModal:!0})}},{key:"onCloseCompModal",value:function(){this.setState({compModal:!1})}},{key:"onCloseModaltoprint",value:function(){this.setState({edit:!1})}},{key:"onCloseModalCredit",value:function(){this.setState({credit:!1,creditPaid:0})}},{key:"onOpenModalreceipt",value:function(){this.setState({editreceipt:!0})}},{key:"onCloseModalreceipt",value:function(){this.setState({editreceipt:!1})}},{key:"onOpenModalreport",value:function(){this.setState({report:!0})}},{key:"onCloseModalreport",value:function(){this.setState({report:!1})}},{key:"handleReport",value:function(){var e=this,t=k()(this.state.transactionDate).format("MMM DD YYYY"),a=localStorage.getItem("userInfo"),n="".concat(se,"?useDate=").concat(t,"&&useshift=").concat(this.state.shift,"&&userstaff=").concat(a);fetch("".concat(n),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({DrinkSalesQtyReportData:t})}),this.myTimer=setTimeout(function(){if(e.state.DrinkSalesQtyReportData.length>0){var t=e.state.DrinkSalesQtyReportData,n=t.find(function(e){return e.user===a}),s=[];s.push(n),e.setState({useReportName:s.map(function(e){return e.user})}),e.setState({useReportShift:s.map(function(e){return e.shift})}),e.setState({useReportDate:s.map(function(e){return e.tranDate})});var o=t.reduce(function(e,t){return e+parseInt(t.productPrice*t.Quantity)},0);e.setState({totalSales:o}),e.onOpenModalreport()}else alert("No Sales was posted by "+a)},1e3)}},{key:"handleStock",value:function(){var e=this;if(this.state.DrinkstoreData.length>0){var t=sessionStorage.getItem("meal"),a=this.state.DrinkstoreData.filter(function(e){return e.productName.includes(t)}).reduce(function(e,t){return e+parseInt(t.piecesOut)},0);this.setState({DrinkStore:a});var n=this.state.DrinkSalesQtyData.filter(function(e){return e.productName.includes(t)}).reduce(function(e,t){return e+parseInt(t.Quantity)},0);this.setState({DrinkSalesQty:n}),this.myTimer=setTimeout(function(){var t=0+e.state.DrinkStore-e.state.DrinkSalesQty;e.setState({stockBal:t})},1e3)}}},{key:"logout",value:function(){localStorage.removeItem("userInfo"),this.setState({login:!0})}},{key:"addToTable",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=sessionStorage.getItem("tableNumber2"),a=this.state.selected,n={selected:a.map(function(e){return e}),billCost:this.state.cost,tableNum:sessionStorage.getItem("tableNumber2"),user:localStorage.getItem("userInfo")},e.next=6,fetch("".concat(te,"/").concat(t),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)});case 6:s=e.sent,console.log("result>  "+s),this.setState({selected:[]}),localStorage.setItem("btnCntrl",!0),this.setState({cost:0}),this.setState({roomNumbers:""}),this.setState({displayRoomNums:""}),this.setState({displayPaymentMethods:""}),this.setState({paymentMethod:""}),this.setState({printStop:0}),localStorage.removeItem("delcntrl"),sessionStorage.removeItem("tableNumber2"),fetch("".concat(ae),{method:"GET"}).then(function(e){return e.json()}).then(function(e){o.setState({tables:e})}),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(0),console.log(e.t0);case 24:case"end":return e.stop()}},e,this,[[0,21]])}));return function(){return e.apply(this,arguments)}}()},{key:"NewTable",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=sessionStorage.getItem("tableNumber2"),a=this.state.selected,n={selected:a.map(function(e){return e}),billCost:this.state.cost,tableNum:t},0!==this.state.cost){e.next=9;break}alert("If you click table Number again without an order, I will slap you!"),sessionStorage.removeItem("tableNumber2"),e.next=23;break;case 9:return e.next=11,fetch("".concat(te,"/").concat(t),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)});case 11:s=e.sent,console.log("result>  "+s),this.setState({selected:[]}),localStorage.setItem("btnCntrl",!0),this.setState({cost:0}),this.setState({roomNumbers:""}),this.setState({displayRoomNums:""}),this.setState({displayPaymentMethods:""}),this.setState({paymentMethod:""}),localStorage.removeItem("delcntrl"),this.setState({newTable:""}),fetch("".concat(ae),{method:"GET"}).then(function(e){return e.json()}).then(function(e){o.setState({tables:e})});case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(0),console.log(e.t0);case 28:case"end":return e.stop()}},e,this,[[0,25]])}));return function(){return e.apply(this,arguments)}}()},{key:"getTableR",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{t=sessionStorage.getItem("tableNumber2"),fetch("".concat("https://zarvichdemo.localto.net/restTable?resttableID=").concat(t),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return a.setState({selected:e.selected,cost:e.billCost,NewtableNum:1}),"ok"}),localStorage.removeItem("btnCntrl")}),fetch("".concat(Z),{method:"GET"}).then(function(e){return e.json()}).then(function(e){a.setState({displayRoomNums:e})}),fetch("".concat(ee),{method:"GET"}).then(function(e){return e.json()}).then(function(e){a.setState({displayPaymentMethods:e})}),localStorage.setItem("delcntrl",!0),this.setState({printStop:1})}catch(n){console.log(n)}case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"postQty",value:function(){var e=this;try{this.state.selected.map(function(t){var a=t.meal,n=t.mealPrice,s=t.qty,o={id:t.tranID,productName:a,productPrice:n,Quantity:parseInt(s),user:localStorage.getItem("userInfo"),tranDate:k()(e.state.transactionDate).format("MMM DD YYYY"),shift:localStorage.getItem("shift")},r=fetch("".concat("https://zarvichdemo.localto.net/postRestSalesQty"),{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(o)});return console.log("result>  "+r),e.setState({Newmeal:"",Newprice:"",Newqty:0,Newid:"",DrinkstoreData:[],DrinkSalesQtyData:[]}),fetch("".concat(ne),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({DrinkstoreData:t})}),fetch("".concat(se),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({DrinkSalesQtyData:t})}),"ok"})}catch(t){console.log(t)}}},{key:"buttonClick",value:function(){var e=this;fetch("".concat("https://zarvichdemo.localto.net/menuitems?mealtypes=").concat(this.state.menuID),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({menulist:t})})}},{key:"sendtoprinter",value:function(){window.print()}},{key:"sendtoprinter2",value:function(){"Print"===this.state.printBTN?(window.print(),this.setState({printBTN:"Close"})):"Close"===this.state.printBTN&&(this.setState({edit:!1}),this.setState({printBTN:"Print"}),this.setState({print:0,printStop:0,DrinkSalesQty:0,stockBal:0,blockTable:0}))}},{key:"handleCredit",value:function(){var e=this,t=localStorage.getItem("userInfo");fetch("".concat("https://zarvichdemo.localto.net/restaurantCredit?RCstaff=").concat(t),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({creditSales:t}),t.map(function(a){var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.creditAmount)},0);e.setState({TotalCredit:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.creditPaid)},0);return e.setState({TotalCreditPaid:s}),"ok"})}),this.myTimer=setTimeout(function(){e.setState({credit:!0})},1e3)}},{key:"handleSubmit",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o,r,l,c,i,u,h,d,p,f=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=sessionStorage.getItem("tableNumber2"),a={selected:[],billCost:"",tableNum:sessionStorage.getItem("tableNumber2")},"POS"!==this.state.paymentMethod){e.next=9;break}return n={docketNum:"Rest"+Math.floor(1e4*Math.random()),date:k()(this.state.transactionDate).format("MMM DD YYYY"),cost:"".concat(this.state.cost),POSAmount:"".concat(this.state.amountPaid),CashAmount:0,TransferAmount:0,CompDebit:0,roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod),description:"Restaurant Sales",department:"Restaurant Sales",docketDetails:this.state.selected,group:"".concat(this.state.group),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=7,fetch(X,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)});case 7:s=e.sent,console.log("result5>  "+s);case 9:if("Cash"!==this.state.paymentMethod){e.next=15;break}return o={docketNum:"Rest"+Math.floor(1e4*Math.random()),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),cost:"".concat(this.state.cost),CashAmount:"".concat(this.state.amountPaid),POSAmount:0,TransferAmount:0,CompDebit:0,roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod),description:"Restaurant Sales",department:"Restaurant Sales",docketDetails:this.state.selected,group:"".concat(this.state.group),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=13,fetch(X,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(o)});case 13:r=e.sent,console.log("result4>  "+r);case 15:if("Transfer"!==this.state.paymentMethod){e.next=21;break}return l={docketNum:"Rest"+Math.floor(1e4*Math.random()),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),cost:"".concat(this.state.cost),TransferAmount:"".concat(this.state.amountPaid),POSAmount:0,CashAmount:0,CompDebit:0,roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod),description:"Restaurant Sales",department:"Restaurant Sales",docketDetails:this.state.selected,group:"".concat(this.state.group),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=19,fetch(X,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(l)});case 19:c=e.sent,console.log("result3>  "+c);case 21:if("Complimentary"!==this.state.paymentMethod){e.next=27;break}return i={docketNum:"Rest"+Math.floor(1e4*Math.random()),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),cost:"".concat(this.state.cost),amountPaid:"".concat(this.state.amountPaid),CompDebit:"".concat(this.state.cost),POSAmount:0,CashAmount:0,TransferAmount:0,roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod),description:"Restaurant Sales",department:"Restaurant Sales",docketDetails:this.state.selected,group:"".concat(this.state.group),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=25,fetch(X,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(i)});case 25:u=e.sent,console.log("result2>  "+u);case 27:if("Credit"!==this.state.paymentMethod){e.next=33;break}return h={docketNum:"Rest"+Math.floor(1e4*Math.random()),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),cost:"".concat(this.state.cost),creditAmount:"".concat(this.state.amountPaid),paymentMethod:"".concat(this.state.paymentMethod),description:"Restaurant Credit",department:"Restaurant Credit",docketDetails:this.state.selected,group:"".concat(this.state.group),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift"),creditPaid:"".concat(this.state.creditPaid)},e.next=31,fetch("https://zarvichdemo.localto.net/restCredit",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(h)});case 31:d=e.sent,console.log("result2>  "+d);case 33:return e.next=35,fetch("".concat(te,"/").concat(t),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(a)});case 35:p=e.sent,console.log("result12>  "+p),alert("Sales Posted"),this.setState({selected:[]}),this.setState({cost:0}),this.setState({amountPaid:""}),this.setState({displayRoomNums:""}),this.setState({roomNumbers:""}),this.setState({paymentMethod:""}),this.setState({displayPaymentMethods:""}),this.setState({group:""}),this.setState({shift:"",Newmeal:"",Newprice:"",Newqty:0,Newid:"",DrinkstoreData:[],DrinkSalesQtyData:[],NewtableNum:0}),localStorage.removeItem("delcntrl"),sessionStorage.removeItem("tableNumber2"),fetch("".concat(ae),{method:"GET"}).then(function(e){return e.json()}).then(function(e){f.setState({tables:e})}),e.next=55;break;case 52:e.prev=52,e.t0=e.catch(0),console.log(e.t0);case 55:case"end":return e.stop()}},e,this,[[0,52]])}));return function(){return e.apply(this,arguments)}}()},{key:"postCredit",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o,r,l,c;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={docketNum:"Rest"+Math.floor(1e4*Math.random()),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),cost:0,creditAmount:0,paymentMethod:"".concat(this.state.paymentMethod),description:"Restaurant Credit",department:"Restaurant Credit",docketDetails:this.state.selected,group:"".concat(this.state.group),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift"),creditPaid:"".concat(this.state.creditPaid)},e.next=4,fetch("https://zarvichdemo.localto.net/restCredit",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)});case 4:if(a=e.sent,console.log("creditPay>  "+a),"POS"!==this.state.paymentMethod){e.next=12;break}return n={docketNum:"Rest"+Math.floor(1e4*Math.random()),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),cost:"".concat(this.state.cost),POSAmount:"".concat(this.state.creditPaid),CashAmount:0,TransferAmount:0,CompDebit:0,roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod),description:"Restaurant Credit",department:"Restaurant Sales",docketDetails:this.state.selected,group:"".concat(this.state.group),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=10,fetch(X,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)});case 10:s=e.sent,console.log("result5>  "+s);case 12:if("Cash"!==this.state.paymentMethod){e.next=18;break}return o={docketNum:"Rest"+Math.floor(1e4*Math.random()),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),cost:"".concat(this.state.cost),CashAmount:"".concat(this.state.creditPaid),POSAmount:0,TransferAmount:0,CompDebit:0,roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod),description:"Restaurant Credit",department:"Restaurant Sales",docketDetails:this.state.selected,group:"".concat(this.state.group),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=16,fetch(X,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(o)});case 16:r=e.sent,console.log("result4>  "+r);case 18:if("Transfer"!==this.state.paymentMethod){e.next=24;break}return l={docketNum:"Rest"+Math.floor(1e4*Math.random()),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),cost:"".concat(this.state.cost),TransferAmount:"".concat(this.state.creditPaid),POSAmount:0,CashAmount:0,CompDebit:0,roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod),description:"Restaurant Credit",department:"Restaurant Sales",docketDetails:this.state.selected,group:"".concat(this.state.group),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=22,fetch(X,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(l)});case 22:c=e.sent,console.log("result3>  "+c);case 24:alert("Credit Posted"),this.setState({creditSales:"",TotalCredit:0,creditPaid:0,TotalCreditPaid:0}),e.next=31;break;case 28:e.prev=28,e.t0=e.catch(0),console.log(e.t0);case 31:case"end":return e.stop()}},e,this,[[0,28]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleRoomSubmit",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o,r,l=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=sessionStorage.getItem("tableNumber2"),a={selected:[],billCost:"",tableNum:sessionStorage.getItem("tableNumber2")},n={docketNum:"Rest"+Math.floor(1e4*Math.random()),refID:"".concat(this.state.guestInhouseID),_id:Math.floor(1e7*Math.random()),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),cost:"".concat(this.state.cost),amountPaid:"".concat(this.state.amountPaid),roomDebit:"".concat(this.state.cost),POSAmount:0,CashAmount:0,TransferAmount:0,CompDebit:0,paymentMethod:"".concat(this.state.paymentMethod),roomNumbers:"".concat(this.state.roomNumbers),description:"Restaurant Docket",department:"Restaurant Sales",docketDetails:this.state.selected,group:"".concat(this.state.group),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=6,fetch("https://zarvichdemo.localto.net/bill",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)});case 6:return s=e.sent,console.log("result>  "+s),e.next=10,fetch(X,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)});case 10:return o=e.sent,console.log("result2>  "+o),e.next=14,fetch("".concat(te,"/").concat(t),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(a)});case 14:r=e.sent,console.log("result14>  "+r),alert("Docket Posted to Room "+this.state.roomNumbers),this.setState({selected:[]}),this.setState({cost:0}),this.setState({amountPaid:""}),this.setState({displayRoomNums:""}),this.setState({roomNumbers:""}),this.setState({paymentMethod:""}),this.setState({group:""}),this.setState({shift:""}),this.setState({NewtableNum:0}),localStorage.removeItem("delcntrl"),sessionStorage.removeItem("tableNumber2"),fetch("".concat(ae),{method:"GET"}).then(function(e){return e.json()}).then(function(e){l.setState({tables:e})}),e.next=34;break;case 31:e.prev=31,e.t0=e.catch(0),console.log(e.t0);case 34:case"end":return e.stop()}},e,this,[[0,31]])}));return function(){return e.apply(this,arguments)}}()},{key:"renderPayMeth",value:function(e){if(e)return e.map(function(e,t){return s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{key:t,value:e.method},e.method))})}},{key:"renderTables",value:function(e){var t=this;if(e)return e.sort(function(e,t){return e.tableNum-t.tableNum}),e.map(function(e){return""===e.billCost?s.a.createElement("div",{key:e._id},s.a.createElement("button",{className:"btn btn-success cartBtn3 alignroomsgreen2",disabled:1===t.state.NewtableNum,onClick:function(){sessionStorage.setItem("tableNumber2",e.tableNum),t.NewTable(),t.setState({docketFirst:0})}},s.a.createElement("p",{className:"texted"},e.tableNum))):s.a.createElement("div",{key:e._id},s.a.createElement("button",{className:"btn btn-warning cartBtn3 alignroomsgreen2",onClick:function(){sessionStorage.setItem("tableNumber2",e.tableNum),t.getTableR(),t.setState({print:1})}},s.a.createElement("p",{className:"texted"},e.tableNum)))})}},{key:"renderRooms",value:function(e){if(e)return e.sort(function(e,t){return e.roomNumbers-t.roomNumbers}),e.map(function(e,t){return s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{key:t,value:e.roomNumbers},e.roomNumbers," - ",e.fname," ",e.lname))})}},{key:"addMeal",value:function(){var e=this;this.state.menulist.map(function(t){return e.setState({Newmeal:t.mealName,Newprice:t.mealPrice,Newqty:parseInt(t.mealQt),Newid:t._id}),"ok"})}},{key:"increament",value:function(){0!==this.state.Newqty&&this.setState({Newqty:this.state.Newqty+1})}},{key:"decreament",value:function(){0!==this.state.Newqty&&this.setState({Newqty:this.state.Newqty-1})}},{key:"pushorder",value:function(){var e=this,t=this.state.selected,a={};this.state.selected.length>0?(this.setState({blockTable:1}),a.id=this.state.Newid,a.meal=this.state.Newmeal,a.mealPrice=this.state.Newprice,a.qty=this.state.Newqty,a.tranID=Math.floor(1e4*Math.random()),t.push(a),this.setState({selected:t,printStop:0,DrinkStore:0,DrinkSalesQty:0,stockBal:0,Newmeal:"",Newprice:"",Newqty:0,Newid:""})):0===this.state.selected.length&&(this.setState({blockTable:0}),a.id=this.state.Newid,a.meal=this.state.Newmeal,a.mealPrice=this.state.Newprice,a.qty=this.state.Newqty,a.tranID=Math.floor(1e4*Math.random()),t.push(a),this.setState({selected:t,Newmeal:"",Newprice:"",Newqty:0,Newid:"",printStop:0,DrinkStore:0,DrinkSalesQty:0,stockBal:0})),this.myTimer=setTimeout(function(){if(e.state.selected.length>0){var a=t.reduce(function(e,t){return e+t.mealPrice*t.qty},0);e.setState({cost:a})}0!==e.state.cost&&(fetch("".concat(Z),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({displayRoomNums:t})}),fetch("".concat(ee),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({displayPaymentMethods:t})}),localStorage.removeItem("delcntrl"))},1e3)}},{key:"renderMenu",value:function(e){var t=this;if(e)return e.map(function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("div",{className:"card alignroomsgreen3",style:{backgroundColor:"orangered"},key:e.mealTypeID},s.a.createElement("button",{className:"btn btn-orangered buttnheightbtn",onMouseOver:function(){return sessionStorage.setItem("meal",e.mealName)},onClick:function(){t.setState({Newmeal:e.mealName,Newprice:e.mealPrice,Newqty:parseInt(e.mealQt),Newid:e._id,tranID2:Math.floor(1e4*Math.random())}),t.handleStock()}},s.a.createElement("p",{className:"card-title formatnew2"},e.mealName))))))})}},{key:"renderOders",value:function(e){if(e)return e.map(function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:e.id},s.a.createElement("td",{className:"Editedtexted8NwDescr"},e.meal),s.a.createElement("td",{className:"Editedtexted8NwDescr"},e.qty),s.a.createElement("td",{className:"Editedtexted8NwDescr"},s.a.createElement(E.a,{value:e.mealPrice,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"Editedtexted8NwDescr"},s.a.createElement(E.a,{value:e.mealPrice*e.qty,thousandSeparator:!0,displayType:"text"}))))})}},{key:"renderOdersPrint",value:function(e){if(e)return e.map(function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:e.id},s.a.createElement("td",{className:"Editedtexted8NwDescrEdited"},e.meal),s.a.createElement("td",{className:"Editedtexted8NwDescrEdited"},e.qty),s.a.createElement("td",{className:"Editedtexted8NwDescrEdited"},s.a.createElement(E.a,{value:e.mealPrice,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"Editedtexted8NwDescrEdited"},s.a.createElement(E.a,{value:e.mealPrice*e.qty,thousandSeparator:!0,displayType:"text"}))))})}},{key:"renderSalesReport",value:function(e){if(e)return e.map(function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:e.id},s.a.createElement("td",{className:"table-light table-striped adjust texted8"},e.productName),s.a.createElement("td",{className:"table-light table-striped adjust texted8"},e.Quantity),s.a.createElement("td",{className:"table-light table-striped adjust texted8"},s.a.createElement(E.a,{value:e.productPrice,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust texted8"},s.a.createElement(E.a,{value:e.productPrice*e.Quantity,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust texted8"}," ")))})}},{key:"renderPos",value:function(e){var t=this;if(e)return e.map(function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("div",{className:"card alignroomsgreen3",style:{backgroundColor:"blueviolet"},key:e.mealTypeID},s.a.createElement("button",{className:"btn btn-blueviolet buttnheightbtn",onMouseOver:function(){return t.setState({menuID:e.mealTypeID})},onClick:function(){return t.buttonClick()}},s.a.createElement("p",{className:"card-title formatnew2"},e.mealType))))))})}},{key:"render",value:function(){var e=this;console.log(">>> Inside RESrender",this.state);var t=k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),a="Rest"+Math.floor(1e4*Math.random()),n=this.state.amountPaid;return""===this.state.amountPaid&&(n=0),null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement(K,null)):s.a.createElement("div",{className:"posterminal"},s.a.createElement("br",null),s.a.createElement("div",{className:"row quantity displayback"},s.a.createElement("center",null,s.a.createElement("h6",{style:{color:"white"}},"Add Quantity")),s.a.createElement("div",null,s.a.createElement("div",{className:"row"},s.a.createElement("p",{className:"prices"},"Price: ",this.state.Newprice),s.a.createElement("span",{className:"dcrbtn"},s.a.createElement("button",{className:"form-control mb-3 formsizeX1",onClick:function(){return e.decreament()}},s.a.createElement("p",{className:"sign"},"-"))),s.a.createElement("span",{className:"qtybtn"},s.a.createElement("input",{type:"number",className:"form-control2 mb-3 formsizeX",style:{textAlign:"center",fontStyle:"bold",color:"white",fontSize:"24px"},name:"Newqty",value:this.state.Newqty,onChange:this.handleChange3})),s.a.createElement("span",{className:"incbtn"},s.a.createElement("button",{className:"form-control mb-3 formsizeX1",onClick:function(){return e.increament()}},s.a.createElement("p",{className:"sign"},"+"))),"2",s.a.createElement("button",{className:"btn btn-warning addbtn",disabled:0===this.state.Newqty,onClick:function(){e.pushorder(),e.setState({docketFirst:1})}},"Add")))),s.a.createElement("div",{className:"salesTable displayback"},s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust2"},"Menu"),s.a.createElement("th",{className:"adjust2"},"Qty"),s.a.createElement("th",{className:"adjust2"},"Price(=N)"),s.a.createElement("th",{className:"adjust2"},"Amount(=N)"))),s.a.createElement("tbody",{className:"tableheight"},this.renderOders(this.state.selected)))),s.a.createElement("div",{className:"amountP displayback"},s.a.createElement("input",{type:"text",className:"form-control mb-3 formsizeA1 textedM",name:"amountPaid",require:!0,placeholder:"Enter Payment",value:this.state.amountPaid,onChange:this.handleChange})),s.a.createElement("div",{className:"method displayback"},s.a.createElement("select",{className:"form-select formsizeA1 textedM",name:"paymentMethod",onChange:this.handleChange},s.a.createElement("option",{selected:!0,value:""},"Payment Method"),this.renderPayMeth(this.state.displayPaymentMethods))),s.a.createElement("div",{className:"textAmount displayback"},s.a.createElement("p",{className:"fmtcost2",style:{color:"white"}},"Total: ",s.a.createElement(E.a,{value:this.state.cost,thousandSeparator:!0,displayType:"text"}),".00")),s.a.createElement("div",{className:"textAmount2 displayback"},s.a.createElement("p",{className:"fmtcost2",style:{color:"white"}},"Bal: ",s.a.createElement(E.a,{value:this.state.cost-parseFloat(n),thousandSeparator:!0,displayType:"text"}),".00")),s.a.createElement("div",{className:"operations displayback"},s.a.createElement("h4",{className:"texted4",style:{color:"white"}},"Operations"),s.a.createElement("button",{disabled:localStorage.getItem("delcntrl"),className:"btn btn-primary cartBtn2",onClick:function(){e.removeAll(),e.setState({docketFirst:0})}},s.a.createElement("p",{className:"texted"},"Delete")),s.a.createElement("button",{disabled:0===this.state.cost||""===this.state.amountPaid||this.state.amountPaid<this.state.cost||this.state.amountPaid>this.state.cost||""===this.state.paymentMethod||"Complimentary"===this.state.paymentMethod||1===this.state.docketFirst,className:"btn btn-primary cartBtn2",onClick:function(){e.onOpenPword()}},s.a.createElement("p",{className:"texted"},"Post")),s.a.createElement("select",{type:"button",disabled:1===this.state.docketFirst,className:"form-select formsizeB mb-2 btn btn-primary texted",name:"roomNumbers",onChange:this.handleChange2},s.a.createElement("option",{selected:!0,value:""},"Rooms"),this.renderRooms(this.state.displayRoomNums)),s.a.createElement("button",{disabled:""===this.state.roomNumbers||""!==this.state.amountPaid||1===this.state.docketFirst,className:"btn btn-primary cartBtn4",onClick:function(){e.onOpenCompModal(),e.postQty()}},s.a.createElement("p",{className:"texted"},"Room Post")),s.a.createElement("button",{disabled:"Complimentary"!==this.state.paymentMethod||""!==this.state.amountPaid||1===this.state.docketFirst,className:"btn btn-primary cartBtn2",onClick:function(){e.onOpenModalreceipt(),e.postQty()}},s.a.createElement("p",{className:"texted"},"Comp")),s.a.createElement("button",{disabled:1===this.state.docketFirst,className:"btn btn-primary cartBtn2",onClick:function(){e.handleReport()}},s.a.createElement("p",{className:"texted"},"Reports")),s.a.createElement("button",{disabled:localStorage.getItem("btnCntrl"),className:"btn btn-warning cartBtn12",onClick:function(){e.addToTable(),e.setState({NewtableNum:0})}},s.a.createElement("p",{className:"texted"},"Add to Table ",sessionStorage.getItem("tableNumber2"))),s.a.createElement("button",{disabled:"true",className:"btn btn-danger cartBtn2",onClick:function(){return e.logout}},s.a.createElement("p",{className:"texted"},"Close")),s.a.createElement("button",{className:"btn btn-danger cartBtn20",onClick:function(){return e.logout()}},s.a.createElement("p",{className:"texted"},"Log Out ",localStorage.getItem("userInfo").split(" ")[0])),s.a.createElement("button",{disabled:!0,className:this.state.shiftcolor},s.a.createElement("p",{className:"texted"},localStorage.getItem("shift"))),s.a.createElement("button",{disabled:0===this.state.selected.length||0===this.state.printStop||0===this.state.print,className:this.state.shiftcolor,onClick:function(){e.onOpenModaltoprint(),localStorage.setItem("delcntrl",!0)}},s.a.createElement("p",{className:"texted"},"Print Docket"))),s.a.createElement("div",{className:"tables displayback"},s.a.createElement("h5",{className:"texted2",style:{color:"white"}},"Get Table"),s.a.createElement("h5",{className:"texted2",style:{color:"yellow"}},"Work Date: ",t),s.a.createElement("div",null,this.renderTables(this.state.tables)),s.a.createElement("h6",{style:{color:"silver",textAlign:"right"}},"Restaurant App"),s.a.createElement("button",{className:"btn btn-danger texted",onClick:function(){e.props.history.push("/Dashboard")}},"Goto Dashboard")),s.a.createElement("div",{className:"mainmenu displayback"},this.renderPos(this.state.menu)),s.a.createElement("div",{className:"menulistItems displayback"},this.renderMenu(this.state.menulist)),s.a.createElement(v.a,{open:this.state.edit},s.a.createElement("div",{className:"papersizeNew"},s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized mb-3"},this.state.Hotelname),s.a.createElement("p",{className:"textSized mb-3"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSizedNumber"},"+234 802 288 8776"),s.a.createElement("hr",null),s.a.createElement("p",{className:"textSized2",style:{fontWeight:"bold",fontFamily:"Georgia, Times New Roman, Times, serif",fontSize:"14px"}},"Restaurant Docket"),s.a.createElement("p",{className:"textSized2"},"Date: ",t),s.a.createElement("p",{className:"textSized2 mb-3"},"Docket Num: ",a)),s.a.createElement("hr",null),s.a.createElement("table",{className:"tableSettingsNow"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust2Nwrest"},"Menu"),s.a.createElement("th",{className:"adjust2Nwrest"},"Qty"),s.a.createElement("th",{className:"adjust2Nwrest"},"Rate"),s.a.createElement("th",{className:"adjust2Nwrest"},"Amt"))),s.a.createElement("tbody",{className:"tableSettingsNow"},this.renderOdersPrint(this.state.selected))),s.a.createElement("hr",null),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Total:",s.a.createElement(E.a,{value:this.state.cost,thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Amount Paid:",s.a.createElement(E.a,{value:n,thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Bal: ",s.a.createElement(E.a,{value:this.state.cost-parseFloat(n),thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Payment Method: ",this.state.paymentMethod),s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized2"},"Prepared By: ",localStorage.getItem("userInfo")),s.a.createElement("p",{className:"textSized2"},"Shift: ",localStorage.getItem("shift")),s.a.createElement("p",{style:{fontSize:"13px",fontFamily:"monospace",fontWeight:"bold"}},"THANK YOU"),s.a.createElement("div",{className:"printing"},s.a.createElement("button",{className:this.state.shiftcolor,onClick:function(){e.sendtoprinter2()}},s.a.createElement("p",{className:"texted2"},this.state.printBTN)))))),s.a.createElement(v.a,{open:this.state.pword,onClose:function(){return e.onClosePword()},center:!0},s.a.createElement("div",null,s.a.createElement("div",{className:"formdesign152"},s.a.createElement("h6",{className:"mb-3"},"Access Required"),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("input",{type:"password",autoComplete:"off",className:"form-control mb-3 formsize51",name:"pass",require:!0,placeholder:"Enter Access Code",value:this.state.pass,onChange:this.handleChange}),s.a.createElement("button",{disabled:""===this.state.pass,className:"btn btn-warning formsize91",onClick:function(){return e.AllowRefund()}},"Login")))))),s.a.createElement(v.a,{open:this.state.editreceipt,onClose:function(){e.onCloseModalreceipt(),e.handleSubmit()}},s.a.createElement("div",{className:"papersizeNew"},s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized",style:{fontWeight:"bold",fontSize:"14px"}},this.state.Hotelname),s.a.createElement("p",{className:"textSized mb-3"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSizedNumber"},"+234 802 288 8776"),s.a.createElement("hr",null),s.a.createElement("p",{className:"textSized2",style:{fontWeight:"bold",fontFamily:"Georgia, Times New Roman, Times, serif",fontSize:"14px"}},"Restaurant Receipt"),s.a.createElement("p",{className:"textSized2"},"Date: ",t),s.a.createElement("p",{className:"textSized2 mb-3"},"Docket Num: ",a)),s.a.createElement("hr",null),s.a.createElement("table",{className:"tableSettingsNow"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust2Nwrest",style:{fontSize:"10px"}},"Menu"),s.a.createElement("th",{className:"adjust2Nwrest",style:{fontSize:"10px"}},"Qty"),s.a.createElement("th",{className:"adjust2Nwrest",style:{fontSize:"10px"}},"Rate"),s.a.createElement("th",{className:"adjust2Nwrest",style:{fontSize:"10px"}},"Amt"))),s.a.createElement("tbody",{className:"tableSettingsNow"},this.renderOdersPrint(this.state.selected))),s.a.createElement("hr",null),s.a.createElement("p",{style:{fontSize:"15px",fontFamily:"monospace",fontWeight:"bolder"}},"Total: ",s.a.createElement(E.a,{value:this.state.cost,thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"15px",fontFamily:"monospace",fontWeight:"bolder"}},"Amount Paid: ",s.a.createElement(E.a,{value:n,thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"15px",fontFamily:"monospace",fontWeight:"bolder"}},"Bal: ",s.a.createElement(E.a,{value:this.state.cost-parseFloat(n),thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"15px",fontFamily:"monospace",fontWeight:"bolder"}},"Payment Method: ",this.state.paymentMethod),s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized2"},"Prepared By: ",localStorage.getItem("userInfo")),s.a.createElement("p",{className:"textSized2"},"Shift: ",localStorage.getItem("shift")),s.a.createElement("p",{style:{fontSize:"13px",fontFamily:"Georgia, Times New Roman, Times, serif",fontWeight:"bold"}},"THANK YOU"),s.a.createElement("div",{className:"printing"},s.a.createElement("button",{className:this.state.shiftcolor,onClick:function(){e.sendtoprinter()}},s.a.createElement("p",{className:"texted2"},"Print")),s.a.createElement("button",{className:this.state.shiftcolor,onClick:function(){e.onCloseModalreceipt(),e.handleSubmit()}},s.a.createElement("p",{className:"texted2"},"Close")))))),s.a.createElement(v.a,{open:this.state.compModal,onClose:function(){e.onCloseCompModal(),e.handleRoomSubmit()}},s.a.createElement("div",{className:"papersizeNew"},s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized",style:{fontWeight:"bold",fontSize:"14px"}},this.state.Hotelname),s.a.createElement("p",{className:"textSized mb-3"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSizedNumber"},"+234 802 288 8776"),s.a.createElement("hr",null),s.a.createElement("p",{className:"textSized2",style:{fontWeight:"bold",fontSize:"14px"}},"Restaurant Docket"),s.a.createElement("p",{className:"textSized2"},"Date: ",t),s.a.createElement("p",{className:"textSized2 mb-3"},"Docket Num: ",a)),s.a.createElement("hr",null),s.a.createElement("table",{className:"tableSettingsNow"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust2Nwrest",style:{fontSize:"10px"}},"Menu"),s.a.createElement("th",{className:"adjust2Nwrest",style:{fontSize:"10px"}},"Qty"),s.a.createElement("th",{className:"adjust2Nwrest",style:{fontSize:"10px"}},"Rate"),s.a.createElement("th",{className:"adjust2Nwrest",style:{fontSize:"10px"}},"Amt"))),s.a.createElement("tbody",{className:"tableSettingsNow"},this.renderOdersPrint(this.state.selected))),s.a.createElement("hr",null),s.a.createElement("p",{style:{fontSize:"12px",fontFamily:"Georgia, Times New Roman, Times, serif",fontWeight:"bolder"}},"Total: ",s.a.createElement(E.a,{value:this.state.cost,thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"12px",fontFamily:"Georgia, Times New Roman, Times, serif",fontWeight:"bolder"}},"Amount Paid: ",s.a.createElement(E.a,{value:n,thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"12px",fontFamily:"Georgia, Times New Roman, Times, serif",fontWeight:"bolder"}},"Bal: ",s.a.createElement(E.a,{value:this.state.cost-parseFloat(n),thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"12px",fontFamily:"Georgia, Times New Roman, Times, serif",fontWeight:"bolder"}},"Payment Method: ",this.state.paymentMethod),s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized2"},"Prepared By: ",localStorage.getItem("userInfo")),s.a.createElement("p",{className:"textSized2"},"Shift: ",localStorage.getItem("shift")),s.a.createElement("p",{style:{fontSize:"13px",fontFamily:"Georgia, Times New Roman, Times, serif",fontWeight:"bold"}},"THANK YOU"),s.a.createElement("div",{className:"printing"},s.a.createElement("button",{className:this.state.shiftcolor,onClick:function(){e.sendtoprinter()}},s.a.createElement("p",{className:"texted2"},this.state.printBTN)),s.a.createElement("button",{className:this.state.shiftcolor,onClick:function(){e.onCloseCompModal(),e.handleRoomSubmit()}},s.a.createElement("p",{className:"texted2"},"Close")))))),s.a.createElement(v.a,{open:this.state.report,onClose:function(){e.onCloseModalreport()}},s.a.createElement("div",null,s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized",style:{fontWeight:"bold",fontSize:"14px"}},this.state.Hotelname),s.a.createElement("p",{className:"textSized mb-3"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSizedNumber"},"+234 802 288 8776"),s.a.createElement("hr",null),s.a.createElement("p",{className:"textSized2",style:{fontWeight:"bold",fontSize:"14px"}},"Restaurant Daily Sales Report"),s.a.createElement("p",{className:"textSized2"},"Report Date: ",t),s.a.createElement("p",{className:"textSized2 mb-3"},"Shift: ",this.state.useReportShift)),s.a.createElement("hr",null),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust2Nw",style:{fontSize:"10px"}},"Menu"),s.a.createElement("th",{className:"adjust2Nw",style:{fontSize:"10px"}},"Qty"),s.a.createElement("th",{className:"adjust2Nw",style:{fontSize:"10px"}},"Price(=N)"),s.a.createElement("th",{className:"adjust2Nw",style:{fontSize:"10px"}},"Amount(=N)"))),s.a.createElement("tbody",{className:"table table-hover tableheight"},this.renderSalesReport(this.state.DrinkSalesQtyReportData))),s.a.createElement("hr",null),s.a.createElement("p",{style:{fontSize:"14px",fontFamily:"Georgia, Times New Roman, Times, serif",fontWeight:"bold"}},"Total Sales: ",s.a.createElement(E.a,{value:this.state.totalSales,thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized2"},"Staff: ",this.state.useReportName),s.a.createElement("p",{className:"textSized2"},"Shift: ",this.state.useReportShift),s.a.createElement("p",{style:{fontSize:"13px",fontFamily:"monospace",fontWeight:"bold"}},"THANK YOU"),s.a.createElement("div",{className:"printing"},s.a.createElement("button",{className:this.state.shiftcolor,onClick:function(){e.sendtoprinter()}},s.a.createElement("p",{className:"texted2"},this.state.printBTN)),s.a.createElement("button",{className:this.state.shiftcolor,onClick:function(){e.onCloseModalreport()}},s.a.createElement("p",{className:"texted2"},"Close")))))),s.a.createElement(v.a,{open:this.state.credit,onClose:function(){return e.onCloseModalCredit()},style:{color:"silver"}},s.a.createElement("div",{className:"background591stockin"},s.a.createElement("h6",{style:{color:"silver",marginLeft:"50px",marginBottom:"-70px"}},"Recover Credit"),s.a.createElement("div",{className:"formdesign511"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("h6",null,"Summary"),s.a.createElement("div",{className:"col-3"},s.a.createElement("label",null,"Total Credit"),s.a.createElement("p",{type:"text",className:"form-control mb-3 formsize51 ikem"},s.a.createElement(E.a,{value:parseInt(this.state.TotalCredit),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("div",{className:"col-3"},s.a.createElement("label",null,"Total Recovered"),s.a.createElement("p",{type:"text",className:"form-control mb-3 formsize51 ikem"},s.a.createElement(E.a,{value:parseInt(this.state.TotalCreditPaid),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("div",{className:"col-3"},s.a.createElement("label",null,"Credit Balance"),s.a.createElement("p",{type:"text",className:"form-control mb-3 formsize51 ikem"},s.a.createElement(E.a,{value:parseInt(this.state.TotalCredit)-parseInt(this.state.TotalCreditPaid),thousandSeparator:!0,displayType:"text"})))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-4"},s.a.createElement("input",{type:"number",className:"form-control mb-3 formsize51 ikem",name:"creditPaid",require:!0,placeholder:"Enter Amount",value:this.state.creditPaid,onChange:this.handleChange})),s.a.createElement("div",{className:"col-4"},s.a.createElement("select",{className:"form-select formsize51 ikem",name:"paymentMethod",onChange:this.handleChange},s.a.createElement("option",{selected:!0,value:""},"Payment Method"),this.renderPayMeth(this.state.payNwMeth))))),s.a.createElement("div",{className:"row"},s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("center",null,s.a.createElement("span",null,s.a.createElement("button",{disabled:""===this.state.creditPaid,className:"btn btn-warning gap",onClick:function(){return e.postCredit()}},"Post"),s.a.createElement("button",{className:"btn btn-danger gap",onClick:function(){return e.onCloseModalCredit()}},"Close"))),s.a.createElement("br",null))))))}},{key:"componentDidMount",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(">>> Inside RESdidMount"),fetch("".concat("https://zarvichdemo.localto.net/menuCategories"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({menu:e})}),fetch("".concat("https://zarvichdemo.localto.net/hoteladdress"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return t.setState({Hotelname:e.HotelName,Hoteladdress:e.Address,Hotelphone:e.Phone}),"ok"})}),e.next=5,fetch("".concat("https://zarvichdemo.localto.net/getActive"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return t.setState({transactionDate:e.date}),"ok"})});case 5:this.myTimer=setInterval(function(){fetch("".concat("https://zarvichdemo.localto.net/getActive"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return t.setState({transactionDate:e.date}),"ok"})})},1e3),fetch("".concat(ee),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({payNwMeth:e})}),fetch("".concat(ne),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({DrinkstoreData:e})}),fetch("".concat(se),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({DrinkSalesQtyData:e})}),fetch("".concat(ae),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({tables:e})}),this.myTimer=setTimeout(function(){fetch("".concat(ae),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({tables:e})}),localStorage.setItem("btnCntrl",!0)},2e3),fetch("".concat("https://zarvichdemo.localto.net/restUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({loginDetails:e})}),this.myTimer=setTimeout(function(){var e=t.state.loginDetails,a=t.state.name;e.some(function(e){return e.name===a})?t.setState({Blogin:!0}):t.setState({Blogin:!1})},1e3),"Morning Shift"===localStorage.getItem("shift")?this.setState({shiftcolor:"btn btn-primary cartBtn20"}):"Night Shift"===localStorage.getItem("shift")?this.setState({shiftcolor:"btn btn-dark cartBtn20"}):"All Day"===localStorage.getItem("shift")&&this.setState({shiftcolor:"btn btn-warning cartBtn20"});case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),a}(n.Component),re=oe,le="https://zarvichdemo.localto.net/Laundry",ce="https://zarvichdemo.localto.net/checkin?docket=Yes",ie="https://zarvichdemo.localto.net/checkin?roomNumID=",me="https://zarvichdemo.localto.net/paymentMethods",ue="https://zarvichdemo.localto.net/laundryTablePost",he="https://zarvichdemo.localto.net/laundTable",de="https://zarvichdemo.localto.net/getLaundrySalesQty",pe=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleCost=function(e){if(null!==n.state.selected){var t=e.reduce(function(e,t){return e+t.mealPrice*t.qty},0);n.setState({cost:t})}null!==n.state.cost&&(fetch("".concat(ce),{method:"GET"}).then(function(e){return e.json()}).then(function(e){n.setState({displayRoomNums:e})}),fetch("".concat(me),{method:"GET"}).then(function(e){return e.json()}).then(function(e){n.setState({displayPaymentMethods:e})}),localStorage.setItem("printMenus",JSON.stringify(e)),localStorage.removeItem("btnCntrl"),localStorage.removeItem("delcntrl"))},n.addqty=function(){var e=n.state.selected.map(function(e){return parseInt(e.qty+1)});n.setState({selected:e})},n.removeAll=function(e){var t=n.state.selected.filter(function(t){return t.id===e});n.setState({selected:t}),n.setState({cost:0}),n.setState({roomNumbers:""}),n.setState({amountPaid:""}),n.setState({displayRoomNums:""}),n.setState({paymentMethod:""}),n.setState({displayPaymentMethods:""}),n.setState({displayPaymentMethods:"",DrinkStore:0,DrinkSalesQty:0,stockBal:0})},n.handleChange=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value))},n.handleChange3=function(e){""===n.state.Newmeal&&""===n.state.Newprice&&""===n.state.Newid||n.setState(Object(h.a)({},e.target.name,e.target.value))},n.handleChange2=function(e){console.log("inside handle",n.props),n.setState(Object(h.a)({},e.target.name,e.target.value)),fetch("".concat(ie).concat(e.target.value),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return n.setState({guestInhouseID:e.refID,group:e.group}),"ok"})})},console.log(">>>Inside RESConstructor",e),n.state={Newmeal:"",Newprice:"",Newqty:0,Newid:"",edit:!1,credit:!1,editreceipt:!1,compModal:!1,report:!1,printStop:0,docketFirst:0,printBTN:"Print",print:0,blockTable:0,IDfound:[],menu:"",meal:"",mealPrice:"",mealQuantity:"",mealId:Math.floor(1e4*Math.random()),guestInhouseID:"",selected:[],menuID:"",menulist:"",cost:0,amountPaid:"",roomNumbers:"",paymentMethod:"",displayPaymentMethods:"",displayRoomNums:"",transactionDate:"",tables:"",group:"",newTable:"",loginDetails:"",name:localStorage.getItem("userInfo"),login:"",Blogin:"",shiftcolor:"",shift:localStorage.getItem("shift"),DrinkstoreData:[],DrinkSalesQtyData:[],DrinkStore:0,DrinkSalesQty:0,stockBal:0,DrinkSalesQtyReportData:[],useReportName:"",useReportShift:"",useReportDate:"",totalSales:0,Stockbtn:"Add",NewtableNum:0,creditSales:"",TotalCredit:0,creditPaid:0,payNwMeth:"",TotalCreditPaid:0,Hotelname:"",Hoteladdress:"",Hotelphone:"",pass:"",pword:!1,pword2:!1},n}return Object(p.a)(a,[{key:"onOpenPword",value:function(){"Credit"===this.state.paymentMethod?this.setState({pword:!0}):(this.setState({pword:!1}),this.onOpenModalreceipt(),this.postQty())}},{key:"onClosePword",value:function(){this.setState({pword:!1})}},{key:"AllowRefund",value:function(){"6849"===this.state.pass?(this.onOpenModalreceipt(),this.postQty(),this.onClosePword()):alert("Access Denied")}},{key:"onOpenModaltoprint",value:function(){this.setState({edit:!0})}},{key:"onOpenCompModal",value:function(){this.setState({compModal:!0})}},{key:"onCloseCompModal",value:function(){this.setState({compModal:!1})}},{key:"onCloseModaltoprint",value:function(){this.setState({edit:!1})}},{key:"onCloseModalCredit",value:function(){this.setState({credit:!1,creditPaid:0})}},{key:"onOpenModalreceipt",value:function(){this.setState({editreceipt:!0})}},{key:"onCloseModalreceipt",value:function(){this.setState({editreceipt:!1})}},{key:"onOpenModalreport",value:function(){this.setState({report:!0})}},{key:"onCloseModalreport",value:function(){this.setState({report:!1})}},{key:"handleReport",value:function(){var e=this,t=k()(this.state.transactionDate).format("MMM DD YYYY"),a=localStorage.getItem("userInfo"),n="".concat(de,"?useDate=").concat(t,"&&useshift=").concat(this.state.shift,"&&userstaff=").concat(a);fetch("".concat(n),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({DrinkSalesQtyReportData:t})}),this.myTimer=setTimeout(function(){if(e.state.DrinkSalesQtyReportData.length>0){var t=e.state.DrinkSalesQtyReportData,n=t.find(function(e){return e.user===a}),s=[];s.push(n),e.setState({useReportName:s.map(function(e){return e.user})}),e.setState({useReportShift:s.map(function(e){return e.shift})}),e.setState({useReportDate:s.map(function(e){return e.tranDate})});var o=t.reduce(function(e,t){return e+parseInt(t.productPrice*t.Quantity)},0);e.setState({totalSales:o}),e.onOpenModalreport()}else alert("No Sales was posted by "+a)},1e3)}},{key:"handleStock",value:function(){var e=this;if(this.state.DrinkstoreData.length>0){var t=sessionStorage.getItem("meal"),a=this.state.DrinkstoreData.filter(function(e){return e.productName.includes(t)}).reduce(function(e,t){return e+parseInt(t.piecesOut)},0);this.setState({DrinkStore:a});var n=this.state.DrinkSalesQtyData.filter(function(e){return e.productName.includes(t)}).reduce(function(e,t){return e+parseInt(t.Quantity)},0);this.setState({DrinkSalesQty:n}),this.myTimer=setTimeout(function(){var t=0+e.state.DrinkStore-e.state.DrinkSalesQty;e.setState({stockBal:t})},1e3)}}},{key:"logout",value:function(){localStorage.removeItem("userInfo"),this.setState({login:!0})}},{key:"addToTable",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=sessionStorage.getItem("tableNumber2"),a=this.state.selected,n={selected:a.map(function(e){return e}),billCost:this.state.cost,tableNum:sessionStorage.getItem("tableNumber2"),user:localStorage.getItem("userInfo")},e.next=6,fetch("".concat(ue,"/").concat(t),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)});case 6:s=e.sent,console.log("result>  "+s),this.setState({selected:[]}),localStorage.setItem("btnCntrl",!0),this.setState({cost:0}),this.setState({roomNumbers:""}),this.setState({displayRoomNums:""}),this.setState({displayPaymentMethods:""}),this.setState({paymentMethod:""}),this.setState({printStop:0}),localStorage.removeItem("delcntrl"),sessionStorage.removeItem("tableNumber2"),fetch("".concat(he),{method:"GET"}).then(function(e){return e.json()}).then(function(e){o.setState({tables:e})}),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(0),console.log(e.t0);case 24:case"end":return e.stop()}},e,this,[[0,21]])}));return function(){return e.apply(this,arguments)}}()},{key:"NewTable",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=sessionStorage.getItem("tableNumber2"),sessionStorage.setItem("printTableNum",t),a=this.state.selected,n={selected:a.map(function(e){return e}),billCost:this.state.cost,tableNum:t},0!==this.state.cost){e.next=10;break}alert("If you click table Number again without an order, I will slap you!"),sessionStorage.removeItem("tableNumber2"),e.next=24;break;case 10:return e.next=12,fetch("".concat(ue,"/").concat(t),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)});case 12:s=e.sent,console.log("result>  "+s),this.setState({selected:[]}),localStorage.setItem("btnCntrl",!0),this.setState({cost:0}),this.setState({roomNumbers:""}),this.setState({displayRoomNums:""}),this.setState({displayPaymentMethods:""}),this.setState({paymentMethod:""}),localStorage.removeItem("delcntrl"),this.setState({newTable:""}),fetch("".concat(he),{method:"GET"}).then(function(e){return e.json()}).then(function(e){o.setState({tables:e})});case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(0),console.log(e.t0);case 29:case"end":return e.stop()}},e,this,[[0,26]])}));return function(){return e.apply(this,arguments)}}()},{key:"getTableR",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{t=sessionStorage.getItem("tableNumber2"),sessionStorage.setItem("printTableNum",t),fetch("".concat("https://zarvichdemo.localto.net/LDTable?LDtableID=").concat(t),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return a.setState({selected:e.selected,cost:e.billCost,NewtableNum:1}),"ok"}),localStorage.removeItem("btnCntrl")}),fetch("".concat(ce),{method:"GET"}).then(function(e){return e.json()}).then(function(e){a.setState({displayRoomNums:e})}),fetch("".concat(me),{method:"GET"}).then(function(e){return e.json()}).then(function(e){a.setState({displayPaymentMethods:e})}),localStorage.setItem("delcntrl",!0),this.setState({printStop:1})}catch(n){console.log(n)}case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"postQty",value:function(){var e=this;try{this.state.selected.map(function(t){var a=t.meal,n=t.mealPrice,s=t.qty,o={id:t.tranID,productName:a,productPrice:n,Quantity:parseInt(s),user:localStorage.getItem("userInfo"),tranDate:k()(e.state.transactionDate).format("MMM DD YYYY"),shift:localStorage.getItem("shift")},r=fetch("".concat("https://zarvichdemo.localto.net/postRestSalesQty"),{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(o)});return console.log("result>  "+r),e.setState({Newmeal:"",Newprice:"",Newqty:0,Newid:"",DrinkstoreData:[],DrinkSalesQtyData:[]}),fetch("".concat("https://zarvichdemo.localto.net/getLaundryStore"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({DrinkstoreData:t})}),fetch("".concat(de),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({DrinkSalesQtyData:t})}),"ok"})}catch(t){console.log(t)}}},{key:"buttonClick",value:function(){var e=this;fetch("".concat("https://zarvichdemo.localto.net/laundryitems?clothtypes=").concat(this.state.menuID),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({menulist:t})})}},{key:"sendtoprinter",value:function(){window.print()}},{key:"sendtoprinter2",value:function(){"Print"===this.state.printBTN?(window.print(),this.setState({printBTN:"Close"})):"Close"===this.state.printBTN&&(this.setState({edit:!1}),this.setState({printBTN:"Print"}),this.setState({print:0,printStop:0,DrinkSalesQty:0,stockBal:0,blockTable:0}))}},{key:"handleCredit",value:function(){var e=this,t=localStorage.getItem("userInfo");fetch("".concat("https://zarvichdemo.localto.net/laundryCredit?LCstaff=").concat(t),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({creditSales:t}),t.map(function(a){var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.creditAmount)},0);e.setState({TotalCredit:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.creditPaid)},0);return e.setState({TotalCreditPaid:s}),"ok"})}),this.myTimer=setTimeout(function(){e.setState({credit:!0})},1e3)}},{key:"handleSubmit",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o,r,l,c,i,u,h,d,p,f=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=sessionStorage.getItem("tableNumber2"),a={selected:[],billCost:"",tableNum:sessionStorage.getItem("tableNumber2")},"POS"!==this.state.paymentMethod){e.next=9;break}return n={docketNum:"Rest"+Math.floor(1e4*Math.random()),date:k()(this.state.transactionDate).format("MMM DD YYYY"),cost:"".concat(this.state.cost),POSAmount:"".concat(this.state.amountPaid),CashAmount:0,TransferAmount:0,CompDebit:0,roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod),description:"Laundry Sales",department:"Laundry Sales",docketDetails:this.state.selected,group:"".concat(this.state.group),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=7,fetch(le,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)});case 7:s=e.sent,console.log("result5>  "+s);case 9:if("Cash"!==this.state.paymentMethod){e.next=15;break}return o={docketNum:"Rest"+Math.floor(1e4*Math.random()),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),cost:"".concat(this.state.cost),CashAmount:"".concat(this.state.amountPaid),POSAmount:0,TransferAmount:0,CompDebit:0,roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod),description:"Laundry Sales",department:"Laundry Sales",docketDetails:this.state.selected,group:"".concat(this.state.group),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=13,fetch(le,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(o)});case 13:r=e.sent,console.log("result4>  "+r);case 15:if("Transfer"!==this.state.paymentMethod){e.next=21;break}return l={docketNum:"Rest"+Math.floor(1e4*Math.random()),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),cost:"".concat(this.state.cost),TransferAmount:"".concat(this.state.amountPaid),POSAmount:0,CashAmount:0,CompDebit:0,roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod),description:"Laundry Sales",department:"Laundry Sales",docketDetails:this.state.selected,group:"".concat(this.state.group),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=19,fetch(le,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(l)});case 19:c=e.sent,console.log("result3>  "+c);case 21:if("Complimentary"!==this.state.paymentMethod){e.next=27;break}return i={docketNum:"Rest"+Math.floor(1e4*Math.random()),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),cost:"".concat(this.state.cost),amountPaid:"".concat(this.state.amountPaid),CompDebit:"".concat(this.state.cost),POSAmount:0,CashAmount:0,TransferAmount:0,roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod),description:"Laundry Sales",department:"Laundry Sales",docketDetails:this.state.selected,group:"".concat(this.state.group),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=25,fetch(le,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(i)});case 25:u=e.sent,console.log("result2>  "+u);case 27:if("Credit"!==this.state.paymentMethod){e.next=33;break}return h={docketNum:"Rest"+Math.floor(1e4*Math.random()),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),cost:"".concat(this.state.cost),creditAmount:"".concat(this.state.amountPaid),paymentMethod:"".concat(this.state.paymentMethod),description:"Restaurant Credit",department:"Restaurant Credit",docketDetails:this.state.selected,group:"".concat(this.state.group),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift"),creditPaid:"".concat(this.state.creditPaid)},e.next=31,fetch("https://zarvichdemo.localto.net/laundryCredit",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(h)});case 31:d=e.sent,console.log("result2>  "+d);case 33:return e.next=35,fetch("".concat(ue,"/").concat(t),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(a)});case 35:p=e.sent,console.log("result12>  "+p),alert("Sales Posted"),this.setState({selected:[]}),this.setState({cost:0}),this.setState({amountPaid:""}),this.setState({displayRoomNums:""}),this.setState({roomNumbers:""}),this.setState({paymentMethod:""}),this.setState({displayPaymentMethods:""}),this.setState({group:""}),this.setState({shift:"",Newmeal:"",Newprice:"",Newqty:0,Newid:"",DrinkstoreData:[],DrinkSalesQtyData:[],NewtableNum:0}),localStorage.removeItem("delcntrl"),sessionStorage.removeItem("tableNumber2"),fetch("".concat(he),{method:"GET"}).then(function(e){return e.json()}).then(function(e){f.setState({tables:e})}),e.next=55;break;case 52:e.prev=52,e.t0=e.catch(0),console.log(e.t0);case 55:case"end":return e.stop()}},e,this,[[0,52]])}));return function(){return e.apply(this,arguments)}}()},{key:"postCredit",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o,r,l,c;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={docketNum:"Rest"+Math.floor(1e4*Math.random()),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),cost:0,creditAmount:0,paymentMethod:"".concat(this.state.paymentMethod),description:"Laundry Credit",department:"Laundry Credit",docketDetails:this.state.selected,group:"".concat(this.state.group),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift"),creditPaid:"".concat(this.state.creditPaid)},e.next=4,fetch("https://zarvichdemo.localto.net/laundryCredit",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)});case 4:if(a=e.sent,console.log("creditPay>  "+a),"POS"!==this.state.paymentMethod){e.next=12;break}return n={docketNum:"Rest"+Math.floor(1e4*Math.random()),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),cost:"".concat(this.state.cost),POSAmount:"".concat(this.state.creditPaid),CashAmount:0,TransferAmount:0,CompDebit:0,roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod),description:"Laundry Credit",department:"Laundry Sales",docketDetails:this.state.selected,group:"".concat(this.state.group),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=10,fetch(le,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)});case 10:s=e.sent,console.log("result5>  "+s);case 12:if("Cash"!==this.state.paymentMethod){e.next=18;break}return o={docketNum:"Rest"+Math.floor(1e4*Math.random()),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),cost:"".concat(this.state.cost),CashAmount:"".concat(this.state.creditPaid),POSAmount:0,TransferAmount:0,CompDebit:0,roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod),description:"Laundry Credit",department:"Laundry Sales",docketDetails:this.state.selected,group:"".concat(this.state.group),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=16,fetch(le,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(o)});case 16:r=e.sent,console.log("result4>  "+r);case 18:if("Transfer"!==this.state.paymentMethod){e.next=24;break}return l={docketNum:"Rest"+Math.floor(1e4*Math.random()),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),cost:"".concat(this.state.cost),TransferAmount:"".concat(this.state.creditPaid),POSAmount:0,CashAmount:0,CompDebit:0,roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod),description:"Laundry Credit",department:"Laundry Sales",docketDetails:this.state.selected,group:"".concat(this.state.group),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=22,fetch(le,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(l)});case 22:c=e.sent,console.log("result3>  "+c);case 24:alert("Credit Posted"),this.setState({creditSales:"",TotalCredit:0,creditPaid:0,TotalCreditPaid:0}),e.next=31;break;case 28:e.prev=28,e.t0=e.catch(0),console.log(e.t0);case 31:case"end":return e.stop()}},e,this,[[0,28]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleRoomSubmit",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o,r,l=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=sessionStorage.getItem("tableNumber2"),a={selected:[],billCost:"",tableNum:sessionStorage.getItem("tableNumber2")},n={docketNum:"Rest"+Math.floor(1e4*Math.random()),refID:"".concat(this.state.guestInhouseID),_id:Math.floor(1e7*Math.random()),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),cost:"".concat(this.state.cost),amountPaid:"".concat(this.state.amountPaid),roomDebit:"".concat(this.state.cost),POSAmount:0,CashAmount:0,TransferAmount:0,CompDebit:0,paymentMethod:"".concat(this.state.paymentMethod),roomNumbers:"".concat(this.state.roomNumbers),description:"Laundry Docket",department:"Laundry Sales",docketDetails:this.state.selected,group:"".concat(this.state.group),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=6,fetch("https://zarvichdemo.localto.net/bill",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)});case 6:return s=e.sent,console.log("result>  "+s),e.next=10,fetch(le,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)});case 10:return o=e.sent,console.log("result2>  "+o),e.next=14,fetch("".concat(ue,"/").concat(t),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(a)});case 14:r=e.sent,console.log("result14>  "+r),alert("Docket Posted to Room "+this.state.roomNumbers),this.setState({selected:[]}),this.setState({cost:0}),this.setState({amountPaid:""}),this.setState({displayRoomNums:""}),this.setState({roomNumbers:""}),this.setState({paymentMethod:""}),this.setState({group:""}),this.setState({shift:""}),this.setState({NewtableNum:0}),localStorage.removeItem("delcntrl"),sessionStorage.removeItem("tableNumber2"),fetch("".concat(he),{method:"GET"}).then(function(e){return e.json()}).then(function(e){l.setState({tables:e})}),e.next=34;break;case 31:e.prev=31,e.t0=e.catch(0),console.log(e.t0);case 34:case"end":return e.stop()}},e,this,[[0,31]])}));return function(){return e.apply(this,arguments)}}()},{key:"renderPayMeth",value:function(e){if(e)return e.map(function(e,t){return s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{key:t,value:e.method},e.method))})}},{key:"renderTables",value:function(e){var t=this;if(e)return e.sort(function(e,t){return e.tableNum-t.tableNum}),e.map(function(e){return""===e.billCost?s.a.createElement("div",{key:e._id},s.a.createElement("button",{className:"btn btn-success cartBtn3 alignroomsgreen2",disabled:1===t.state.NewtableNum,onClick:function(){sessionStorage.setItem("tableNumber2",e.tableNum),t.NewTable(),t.setState({docketFirst:0})}},s.a.createElement("p",{className:"texted"},e.tableNum))):s.a.createElement("div",{key:e._id},s.a.createElement("button",{className:"btn btn-warning cartBtn3 alignroomsgreen2",onClick:function(){sessionStorage.setItem("tableNumber2",e.tableNum),t.getTableR(),t.setState({print:1})}},s.a.createElement("p",{className:"texted"},e.tableNum)))})}},{key:"renderRooms",value:function(e){if(e)return e.sort(function(e,t){return e.roomNumbers-t.roomNumbers}),e.map(function(e,t){return s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{key:t,value:e.roomNumbers},e.roomNumbers," - ",e.fname," ",e.lname))})}},{key:"addMeal",value:function(){var e=this;this.state.menulist.map(function(t){return e.setState({Newmeal:t.mealName,Newprice:t.mealPrice,Newqty:parseInt(t.mealQt),Newid:t._id}),"ok"})}},{key:"increament",value:function(){0!==this.state.Newqty&&this.setState({Newqty:this.state.Newqty+1})}},{key:"decreament",value:function(){0!==this.state.Newqty&&this.setState({Newqty:this.state.Newqty-1})}},{key:"pushorder",value:function(){var e=this,t=this.state.selected,a={};this.state.selected.length>0?(this.setState({blockTable:1}),a.id=this.state.Newid,a.meal=this.state.Newmeal,a.mealPrice=this.state.Newprice,a.qty=this.state.Newqty,a.tranID=Math.floor(1e4*Math.random()),t.push(a),this.setState({selected:t,printStop:0,DrinkStore:0,DrinkSalesQty:0,stockBal:0,Newmeal:"",Newprice:"",Newqty:0,Newid:""})):0===this.state.selected.length&&(this.setState({blockTable:0}),a.id=this.state.Newid,a.meal=this.state.Newmeal,a.mealPrice=this.state.Newprice,a.qty=this.state.Newqty,a.tranID=Math.floor(1e4*Math.random()),t.push(a),this.setState({selected:t,Newmeal:"",Newprice:"",Newqty:0,Newid:"",printStop:0,DrinkStore:0,DrinkSalesQty:0,stockBal:0})),this.myTimer=setTimeout(function(){if(e.state.selected.length>0){var a=t.reduce(function(e,t){return e+t.mealPrice*t.qty},0);e.setState({cost:a})}0!==e.state.cost&&(fetch("".concat(ce),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({displayRoomNums:t})}),fetch("".concat(me),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({displayPaymentMethods:t})}),localStorage.removeItem("delcntrl"))},1e3)}},{key:"renderMenu",value:function(e){var t=this;if(e)return e.map(function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("div",{className:"card alignroomsgreen3",style:{backgroundColor:"orangered"},key:e.mealTypeID},s.a.createElement("button",{className:"btn btn-orangered buttnheightbtn",onMouseOver:function(){return sessionStorage.setItem("meal",e.mealName)},onClick:function(){t.setState({Newmeal:e.mealName,Newprice:e.mealPrice,Newqty:parseInt(e.mealQt),Newid:e._id,tranID2:Math.floor(1e4*Math.random())}),t.handleStock()}},s.a.createElement("p",{className:"card-title formatnew2"},e.mealName))))))})}},{key:"renderOders",value:function(e){if(e)return e.map(function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:e.id},s.a.createElement("td",{className:"table-light table-striped adjust texted8Nw"},e.meal),s.a.createElement("td",{className:"table-light table-striped adjust texted8Nw"},e.qty),s.a.createElement("td",{className:"table-light table-striped adjust texted8Nw"},s.a.createElement(E.a,{value:e.mealPrice,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust texted8Nw"},s.a.createElement(E.a,{value:e.mealPrice*e.qty,thousandSeparator:!0,displayType:"text"}))))})}},{key:"renderSalesReport",value:function(e){if(e)return e.map(function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:e.id},s.a.createElement("td",{className:"table-light table-striped adjust texted8"},e.productName),s.a.createElement("td",{className:"table-light table-striped adjust texted8"},e.Quantity),s.a.createElement("td",{className:"table-light table-striped adjust texted8"},s.a.createElement(E.a,{value:e.productPrice,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust texted8"},s.a.createElement(E.a,{value:e.productPrice*e.Quantity,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust texted8"}," ")))})}},{key:"renderPos",value:function(e){var t=this;if(e)return e.map(function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("div",{className:"card alignroomsgreen3",style:{backgroundColor:"blueviolet"},key:e.mealTypeID},s.a.createElement("button",{className:"btn btn-blueviolet buttnheightbtn",onMouseOver:function(){return t.setState({menuID:e.mealTypeID})},onClick:function(){return t.buttonClick()}},s.a.createElement("p",{className:"card-title formatnew2"},e.mealType))))))})}},{key:"render",value:function(){var e=this;console.log(">>> Inside RESrender",this.state);var t=k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),a="Rest"+Math.floor(1e4*Math.random()),n=this.state.amountPaid;return""===this.state.amountPaid&&(n=0),null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement(T,null)):s.a.createElement("div",{className:"posterminal displayback"},s.a.createElement("br",null),s.a.createElement("div",{className:"row quantity"},s.a.createElement("center",null,s.a.createElement("h6",{style:{color:"white"}},"Add Quantity")),s.a.createElement("div",null,s.a.createElement("div",{className:"row"},s.a.createElement("p",{className:"prices"},"Price: ",this.state.Newprice),s.a.createElement("span",{className:"dcrbtn"},s.a.createElement("button",{className:"form-control mb-3 formsizeX1",onClick:function(){return e.decreament()}},s.a.createElement("p",{className:"sign"},"-"))),s.a.createElement("span",{className:"qtybtn"},s.a.createElement("input",{type:"number",className:"form-control2 mb-3 formsizeX",style:{textAlign:"center",fontStyle:"bold",color:"white",fontSize:"24px"},name:"Newqty",value:this.state.Newqty,onChange:this.handleChange3})),s.a.createElement("span",{className:"incbtn"},s.a.createElement("button",{className:"form-control mb-3 formsizeX1",onClick:function(){return e.increament()}},s.a.createElement("p",{className:"sign"},"+"))),"2",s.a.createElement("button",{className:"btn btn-warning addbtn",disabled:0===this.state.Newqty,onClick:function(){e.pushorder(),e.setState({docketFirst:1})}},"Add")))),s.a.createElement("div",{className:"salesTable"},s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust2"},"Menu"),s.a.createElement("th",{className:"adjust2"},"Qty"),s.a.createElement("th",{className:"adjust2"},"Price(=N)"),s.a.createElement("th",{className:"adjust2"},"Amount(=N)"))),s.a.createElement("tbody",{className:"table table-hover tableheight"},this.renderOders(this.state.selected)))),s.a.createElement("div",{className:"amountP"},s.a.createElement("input",{type:"text",className:"form-control mb-3 formsizeA1 textedM",name:"amountPaid",require:!0,placeholder:"Enter Payment",value:this.state.amountPaid,onChange:this.handleChange})),s.a.createElement("div",{className:"method"},s.a.createElement("select",{className:"form-select formsizeA1 textedM",name:"paymentMethod",onChange:this.handleChange},s.a.createElement("option",{selected:!0,value:""},"Payment Method"),this.renderPayMeth(this.state.displayPaymentMethods))),s.a.createElement("div",{className:"textAmount"},s.a.createElement("p",{className:"fmtcost2",style:{color:"white"}},"Total: ",s.a.createElement(E.a,{value:this.state.cost,thousandSeparator:!0,displayType:"text"}),".00")),s.a.createElement("div",{className:"textAmount2"},s.a.createElement("p",{className:"fmtcost2",style:{color:"white"}},"Bal: ",s.a.createElement(E.a,{value:this.state.cost-parseFloat(n),thousandSeparator:!0,displayType:"text"}),".00")),s.a.createElement("div",{className:"operations"},s.a.createElement("h4",{className:"texted4",style:{color:"white"}},"Operations"),s.a.createElement("button",{disabled:localStorage.getItem("delcntrl"),className:"btn btn-primary cartBtn2",onClick:function(){e.removeAll(),e.setState({docketFirst:0})}},s.a.createElement("p",{className:"texted"},"Delete")),s.a.createElement("button",{disabled:0===this.state.cost||""===this.state.amountPaid||this.state.amountPaid<this.state.cost||this.state.amountPaid>this.state.cost||""===this.state.paymentMethod||"Complimentary"===this.state.paymentMethod||1===this.state.docketFirst,className:"btn btn-primary cartBtn2",onClick:function(){e.onOpenPword()}},s.a.createElement("p",{className:"texted"},"Post")),s.a.createElement("select",{type:"button",disabled:1===this.state.docketFirst,className:"form-select formsizeB mb-2 btn btn-primary texted",name:"roomNumbers",onChange:this.handleChange2},s.a.createElement("option",{selected:!0,value:""},"Rooms"),this.renderRooms(this.state.displayRoomNums)),s.a.createElement("button",{disabled:""===this.state.roomNumbers||""!==this.state.amountPaid||1===this.state.docketFirst,className:"btn btn-primary cartBtn4",onClick:function(){e.onOpenCompModal(),e.postQty()}},s.a.createElement("p",{className:"texted"},"Room Post")),s.a.createElement("button",{disabled:"Complimentary"!==this.state.paymentMethod||""!==this.state.amountPaid||1===this.state.docketFirst,className:"btn btn-primary cartBtn2",onClick:function(){e.onOpenModalreceipt(),e.postQty()}},s.a.createElement("p",{className:"texted"},"Comp")),s.a.createElement("button",{disabled:1===this.state.docketFirst,className:"btn btn-primary cartBtn2",onClick:function(){e.handleReport()}},s.a.createElement("p",{className:"texted"},"Reports")),s.a.createElement("button",{disabled:localStorage.getItem("btnCntrl"),className:"btn btn-warning cartBtn12",onClick:function(){e.addToTable(),e.setState({NewtableNum:0})}},s.a.createElement("p",{className:"texted"},"Add to Table ",sessionStorage.getItem("tableNumber2"))),s.a.createElement("button",{disabled:"true",className:"btn btn-danger cartBtn2",onClick:function(){return e.logout}},s.a.createElement("p",{className:"texted"},"Close")),s.a.createElement("button",{className:"btn btn-danger cartBtn20",onClick:function(){return e.logout()}},s.a.createElement("p",{className:"texted"},"Log Out ",localStorage.getItem("userInfo").split(" ")[0])),s.a.createElement("button",{disabled:!0,className:this.state.shiftcolor},s.a.createElement("p",{className:"texted"},localStorage.getItem("shift"))),s.a.createElement("button",{disabled:0===this.state.selected.length||0===this.state.printStop||0===this.state.print,className:this.state.shiftcolor,onClick:function(){e.onOpenModaltoprint(),localStorage.setItem("delcntrl",!0)}},s.a.createElement("p",{className:"texted"},"Print Docket"))),s.a.createElement("div",{className:"tables"},s.a.createElement("h5",{className:"texted2",style:{color:"white"}},"Get Table"),s.a.createElement("h5",{className:"texted2",style:{color:"yellow"}},"Work Date: ",t),s.a.createElement("div",null,this.renderTables(this.state.tables)),s.a.createElement("h6",{style:{color:"silver",textAlign:"right"}},"Laundry App"),s.a.createElement("button",{className:"btn btn-danger texted",onClick:function(){e.props.history.push("/roomchart")}},"Goto Reception")),s.a.createElement("div",{className:"mainmenu"},this.renderPos(this.state.menu)),s.a.createElement("div",{className:"menulistItems"},this.renderMenu(this.state.menulist)),s.a.createElement(v.a,{open:this.state.edit},s.a.createElement("div",{className:"paperWidth"},s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized",style:{fontWeight:"bold",fontSize:"14px"}},this.state.Hotelname),s.a.createElement("p",{className:"textSized mb-3"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSized mb-3"},this.state.Hotelphone),s.a.createElement("hr",null),s.a.createElement("p",{className:"textSized2",style:{fontWeight:"bold",fontFamily:"Georgia, Times New Roman, Times, serif",fontSize:"14px"}},"Laundry Docket"),s.a.createElement("p",{className:"textSized2"},"Date: ",t),s.a.createElement("p",{className:"textSized2 mb-3"},"Docket Num: ",a)),s.a.createElement("hr",null),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust2Nw",style:{fontSize:"10px"}},"Menu"),s.a.createElement("th",{className:"adjust2Nw",style:{fontSize:"10px"}},"Qty"),s.a.createElement("th",{className:"adjust2Nw",style:{fontSize:"10px"}},"Price(=N)"),s.a.createElement("th",{className:"adjust2Nw",style:{fontSize:"10px"}},"Amount(=N)"))),s.a.createElement("tbody",{className:"table table-hover tableheight"},this.renderOders(this.state.selected))),s.a.createElement("hr",null),s.a.createElement("p",{style:{fontSize:"15px",fontFamily:"monospace",fontWeight:"bolder"}},"Total:",s.a.createElement(E.a,{value:this.state.cost,thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"15px",fontFamily:"monospace",fontWeight:"bolder"}},"Amount Paid:",s.a.createElement(E.a,{value:n,thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"15px",fontFamily:"monospace",fontWeight:"bolder"}},"Bal: ",s.a.createElement(E.a,{value:this.state.cost-parseFloat(n),thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"15px",fontFamily:"monospace",fontWeight:"bolder"}},"Payment Method: ",this.state.paymentMethod),s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized2"},"Prepared By: ",localStorage.getItem("userInfo")),s.a.createElement("p",{className:"textSized2"},"Shift: ",localStorage.getItem("shift")),s.a.createElement("p",{style:{fontSize:"13px",fontFamily:"monospace",fontWeight:"bold"}},"THANK YOU"),s.a.createElement("p",{style:{fontSize:"13px",fontFamily:"monospace",fontWeight:"bold"}},"Table Num: ",sessionStorage.getItem("printTableNum")),s.a.createElement("div",{className:"printing"},s.a.createElement("button",{className:this.state.shiftcolor,onClick:function(){e.sendtoprinter2()}},s.a.createElement("p",{className:"texted2"},this.state.printBTN)))))),s.a.createElement(v.a,{open:this.state.pword,onClose:function(){return e.onClosePword()},center:!0},s.a.createElement("div",null,s.a.createElement("div",{className:"formdesign152"},s.a.createElement("h6",{className:"mb-3"},"Access Required"),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("input",{type:"password",autoComplete:"off",className:"form-control mb-3 formsize51",name:"pass",require:!0,placeholder:"Enter Access Code",value:this.state.pass,onChange:this.handleChange}),s.a.createElement("button",{disabled:""===this.state.pass,className:"btn btn-warning formsize91",onClick:function(){return e.AllowRefund()}},"Login")))))),s.a.createElement(v.a,{open:this.state.editreceipt,onClose:function(){e.onCloseModalreceipt(),e.handleSubmit()}},s.a.createElement("div",null,s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized",style:{fontWeight:"bold",fontSize:"14px"}},this.state.Hotelname),s.a.createElement("p",{className:"textSized mb-3"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSized mb-3"},this.state.Hotelphone),s.a.createElement("hr",null),s.a.createElement("p",{className:"textSized2",style:{fontWeight:"bold",fontFamily:"Georgia, Times New Roman, Times, serif",fontSize:"14px"}},"Laundry Receipt"),s.a.createElement("p",{className:"textSized2"},"Date: ",t),s.a.createElement("p",{className:"textSized2 mb-3"},"Docket Num: ",a)),s.a.createElement("hr",null),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust2Nw",style:{fontSize:"10px"}},"Menu"),s.a.createElement("th",{className:"adjust2Nw",style:{fontSize:"10px"}},"Qty"),s.a.createElement("th",{className:"adjust2Nw",style:{fontSize:"10px"}},"Price(=N)"),s.a.createElement("th",{className:"adjust2Nw",style:{fontSize:"10px"}},"Amount(=N)"))),s.a.createElement("tbody",{className:"table table-hover tableheight"},this.renderOders(this.state.selected))),s.a.createElement("hr",null),s.a.createElement("p",{style:{fontSize:"15px",fontFamily:"monospace",fontWeight:"bolder"}},"Total: ",s.a.createElement(E.a,{value:this.state.cost,thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"15px",fontFamily:"monospace",fontWeight:"bolder"}},"Amount Paid: ",s.a.createElement(E.a,{value:n,thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"15px",fontFamily:"monospace",fontWeight:"bolder"}},"Bal: ",s.a.createElement(E.a,{value:this.state.cost-parseFloat(n),thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"15px",fontFamily:"monospace",fontWeight:"bolder"}},"Payment Method: ",this.state.paymentMethod),s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized2"},"Prepared By: ",localStorage.getItem("userInfo")),s.a.createElement("p",{className:"textSized2"},"Shift: ",localStorage.getItem("shift")),s.a.createElement("p",{style:{fontSize:"13px",fontFamily:"Georgia, Times New Roman, Times, serif",fontWeight:"bold"}},"THANK YOU"),s.a.createElement("div",{className:"printing"},s.a.createElement("button",{className:this.state.shiftcolor,onClick:function(){e.sendtoprinter()}},s.a.createElement("p",{className:"texted2"},"Print")),s.a.createElement("button",{className:this.state.shiftcolor,onClick:function(){e.onCloseModalreceipt(),e.handleSubmit()}},s.a.createElement("p",{className:"texted2"},"Close")))))),s.a.createElement(v.a,{open:this.state.compModal,onClose:function(){e.onCloseCompModal(),e.handleRoomSubmit()}},s.a.createElement("div",null,s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized",style:{fontWeight:"bold",fontSize:"14px"}},this.state.Hotelname),s.a.createElement("p",{className:"textSized mb-3"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSized mb-3"},this.state.Hotelphone),s.a.createElement("hr",null),s.a.createElement("p",{className:"textSized2",style:{fontWeight:"bold",fontSize:"14px"}},"Laundry Docket"),s.a.createElement("p",{className:"textSized2"},"Date: ",t),s.a.createElement("p",{className:"textSized2 mb-3"},"Docket Num: ",a)),s.a.createElement("hr",null),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust2Nw",style:{fontSize:"10px"}},"Menu"),s.a.createElement("th",{className:"adjust2Nw",style:{fontSize:"10px"}},"Qty"),s.a.createElement("th",{className:"adjust2Nw",style:{fontSize:"10px"}},"Price(=N)"),s.a.createElement("th",{className:"adjust2Nw",style:{fontSize:"10px"}},"Amount(=N)"))),s.a.createElement("tbody",{className:"table table-hover tableheight"},this.renderOders(this.state.selected))),s.a.createElement("hr",null),s.a.createElement("p",{style:{fontSize:"15px",fontFamily:"monospace",fontWeight:"bolder"}},"Total: ",s.a.createElement(E.a,{value:this.state.cost,thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"15px",fontFamily:"monospace",fontWeight:"bolder"}},"Amount Paid: ",s.a.createElement(E.a,{value:n,thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"15px",fontFamily:"monospace",fontWeight:"bolder"}},"Bal: ",s.a.createElement(E.a,{value:this.state.cost-parseFloat(n),thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"15px",fontFamily:"monospace",fontWeight:"bolder"}},"Payment Method: ",this.state.paymentMethod),s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized2"},"Prepared By: ",localStorage.getItem("userInfo")),s.a.createElement("p",{className:"textSized2"},"Shift: ",localStorage.getItem("shift")),s.a.createElement("p",{style:{fontSize:"13px",fontFamily:"Georgia, Times New Roman, Times, serif",fontWeight:"bold"}},"THANK YOU"),s.a.createElement("div",{className:"printing"},s.a.createElement("button",{className:this.state.shiftcolor,onClick:function(){e.sendtoprinter()}},s.a.createElement("p",{className:"texted2"},this.state.printBTN)),s.a.createElement("button",{className:this.state.shiftcolor,onClick:function(){e.onCloseCompModal(),e.handleRoomSubmit()}},s.a.createElement("p",{className:"texted2"},"Close")))))),s.a.createElement(v.a,{open:this.state.report,onClose:function(){e.onCloseModalreport()}},s.a.createElement("div",null,s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized",style:{fontWeight:"bold",fontSize:"14px"}},this.state.Hotelname),s.a.createElement("p",{className:"textSized mb-3"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSized mb-3"},this.state.Hotelphone),s.a.createElement("hr",null),s.a.createElement("p",{className:"textSized2",style:{fontWeight:"bold",fontSize:"14px"}},"Laundry Daily Sales Report"),s.a.createElement("p",{className:"textSized2"},"Report Date: ",t),s.a.createElement("p",{className:"textSized2 mb-3"},"Shift: ",this.state.useReportShift)),s.a.createElement("hr",null),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust2Nw",style:{fontSize:"10px"}},"Menu"),s.a.createElement("th",{className:"adjust2Nw",style:{fontSize:"10px"}},"Qty"),s.a.createElement("th",{className:"adjust2Nw",style:{fontSize:"10px"}},"Price(=N)"),s.a.createElement("th",{className:"adjust2Nw",style:{fontSize:"10px"}},"Amount(=N)"))),s.a.createElement("tbody",{className:"table table-hover tableheight"},this.renderSalesReport(this.state.DrinkSalesQtyReportData))),s.a.createElement("hr",null),s.a.createElement("p",{style:{fontSize:"14px",fontFamily:"Georgia, Times New Roman, Times, serif",fontWeight:"bold"}},"Total Sales: ",s.a.createElement(E.a,{value:this.state.totalSales,thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized2"},"Staff: ",this.state.useReportName),s.a.createElement("p",{className:"textSized2"},"Shift: ",this.state.useReportShift),s.a.createElement("p",{style:{fontSize:"13px",fontFamily:"monospace",fontWeight:"bold"}},"THANK YOU"),s.a.createElement("div",{className:"printing"},s.a.createElement("button",{className:this.state.shiftcolor,onClick:function(){e.sendtoprinter()}},s.a.createElement("p",{className:"texted2"},this.state.printBTN)),s.a.createElement("button",{className:this.state.shiftcolor,onClick:function(){e.onCloseModalreport()}},s.a.createElement("p",{className:"texted2"},"Close")))))),s.a.createElement(v.a,{open:this.state.credit,onClose:function(){return e.onCloseModalCredit()},style:{color:"silver"}},s.a.createElement("div",{className:"background591stockin"},s.a.createElement("h6",{style:{color:"silver",marginLeft:"50px",marginBottom:"-70px"}},"Recover Credit"),s.a.createElement("div",{className:"formdesign511"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("h6",null,"Summary"),s.a.createElement("div",{className:"col-3"},s.a.createElement("label",null,"Total Credit"),s.a.createElement("p",{type:"text",className:"form-control mb-3 formsize51 ikem"},s.a.createElement(E.a,{value:parseInt(this.state.TotalCredit),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("div",{className:"col-3"},s.a.createElement("label",null,"Total Recovered"),s.a.createElement("p",{type:"text",className:"form-control mb-3 formsize51 ikem"},s.a.createElement(E.a,{value:parseInt(this.state.TotalCreditPaid),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("div",{className:"col-3"},s.a.createElement("label",null,"Credit Balance"),s.a.createElement("p",{type:"text",className:"form-control mb-3 formsize51 ikem"},s.a.createElement(E.a,{value:parseInt(this.state.TotalCredit)-parseInt(this.state.TotalCreditPaid),thousandSeparator:!0,displayType:"text"})))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-4"},s.a.createElement("input",{type:"number",className:"form-control mb-3 formsize51 ikem",name:"creditPaid",require:!0,placeholder:"Enter Amount",value:this.state.creditPaid,onChange:this.handleChange})),s.a.createElement("div",{className:"col-4"},s.a.createElement("select",{className:"form-select formsize51 ikem",name:"paymentMethod",onChange:this.handleChange},s.a.createElement("option",{selected:!0,value:""},"Payment Method"),this.renderPayMeth(this.state.payNwMeth))))),s.a.createElement("div",{className:"row"},s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("center",null,s.a.createElement("span",null,s.a.createElement("button",{disabled:""===this.state.creditPaid,className:"btn btn-warning gap",onClick:function(){return e.postCredit()}},"Post"),s.a.createElement("button",{className:"btn btn-danger gap",onClick:function(){return e.onCloseModalCredit()}},"Close"))),s.a.createElement("br",null))))))}},{key:"componentDidMount",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(">>> Inside RESdidMount"),fetch("".concat("https://zarvichdemo.localto.net/laundryCategories"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({menu:e})}),fetch("".concat("https://zarvichdemo.localto.net/hoteladdress"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return t.setState({Hotelname:e.HotelName,Hoteladdress:e.Address,Hotelphone:e.Phone}),"ok"})}),e.next=5,fetch("".concat("https://zarvichdemo.localto.net/getActive"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return t.setState({transactionDate:e.date}),"ok"})});case 5:this.myTimer=setInterval(function(){fetch("".concat("https://zarvichdemo.localto.net/getActive"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return t.setState({transactionDate:e.date}),"ok"})})},1e3),fetch("".concat(me),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({payNwMeth:e})}),fetch("".concat("https://zarvichdemo.localto.net/getLaundryStore"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({DrinkstoreData:e})}),fetch("".concat(de),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({DrinkSalesQtyData:e})}),fetch("".concat(he),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({tables:e})}),this.myTimer=setTimeout(function(){fetch("".concat(he),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({tables:e})}),localStorage.setItem("btnCntrl",!0)},2e3),fetch("".concat("https://zarvichdemo.localto.net/restUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({loginDetails:e})}),this.myTimer=setTimeout(function(){var e=t.state.loginDetails,a=t.state.name;e.some(function(e){return e.name===a})?t.setState({Blogin:!0}):t.setState({Blogin:!1})},1e3),"Morning Shift"===localStorage.getItem("shift")?this.setState({shiftcolor:"btn btn-primary cartBtn20"}):"Night Shift"===localStorage.getItem("shift")?this.setState({shiftcolor:"btn btn-dark cartBtn20"}):"All Day"===localStorage.getItem("shift")&&this.setState({shiftcolor:"btn btn-warning cartBtn20"});case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),a}(n.Component),fe=pe,be=(a(136),a(160)),ge=a.n(be),Ee=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value))},console.log(">>> inside loginConstructor",e),n.state={login:!1,userInfo:"",userPassword:"",authPassword:"",selectUserName:"",shift:""},n}return Object(p.a)(a,[{key:"login",value:function(){var e=this;fetch("".concat("https://zarvichdemo.localto.net/barUserInfo?barcode=").concat(this.state.userPassword),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({userInfo:t}),e.myTimer=setTimeout(function(){e.state.userInfo.length>0&&(e.setState({login:!1}),window.location.reload(),t.map(function(t){return localStorage.setItem("userInfo",t.name),localStorage.setItem("shift",e.state.shift),"ok"}))},1e3)})}},{key:"onCloseModallogin",value:function(){this.setState({login:!0})}},{key:"render",value:function(){var e=this;return console.log(">>> Inside logindetails",this.state),s.a.createElement(s.a.Fragment,null,s.a.createElement(v.a,{open:this.state.login,onClose:function(){return e.onCloseModallogin()},center:!0},s.a.createElement("div",null,s.a.createElement("div",{className:"formdesign152"},s.a.createElement("h6",{className:"mb-3"},"Login First"),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("input",{type:"password",autoComplete:"off",className:"form-control mb-3 formsize51",name:"userPassword",require:!0,placeholder:"Enter password",value:this.state.userPassword,onChange:this.handleChange}),s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize51",name:"shift",require:!0,placeholder:"Select Shift",value:this.state.shift,list:"shift",onChange:this.handleChange}),s.a.createElement("datalist",{id:"shift"},s.a.createElement("option",{value:"Morning Shift"}),s.a.createElement("option",{value:"Night Shift"}),s.a.createElement("option",{value:"All Day"})),s.a.createElement("button",{disabled:""===this.state.userPassword||""===this.state.shift,className:"btn btn-warning formsize91",onClick:function(){return e.login()}},"Login")))))))}},{key:"componentDidMount",value:function(){var e=this;console.log(">>> Inside loginDidMount",this.state),fetch("".concat("https://zarvichdemo.localto.net/barUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({selectUserName:t,login:!0})})}}]),a}(n.Component),Se=Ee,ye=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),n=t.call(this,e),console.log(">>>Inside CompToConstructor",e),n.state={RestprintData:""},n}return Object(p.a)(a,[{key:"renderPrintData",value:function(e){if(e)return e.map(function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:e._id},s.a.createElement("td",{className:"table-light table-striped adjust2"},k()(e.date).format("MMM DD YYYY")),s.a.createElement("td",{className:"table-light table-striped adjust2"},e.docketNum),s.a.createElement("td",{className:"table-light table-striped adjust2"},e.refID),s.a.createElement("td",{className:"table-light table-striped adjust2"},e.roomNumbers),s.a.createElement("td",{className:"table-light table-striped adjust2"},e.paymentMethod),s.a.createElement("td",{className:"table-light table-striped adjust2"},s.a.createElement(E.a,{value:e.cost,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2"},s.a.createElement(E.a,{value:e.amountPaid,thousandSeparator:!0,displayType:"text"}))))})}},{key:"render",value:function(){return console.log(">>> Inside CompTorender",this.state),null==localStorage.getItem("userInfo")?s.a.createElement(s.a.Fragment,null,s.a.createElement(Se,null)):s.a.createElement("div",{className:"print-source"},s.a.createElement("div",null,s.a.createElement("img",{src:"zarvichlogo.png",className:"alignImg",style:{width:"100px",height:"70px"},alt:"logo"})),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("h6",null,"Zarvich Hotels Ltd."),s.a.createElement("p",{className:"textSize"},"No ABC Road, Wuse II, Abuja, Nigeria"),s.a.createElement("p",{className:"textSize"},"+234 803 590 5421, info@zarvichosh.com"))),s.a.createElement("center",null,s.a.createElement("h5",null,"Restaurant Sales Report")),s.a.createElement("br",null),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust2"},"Date"),s.a.createElement("th",{className:"adjust2"},"Docket Num"),s.a.createElement("th",{className:"adjust2"},"Room ID"),s.a.createElement("th",{className:"adjust2"},"Room Num"),s.a.createElement("th",{className:"adjust2"},"Payment Method"),s.a.createElement("th",{className:"adjust2"},"Price(=N)"),s.a.createElement("th",{className:"adjust2"},"AMount Paid(=N)"))),s.a.createElement("tbody",{className:"table table-hover"},this.renderPrintData(this.state.RestprintData))))}},{key:"componentDidMount",value:function(){var e=this;console.log(">>> Inside CompTodidMount"),fetch("https://zarvichdemo.localto.net/restaurantSales",{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({RestprintData:t})})}}]),a}(n.Component),Ne=ye,ve=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"black"},s.a.createElement("span",null,s.a.createElement(ge.a,{trigger:function(){return s.a.createElement("button",{className:"btn btn-primary buttncontrol5 mb-3 mt-3"},"Print Sales")},content:function(){return e.componentRef}}),s.a.createElement(Ne,{ref:function(t){return e.componentRef=t}}),s.a.createElement("button",{className:"btn btn-danger buttncontrol6 mb-3 mt-3",onClick:function(){e.props.history.push("./BarPortal")}},"Close")))}}]),a}(n.Component),De=Object(c.e)(ve),Te=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),n=t.call(this,e),console.log(">>>Inside SalesConstructor",e),n.state={salesRecords:"",totalSales:"",loginDetails:"",name:localStorage.getItem("userInfo"),login:"",Blogin:""},n}return Object(p.a)(a,[{key:"handleTotal",value:function(){var e=this.state.salesRecords.reduce(function(e,t){return e+parseInt(t.amountPaid)},0);this.setState({totalSales:e})}},{key:"renderSalesData",value:function(e){if(e)return e.map(function(e,t){return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:e._id},s.a.createElement("td",{className:"table-light table-striped adjust2"},k()(e.date).format("MMM DD YYYY")),s.a.createElement("td",{className:"table-light table-striped adjust2"},e.docketNum),s.a.createElement("td",{className:"table-light table-striped adjust2"},e.refID),s.a.createElement("td",{className:"table-light table-striped adjust2"},e.roomNumbers),s.a.createElement("td",{className:"table-light table-striped adjust2"},e.paymentMethod),s.a.createElement("td",{className:"table-light table-striped adjust2"},s.a.createElement(E.a,{value:e.cost,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2"},s.a.createElement(E.a,{value:e.amountPaid,thousandSeparator:!0,displayType:"text"}))),s.a.createElement("div",{className:"accordion-flush",id:"accordionFlushExample"},s.a.createElement("div",{className:"accordion-item"},s.a.createElement("h5",{className:"accordion-header",id:"flush-headingOne"},s.a.createElement("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapseOne","aria-expanded":"false","aria-controls":"flush-collapseOne"},s.a.createElement("b",{style:{color:"blue"}},"Order Details"))),s.a.createElement("div",{id:"flush-collapseOne",className:"accordion-collapse collapse","aria-labelledby":"flush-headingOne","data-bs-parent":"#accordionFlushExample"},s.a.createElement("div",{className:"accordion-body"},e.docketDetails.map(function(e){return s.a.createElement(s.a.Fragment,null,e.meal," (",s.a.createElement(E.a,{value:e.mealPrice,thousandSeparator:!0,displayType:"text"}),".00), \xa0;")}))))))})}},{key:"render",value:function(){return console.log(">>> Inside CompTorender",this.state),null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement(Se,null)):s.a.createElement(s.a.Fragment,null,s.a.createElement(De,null),s.a.createElement("center",null,s.a.createElement("h5",null,"Daily Sales Report")),s.a.createElement("br",null),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust2"},"Date"),s.a.createElement("th",{className:"adjust2"},"Docket Num"),s.a.createElement("th",{className:"adjust2"},"Room ID"),s.a.createElement("th",{className:"adjust2"},"Room Num"),s.a.createElement("th",{className:"adjust2"},"Payment Method"),s.a.createElement("th",{className:"adjust2"},"Price(=N)"),s.a.createElement("th",{className:"adjust2"},"AMount Paid(=N)"))),s.a.createElement("tbody",{className:"table table-hover"},this.renderSalesData(this.state.salesRecords))))}},{key:"componentDidMount",value:function(){var e=this;console.log(">>> Inside SalesTodidMount"),fetch("https://zarvichdemo.localto.net/restaurantSales",{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({salesRecords:t})}),fetch("".concat("https://zarvichdemo.localto.net/barUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({loginDetails:t})}),this.myTimer=setTimeout(function(){var t=e.state.loginDetails,a=e.state.name;t.some(function(e){return e.name===a})?e.setState({Blogin:!0}):e.setState({Blogin:!1})},1e3)}}]),a}(n.Component),Ce=Te,ke=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),n=t.call(this,e),console.log(">>>Inside RMConstructor"),n.state={loginDetails:"",name:localStorage.getItem("userInfo"),login:"",Blogin:""},n}return Object(p.a)(a,[{key:"logout",value:function(){localStorage.removeItem("userInfo"),this.setState({login:!0})}},{key:"render",value:function(){var e=this;return null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement(K,null)):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"background15"},s.a.createElement("center",null,s.a.createElement("div",{className:"formdesign150"},s.a.createElement("h4",{className:"mb-3"},"Restaurant Portal"),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-primary btnwidth15 mb-3",onClick:function(){e.props.history.push("./restaurant")}},"Restaurant"),s.a.createElement("button",{className:"btn btn-warning btnwidth15k mb-3",onClick:function(){e.props.history.push("/AppMenu")}},"App Menu"),s.a.createElement("button",{className:"btn btn-danger btnwidth15 mb-3",onClick:function(){return e.logout()}},"Log Out ",localStorage.getItem("userInfo").split(" ")[0])))))),s.a.createElement("div",{className:"pagebody3"},s.a.createElement("input",{hidden:!0})))}},{key:"componentDidMount",value:function(){var e=this;fetch("".concat("https://zarvichdemo.localto.net/restUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({loginDetails:t})}),this.myTimer=setTimeout(function(){var t=e.state.loginDetails,a=e.state.name;t.some(function(e){return e.name===a})?e.setState({Blogin:!0}):e.setState({Blogin:!1})},1e3)}}]),a}(n.Component),Ie=ke,je="https://zarvichdemo.localto.net/bar",xe="https://zarvichdemo.localto.net/checkin?docket=Yes",Me="https://zarvichdemo.localto.net/checkin?roomNumID=",Oe="https://zarvichdemo.localto.net/paymentMethods",we="https://zarvichdemo.localto.net/barTablePost",Pe="https://zarvichdemo.localto.net/barTable",Re="https://zarvichdemo.localto.net/getBarStore",Ae="https://zarvichdemo.localto.net/getBarSalesQty",ze=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleCost=function(e){if(null!==n.state.selected){var t=e.reduce(function(e,t){return e+t.mealPrice*t.qty},0);n.setState({cost:t})}null!==n.state.cost&&(fetch("".concat(xe),{method:"GET"}).then(function(e){return e.json()}).then(function(e){n.setState({displayRoomNums:e})}),fetch("".concat(Oe),{method:"GET"}).then(function(e){return e.json()}).then(function(e){n.setState({displayPaymentMethods:e})}),localStorage.removeItem("btnCntrl"),localStorage.removeItem("delcntrl"))},n.addqty=function(){var e=n.state.selected.map(function(e){return parseInt(e.qty+1)});n.setState({selected:e})},n.removeAll=function(e){var t=n.state.selected.filter(function(t){return t.id===e});n.setState({selected:t}),n.setState({cost:0}),n.setState({roomNumbers:""}),n.setState({amountPaid:""}),n.setState({displayRoomNums:""}),n.setState({paymentMethod:""}),n.setState({displayPaymentMethods:"",DrinkStore:0,DrinkSalesQty:0,stockBal:0})},n.handleChange=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value))},n.handleChange3=function(e){""===n.state.Newmeal&&""===n.state.Newprice&&""===n.state.Newid||n.setState(Object(h.a)({},e.target.name,e.target.value))},n.handleChange2=function(e){console.log("inside handle",n.props),n.setState(Object(h.a)({},e.target.name,e.target.value)),fetch("".concat(Me).concat(e.target.value),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return n.setState({guestInhouseID:e.refID,group:e.group}),"ok"})})},console.log(">>>Inside RESConstructor",e),n.state={Newmeal:"",Newprice:"",Newqty:0,Newid:"",edit:!1,editreceipt:!1,compModal:!1,report:!1,printStop:0,docketFirst:0,printBTN:"Print",print:0,blockTable:0,IDfound:[],menu:"",meal:"",mealPrice:"",mealQuantity:"",mealId:Math.floor(1e4*Math.random()),guestInhouseID:"",selected:[],menuID:"",menulist:"",cost:0,amountPaid:"",roomNumbers:"",paymentMethod:"",displayPaymentMethods:"",displayRoomNums:"",transactionDate:"",tables:"",newTable:"",NewtableNum:0,group:"",loginDetails:"",name:localStorage.getItem("userInfo"),Blogin:"",login:"",shiftcolor:"",shift:localStorage.getItem("shift"),DrinkstoreData:[],DrinkSalesQtyData:[],DrinkStore:0,DrinkSalesQty:0,stockBal:0,DrinkSalesQtyReportData:"",useReportName:"",useReportShift:"",useReportDate:"",totalSales:0,Stockbtn:"Add",creditSales:"",TotalCredit:0,creditPaid:0,payNwMeth:"",TotalCreditPaid:0,Hotelname:"",Hoteladdress:"",Hotelphone:"",pass:"",pword:!1,pword2:!1},n}return Object(p.a)(a,[{key:"onOpenPword",value:function(){"Credit"===this.state.paymentMethod?this.setState({pword:!0}):(this.setState({pword:!1}),this.onOpenModalreceipt(),this.postQty())}},{key:"onClosePword",value:function(){this.setState({pword:!1})}},{key:"AllowRefund",value:function(){"6849"===this.state.pass?(this.onOpenModalreceipt(),this.postQty(),this.onClosePword()):alert("Access Denied")}},{key:"onOpenModaltoprint",value:function(){this.setState({edit:!0})}},{key:"onOpenCompModal",value:function(){this.setState({compModal:!0})}},{key:"onCloseModalCredit",value:function(){this.setState({credit:!1,creditPaid:0})}},{key:"onCloseCompModal",value:function(){this.setState({compModal:!1})}},{key:"onCloseModaltoprint",value:function(){this.setState({edit:!1})}},{key:"onOpenModalreceipt",value:function(){this.setState({editreceipt:!0})}},{key:"onCloseModalreceipt",value:function(){this.setState({editreceipt:!1})}},{key:"onOpenModalreport",value:function(){this.setState({report:!0})}},{key:"onCloseModalreport",value:function(){this.setState({report:!1})}},{key:"handleReport",value:function(){var e=this,t=k()(this.state.transactionDate).format("MMM DD YYYY"),a=localStorage.getItem("userInfo"),n="".concat(Ae,"?useDate=").concat(t,"&&useshift=").concat(this.state.shift,"&&userstaff=").concat(a);fetch("".concat(n),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({DrinkSalesQtyReportData:t})}),this.myTimer=setTimeout(function(){if(e.state.DrinkSalesQtyReportData.length>0){var t=e.state.DrinkSalesQtyReportData,n=t.find(function(e){return e.user===a}),s=[];s.push(n),e.setState({useReportName:s.map(function(e){return e.user})}),e.setState({useReportShift:s.map(function(e){return e.shift})}),e.setState({useReportDate:s.map(function(e){return e.tranDate})});var o=t.reduce(function(e,t){return e+parseInt(t.productPrice*t.Quantity)},0);e.setState({totalSales:o}),e.onOpenModalreport()}else alert("No Sales was posted by "+a)},1e3)}},{key:"handleStock",value:function(){var e=this;if(this.state.DrinkstoreData.length>0){var t=sessionStorage.getItem("meal"),a=this.state.DrinkstoreData.filter(function(e){return e.productName.includes(t)}).reduce(function(e,t){return e+parseInt(t.piecesOut)},0);this.setState({DrinkStore:a});var n=this.state.DrinkSalesQtyData.filter(function(e){return e.productName.includes(t)}).reduce(function(e,t){return e+parseInt(t.Quantity)},0);this.setState({DrinkSalesQty:n}),this.myTimer=setTimeout(function(){var t=0+e.state.DrinkStore-e.state.DrinkSalesQty;e.setState({stockBal:t}),(t<0||t<-1)&&e.setState({stockBal:0}),0===e.state.stockBal?e.setState({Stockbtn:"Finished"}):e.setState({Stockbtn:"Add"})},1e3)}}},{key:"addToTable",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=sessionStorage.getItem("tableNumber"),a=this.state.selected,n={selected:a.map(function(e){return e}),billCost:this.state.cost,tableNum:sessionStorage.getItem("tableNumber")},e.next=6,fetch("".concat(we,"/").concat(t),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)});case 6:s=e.sent,console.log("result>  "+s),this.setState({selected:[]}),localStorage.setItem("btnCntrl",!0),this.setState({cost:0}),this.setState({roomNumbers:""}),this.setState({displayRoomNums:""}),this.setState({displayPaymentMethods:""}),this.setState({paymentMethod:""}),this.setState({printStop:0}),localStorage.removeItem("delcntrl"),sessionStorage.removeItem("tableNumber"),fetch("".concat(Pe),{method:"GET"}).then(function(e){return e.json()}).then(function(e){o.setState({tables:e})}),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(0),console.log(e.t0);case 24:case"end":return e.stop()}},e,this,[[0,21]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleCredit",value:function(){var e=this,t=localStorage.getItem("userInfo");fetch("".concat("https://zarvichdemo.localto.net/barCreditSales?BCstaff=").concat(t),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({creditSales:t}),t.map(function(a){var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.creditAmount)},0);e.setState({TotalCredit:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.creditPaid)},0);return e.setState({TotalCreditPaid:s}),"ok"})}),this.myTimer=setTimeout(function(){e.setState({credit:!0})},1e3)}},{key:"NewTable",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=sessionStorage.getItem("tableNumber"),a=this.state.selected,n={selected:a.map(function(e){return e}),billCost:this.state.cost,tableNum:t},0!==this.state.cost){e.next=9;break}alert("If you click table Number again without an order, I will slap you!"),sessionStorage.removeItem("tableNumber"),e.next=23;break;case 9:return e.next=11,fetch("".concat(we,"/").concat(t),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)});case 11:s=e.sent,console.log("result>  "+s),this.setState({selected:[]}),localStorage.setItem("btnCntrl",!0),this.setState({cost:0}),this.setState({roomNumbers:""}),this.setState({displayRoomNums:""}),this.setState({displayPaymentMethods:""}),this.setState({paymentMethod:""}),localStorage.removeItem("delcntrl"),this.setState({newTable:""}),fetch("".concat(Pe),{method:"GET"}).then(function(e){return e.json()}).then(function(e){o.setState({tables:e})});case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(0),console.log(e.t0);case 28:case"end":return e.stop()}},e,this,[[0,25]])}));return function(){return e.apply(this,arguments)}}()},{key:"getTable",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{t=sessionStorage.getItem("tableNumber"),fetch("".concat("https://zarvichdemo.localto.net/barTable?tableID=").concat(t),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return a.setState({selected:e.selected,cost:e.billCost,NewtableNum:1}),"ok"}),localStorage.removeItem("btnCntrl")}),fetch("".concat(xe),{method:"GET"}).then(function(e){return e.json()}).then(function(e){a.setState({displayRoomNums:e})}),fetch("".concat(Oe),{method:"GET"}).then(function(e){return e.json()}).then(function(e){a.setState({displayPaymentMethods:e})}),localStorage.setItem("delcntrl",!0),this.setState({printStop:1})}catch(n){console.log(n)}case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"postQty",value:function(){var e=this;try{this.state.selected.map(function(t){var a=t.meal,n=t.mealPrice,s=t.qty,o={id:t.tranID,productName:a,productPrice:n,Quantity:parseInt(s),user:localStorage.getItem("userInfo"),tranDate:k()(e.state.transactionDate).format("MMM DD YYYY"),shift:localStorage.getItem("shift")},r=fetch("".concat("https://zarvichdemo.localto.net/postBarSalesQty"),{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(o)});return console.log("result>  "+r),e.setState({Newmeal:"",Newprice:"",Newqty:0,Newid:"",DrinkstoreData:[],DrinkSalesQtyData:[]}),e.myTimer=setTimeout(function(){fetch("".concat(Re),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({DrinkstoreData:t})}),fetch("".concat(Ae),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({DrinkSalesQtyData:t})})},1e3),"ok"})}catch(t){console.log(t)}}},{key:"buttonClick",value:function(){var e=this;fetch("".concat("https://zarvichdemo.localto.net/drinkitems?drinktypes=").concat(this.state.menuID),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({menulist:t})})}},{key:"sendtoprinter",value:function(){window.print()}},{key:"sendtoprinter2",value:function(){"Print"===this.state.printBTN?(window.print(),this.setState({printBTN:"Close"})):"Close"===this.state.printBTN&&(this.setState({edit:!1}),this.setState({printBTN:"Print"}),this.setState({print:0,printStop:0,DrinkSalesQty:0,stockBal:0,blockTable:0}))}},{key:"handleSubmit",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o,r,l,c,i,u,h,d,p,f=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=sessionStorage.getItem("tableNumber"),a={selected:[],billCost:"",tableNum:sessionStorage.getItem("tableNumber")},"POS"!==this.state.paymentMethod){e.next=9;break}return n={docketNum:"Bar"+Math.floor(1e4*Math.random()),date:k()(this.state.transactionDate).format("MMM DD YYYY"),cost:"".concat(this.state.cost),POSAmount:"".concat(this.state.amountPaid),CashAmount:0,TransferAmount:0,CompDebit:0,roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod),description:"Bar Sales",department:"Bar Sales",docketDetails:this.state.selected,group:"".concat(this.state.group),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=7,fetch(je,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)});case 7:s=e.sent,console.log("result5>  "+s);case 9:if("Cash"!==this.state.paymentMethod){e.next=15;break}return o={docketNum:"Bar"+Math.floor(1e4*Math.random()),date:k()(this.state.transactionDate).format("MMM DD YYYY"),cost:"".concat(this.state.cost),CashAmount:"".concat(this.state.amountPaid),POSAmount:0,TransferAmount:0,CompDebit:0,roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod),description:"Bar Sales",department:"Bar Sales",docketDetails:this.state.selected,group:"".concat(this.state.group),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=13,fetch(je,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(o)});case 13:r=e.sent,console.log("result4>  "+r);case 15:if("Transfer"!==this.state.paymentMethod){e.next=21;break}return l={docketNum:"Bar"+Math.floor(1e4*Math.random()),date:k()(this.state.transactionDate).format("MMM DD YYYY"),cost:"".concat(this.state.cost),TransferAmount:"".concat(this.state.amountPaid),POSAmount:0,CashAmount:0,CompDebit:0,roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod),description:"Bar Sales",department:"Bar Sales",docketDetails:this.state.selected,group:"".concat(this.state.group),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=19,fetch(je,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(l)});case 19:c=e.sent,console.log("result3>  "+c);case 21:if("Complimentary"!==this.state.paymentMethod){e.next=27;break}return i={docketNum:"Bar"+Math.floor(1e4*Math.random()),date:k()(this.state.transactionDate).format("MMM DD YYYY"),cost:"".concat(this.state.cost),amountPaid:"".concat(this.state.amountPaid),CompDebit:"".concat(this.state.cost),POSAmount:0,CashAmount:0,TransferAmount:0,roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod),description:"Bar Sales",department:"Bar Sales",docketDetails:this.state.selected,group:"".concat(this.state.group),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=25,fetch(je,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(i)});case 25:u=e.sent,console.log("result2>  "+u);case 27:if("Credit"!==this.state.paymentMethod){e.next=33;break}return h={docketNum:"Bar"+Math.floor(1e4*Math.random()),date:k()(this.state.transactionDate).format("MMM DD YYYY"),cost:"".concat(this.state.cost),creditAmount:"".concat(this.state.amountPaid),paymentMethod:"".concat(this.state.paymentMethod),description:"Bar Credit",department:"Bar Credit",docketDetails:this.state.selected,group:"".concat(this.state.group),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift"),creditPaid:"".concat(this.state.creditPaid)},e.next=31,fetch("https://zarvichdemo.localto.net/barCredit",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(h)});case 31:d=e.sent,console.log("result2>  "+d);case 33:return e.next=35,fetch("".concat(we,"/").concat(t),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(a)});case 35:p=e.sent,console.log("result12>  "+p),alert("Sales Posted"),this.setState({selected:[]}),this.setState({cost:0}),this.setState({amountPaid:""}),this.setState({displayRoomNums:""}),this.setState({roomNumbers:""}),this.setState({paymentMethod:""}),this.setState({displayPaymentMethods:""}),this.setState({group:""}),this.setState({NewtableNum:0,shift:"",Newmeal:"",Newprice:"",Newqty:0,Newid:"",DrinkstoreData:[],DrinkSalesQtyData:[]}),sessionStorage.removeItem("stockBal"),localStorage.removeItem("delcntrl"),localStorage.setItem("btnCntrl",!0),sessionStorage.removeItem("tableNumber"),fetch("".concat(Re),{method:"GET"}).then(function(e){return e.json()}).then(function(e){f.setState({DrinkstoreData:e})}),fetch("".concat(Ae),{method:"GET"}).then(function(e){return e.json()}).then(function(e){f.setState({DrinkSalesQtyData:e})}),fetch("".concat(Pe),{method:"GET"}).then(function(e){return e.json()}).then(function(e){f.setState({tables:e})}),e.next=59;break;case 56:e.prev=56,e.t0=e.catch(0),console.log(e.t0);case 59:case"end":return e.stop()}},e,this,[[0,56]])}));return function(){return e.apply(this,arguments)}}()},{key:"postCredit",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o,r,l,c;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={docketNum:"Bar"+Math.floor(1e4*Math.random()),date:k()(this.state.transactionDate).format("MMM DD YYYY"),cost:0,creditAmount:0,paymentMethod:"".concat(this.state.paymentMethod),description:"Bar Credit",department:"Bar Credit",docketDetails:this.state.selected,group:"".concat(this.state.group),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift"),creditPaid:"".concat(this.state.creditPaid)},e.next=4,fetch("https://zarvichdemo.localto.net/barCredit",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)});case 4:if(a=e.sent,console.log("creditPay>  "+a),"POS"!==this.state.paymentMethod){e.next=12;break}return n={docketNum:"Bar"+Math.floor(1e4*Math.random()),date:k()(this.state.transactionDate).format("MMM DD YYYY"),cost:"".concat(this.state.cost),POSAmount:"".concat(this.state.creditPaid),CashAmount:0,TransferAmount:0,CompDebit:0,roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod),description:"Bar Credit",department:"Bar Sales",docketDetails:this.state.selected,group:"".concat(this.state.group),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=10,fetch(je,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)});case 10:s=e.sent,console.log("result5>  "+s);case 12:if("Cash"!==this.state.paymentMethod){e.next=18;break}return o={docketNum:"Bar"+Math.floor(1e4*Math.random()),date:k()(this.state.transactionDate).format("MMM DD YYYY"),cost:"".concat(this.state.cost),CashAmount:"".concat(this.state.creditPaid),POSAmount:0,TransferAmount:0,CompDebit:0,roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod),description:"Bar Credit",department:"Bar Sales",docketDetails:this.state.selected,group:"".concat(this.state.group),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=16,fetch(je,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(o)});case 16:r=e.sent,console.log("result4>  "+r);case 18:if("Transfer"!==this.state.paymentMethod){e.next=24;break}return l={docketNum:"Bar"+Math.floor(1e4*Math.random()),date:k()(this.state.transactionDate).format("MMM DD YYYY"),cost:"".concat(this.state.cost),TransferAmount:"".concat(this.state.creditPaid),POSAmount:0,CashAmount:0,CompDebit:0,roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod),description:"Bar Credit",department:"Bar Sales",docketDetails:this.state.selected,group:"".concat(this.state.group),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=22,fetch(je,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(l)});case 22:c=e.sent,console.log("result3>  "+c);case 24:alert("Credit Posted"),this.setState({creditSales:"",TotalCredit:0,creditPaid:0,TotalCreditPaid:0}),e.next=31;break;case 28:e.prev=28,e.t0=e.catch(0),console.log(e.t0);case 31:case"end":return e.stop()}},e,this,[[0,28]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleRoomSubmit",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o,r,l=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=sessionStorage.getItem("tableNumber"),a={selected:[],billCost:"",tableNum:sessionStorage.getItem("tableNumber")},n={_id:Math.floor(1e7*Math.random()),docketNum:"Bar"+Math.floor(1e4*Math.random()),refID:"".concat(this.state.guestInhouseID),date:k()(this.state.transactionDate).format("MMM DD YYYY"),cost:"".concat(this.state.cost),amountPaid:"".concat(this.state.amountPaid),roomDebit:"".concat(this.state.cost),POSAmount:0,CashAmount:0,TransferAmount:0,CompDebit:0,paymentMethod:"".concat(this.state.paymentMethod),roomNumbers:"".concat(this.state.roomNumbers),description:"Bar Docket",department:"Bar Sales",docketDetails:this.state.selected,group:"".concat(this.state.group),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=6,fetch("https://zarvichdemo.localto.net/bill",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)});case 6:return s=e.sent,console.log("result>  "+s),e.next=10,fetch(je,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)});case 10:return o=e.sent,console.log("result2>  "+o),e.next=14,fetch("".concat(we,"/").concat(t),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(a)});case 14:r=e.sent,console.log("result14>  "+r),alert("Docket Posted to Room "+this.state.roomNumbers),this.setState({selected:[]}),this.setState({cost:0}),this.setState({amountPaid:""}),this.setState({displayRoomNums:""}),this.setState({roomNumbers:""}),this.setState({paymentMethod:""}),this.setState({group:""}),this.setState({displayPaymentMethods:""}),this.setState({group:""}),this.setState({NewtableNum:0,shift:"",Newmeal:"",Newprice:"",Newqty:0,Newid:"",DrinkstoreData:[],DrinkSalesQtyData:[]}),sessionStorage.removeItem("stockBal"),localStorage.removeItem("delcntrl"),localStorage.setItem("btnCntrl",!0),sessionStorage.removeItem("tableNumber"),fetch("".concat(Re),{method:"GET"}).then(function(e){return e.json()}).then(function(e){l.setState({DrinkstoreData:e})}),fetch("".concat(Pe),{method:"GET"}).then(function(e){return e.json()}).then(function(e){l.setState({tables:e})}),e.next=38;break;case 35:e.prev=35,e.t0=e.catch(0),console.log(e.t0);case 38:case"end":return e.stop()}},e,this,[[0,35]])}));return function(){return e.apply(this,arguments)}}()},{key:"logout",value:function(){localStorage.removeItem("userInfo"),this.setState({login:!0}),localStorage.removeItem("shift")}},{key:"renderTables",value:function(e){var t=this;if(e)return e.sort(function(e,t){return e.tableNum-t.tableNum}),e.map(function(e){return""===e.billCost?s.a.createElement("div",{key:e._id},s.a.createElement("button",{className:"btn btn-success cartBtn3 alignroomsgreen2",disabled:1===t.state.NewtableNum,onClick:function(){sessionStorage.setItem("tableNumber",e.tableNum),t.NewTable(),t.setState({docketFirst:0})}},s.a.createElement("p",{className:"texted"},e.tableNum))):s.a.createElement("div",{key:e._id},s.a.createElement("button",{className:"btn btn-warning cartBtn3 alignroomsgreen2",onClick:function(){sessionStorage.setItem("tableNumber",e.tableNum),t.getTable(),t.setState({print:1})}},s.a.createElement("p",{className:"texted"},e.tableNum)))})}},{key:"renderPayMeth",value:function(e){if(e)return e.map(function(e,t){return s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{key:t,value:e.method},e.method))})}},{key:"renderRooms",value:function(e){if(e)return e.sort(function(e,t){return e.roomNumbers-t.roomNumbers}),e.map(function(e,t){return s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{key:t,value:e.roomNumbers},e.roomNumbers," - ",e.fname," ",e.lname))})}},{key:"addMeal",value:function(){var e=this;this.state.menulist.map(function(t){return e.setState({Newmeal:t.mealName,Newprice:t.mealPrice,Newqty:parseInt(t.mealQt),Newid:t._id}),"ok"})}},{key:"increament",value:function(){0!==this.state.Newqty&&this.setState({Newqty:this.state.Newqty+1})}},{key:"decreament",value:function(){0!==this.state.Newqty&&this.setState({Newqty:this.state.Newqty-1})}},{key:"pushorder",value:function(){var e=this,t=this.state.selected,a={};this.state.selected.length>0?(this.setState({blockTable:1}),a.id=this.state.Newid,a.meal=this.state.Newmeal,a.mealPrice=this.state.Newprice,a.qty=this.state.Newqty,a.tranID=Math.floor(1e4*Math.random()),t.push(a),this.setState({selected:t,printStop:0,DrinkStore:0,DrinkSalesQty:0,stockBal:0,Newmeal:"",Newprice:"",Newqty:0,Newid:""})):0===this.state.selected.length&&(this.setState({blockTable:0}),a.id=this.state.Newid,a.meal=this.state.Newmeal,a.mealPrice=this.state.Newprice,a.qty=this.state.Newqty,a.tranID=Math.floor(1e4*Math.random()),t.push(a),this.setState({selected:t,Newmeal:"",Newprice:"",Newqty:0,Newid:"",printStop:0,DrinkStore:0,DrinkSalesQty:0,stockBal:0})),this.myTimer=setTimeout(function(){if(e.state.selected.length>0){var a=t.reduce(function(e,t){return e+t.mealPrice*t.qty},0);e.setState({cost:a})}0!==e.state.cost&&(fetch("".concat(xe),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({displayRoomNums:t})}),fetch("".concat(Oe),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({displayPaymentMethods:t})}),localStorage.removeItem("delcntrl"))},1e3)}},{key:"renderMenu",value:function(e){var t=this;if(e)return e.map(function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("div",{className:"card alignroomsgreen3",style:{backgroundColor:"orangered"},key:e.mealTypeID},s.a.createElement("button",{className:"btn btn-orangered buttnheightbtn",onMouseOver:function(){return sessionStorage.setItem("meal",e.mealName)},onClick:function(){t.setState({Newmeal:e.mealName,Newprice:e.mealPrice,Newqty:parseInt(e.mealQt),Newid:e._id,tranID2:Math.floor(1e4*Math.random())}),t.handleStock()}},s.a.createElement("p",{className:"card-title formatnew2"},e.mealName))))))})}},{key:"renderOders",value:function(e){if(e)return e.map(function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:e.id},s.a.createElement("td",{className:"texted8NwDescr"},e.meal),s.a.createElement("td",{className:"texted8NwQty"},e.qty),s.a.createElement("td",{className:"texted8NwPri"},s.a.createElement(E.a,{value:e.mealPrice,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"texted8NwPri"},s.a.createElement(E.a,{value:e.mealPrice*e.qty,thousandSeparator:!0,displayType:"text"}))))})}},{key:"renderSalesReport",value:function(e){if(e)return e.map(function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:e.id},s.a.createElement("td",{className:"table-light table-striped adjust texted8"},e.productName),s.a.createElement("td",{className:"table-light table-striped adjust texted8"},e.Quantity),s.a.createElement("td",{className:"table-light table-striped adjust texted8"},s.a.createElement(E.a,{value:e.productPrice,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust texted8"},s.a.createElement(E.a,{value:e.productPrice*e.Quantity,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust texted8"}," ")))})}},{key:"renderPos",value:function(e){var t=this;if(e)return e.map(function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("div",{className:"card alignroomsgreen3",style:{backgroundColor:"blueviolet"},key:e.mealTypeID},s.a.createElement("button",{className:"btn btn-blueviolet buttnheightbtn",onMouseOver:function(){return t.setState({menuID:e.mealTypeID})},onClick:function(){return t.buttonClick()}},s.a.createElement("p",{className:"card-title formatnew2"},e.mealType))))))})}},{key:"render",value:function(){var e=this;console.log(">>> Inside RESrender",this.state);var t=k()(this.state.transactionDate).format("MMM DD YYYY"),a="Bar"+Math.floor(1e4*Math.random()),n=this.state.amountPaid;return""===this.state.amountPaid&&(n=0),null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement(Se,null)):s.a.createElement("div",{className:"posterminal"},s.a.createElement("br",null),s.a.createElement("div",{className:"row quantity displayback"},s.a.createElement("center",null,s.a.createElement("h6",{style:{color:"white"}},"Add Quantity")),s.a.createElement("div",null,s.a.createElement("div",{className:"row"},s.a.createElement("p",{className:"prices"},"Price: ",this.state.Newprice),s.a.createElement("p",{className:"prices2"},"Avail.Stock: ",this.state.stockBal),s.a.createElement("span",{className:"dcrbtn"},s.a.createElement("button",{className:"form-control mb-3 formsizeX1",onClick:function(){return e.decreament()}},s.a.createElement("p",{className:"sign"},"-"))),s.a.createElement("span",{className:"qtybtn"},s.a.createElement("input",{type:"number",className:"form-control2 mb-3 formsizeX",style:{textAlign:"center",fontStyle:"bold",color:"white",fontSize:"24px"},name:"Newqty",value:this.state.Newqty,onChange:this.handleChange3})),s.a.createElement("span",{className:"incbtn"},s.a.createElement("button",{className:"form-control mb-3 formsizeX1",onClick:function(){return e.increament()}},s.a.createElement("p",{className:"sign"},"+"))),s.a.createElement("button",{className:"btn btn-warning addbtn",disabled:0===this.state.Newqty||0===this.state.stockBal,onClick:function(){e.pushorder(),e.setState({docketFirst:1})}},this.state.Stockbtn)))),s.a.createElement("div",{className:"salesTable displayback"},s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust2"},"Menu"),s.a.createElement("th",{className:"adjust2"},"Qty"),s.a.createElement("th",{className:"adjust2"},"Price(=N)"),s.a.createElement("th",{className:"adjust2"},"Amount(=N)"))),s.a.createElement("tbody",{className:"table table-hover tableheight"},this.renderOders(this.state.selected)))),s.a.createElement("div",{className:"amountP displayback"},s.a.createElement("input",{type:"text",className:"form-control mb-3 formsizeA1 textedM",name:"amountPaid",require:!0,placeholder:"Enter Payment",value:this.state.amountPaid,onChange:this.handleChange})),s.a.createElement("div",{className:"method displayback"},s.a.createElement("select",{className:"form-select formsizeA1 textedM",name:"paymentMethod",onChange:this.handleChange},s.a.createElement("option",{selected:!0,value:""},"Payment Method"),this.renderPayMeth(this.state.displayPaymentMethods))),s.a.createElement("div",{className:"textAmount displayback"},s.a.createElement("p",{className:"fmtcost2",style:{color:"white"}},"Total: ",s.a.createElement(E.a,{value:this.state.cost,thousandSeparator:!0,displayType:"text"}),".00")),s.a.createElement("div",{className:"textAmount2 displayback"},s.a.createElement("p",{className:"fmtcost2",style:{color:"white"}},"Bal: ",s.a.createElement(E.a,{value:this.state.cost-parseFloat(n),thousandSeparator:!0,displayType:"text"}),".00")),s.a.createElement("div",{className:"operations displayback"},s.a.createElement("h4",{className:"texted4",style:{color:"white"}},"Operations"),s.a.createElement("button",{disabled:localStorage.getItem("delcntrl"),className:"btn btn-primary cartBtn2",onClick:function(){e.removeAll(),e.setState({docketFirst:0})}},s.a.createElement("p",{className:"texted"},"Delete")),s.a.createElement("button",{disabled:0===this.state.cost||""===this.state.amountPaid||this.state.amountPaid<this.state.cost||this.state.amountPaid>this.state.cost||""===this.state.paymentMethod||"Complimentary"===this.state.paymentMethod||1===this.state.docketFirst,className:"btn btn-primary cartBtn2",onClick:function(){e.onOpenPword()}},s.a.createElement("p",{className:"texted"},"Post")),s.a.createElement("select",{type:"button",disabled:1===this.state.docketFirst,className:"form-select formsizeB mb-2 btn btn-primary texted",name:"roomNumbers",onChange:this.handleChange2},s.a.createElement("option",{selected:!0,value:""},"Rooms"),this.renderRooms(this.state.displayRoomNums)),s.a.createElement("button",{disabled:""===this.state.roomNumbers||""!==this.state.amountPaid||1===this.state.docketFirst,className:"btn btn-primary cartBtn4",onClick:function(){e.onOpenCompModal(),e.postQty()}},s.a.createElement("p",{className:"texted"},"Room Post")),s.a.createElement("button",{disabled:"Complimentary"!==this.state.paymentMethod||""!==this.state.amountPaid||1===this.state.docketFirst,className:"btn btn-primary cartBtn2",onClick:function(){e.onOpenModalreceipt(),e.postQty()}},s.a.createElement("p",{className:"texted"},"Comp")),s.a.createElement("button",{disabled:1===this.state.docketFirst,className:"btn btn-primary cartBtn2",onClick:function(){e.handleReport()}},s.a.createElement("p",{className:"texted"},"Reports")),s.a.createElement("button",{disabled:localStorage.getItem("btnCntrl"),className:"btn btn-warning cartBtn12",onClick:function(){e.addToTable(),e.setState({NewtableNum:0})}},s.a.createElement("p",{className:"texted"},"Add to Table ",sessionStorage.getItem("tableNumber"))),s.a.createElement("button",{disabled:"true",className:"btn btn-danger cartBtn2",onClick:function(){return e.logout}},s.a.createElement("p",{className:"texted"},"Close")),s.a.createElement("button",{className:"btn btn-danger cartBtn20",onClick:function(){return e.logout()}},s.a.createElement("p",{className:"texted"},"Log Out ",localStorage.getItem("userInfo").split(" ")[0])),s.a.createElement("button",{disabled:1===this.state.docketFirst,className:"btn btn-primary cartBtn112",onClick:function(){e.handleCredit()}},s.a.createElement("p",{className:"texted"},"Recover Debt")),s.a.createElement("button",{disabled:!0,className:this.state.shiftcolor},s.a.createElement("p",{className:"texted"},localStorage.getItem("shift"))),s.a.createElement("button",{disabled:0===this.state.selected.length||0===this.state.printStop||0===this.state.print,className:this.state.shiftcolor,onClick:function(){e.onOpenModaltoprint(),localStorage.setItem("delcntrl",!0)}},s.a.createElement("p",{className:"texted"},"Print Docket"))),s.a.createElement("div",{className:"tables displayback"},s.a.createElement("h5",{className:"texted2",style:{color:"white"}},"Get Table"),s.a.createElement("h5",{className:"texted2",style:{color:"yellow"}},"Work Date: ",t),s.a.createElement("div",null,this.renderTables(this.state.tables)),s.a.createElement("h6",{style:{color:"silver",textAlign:"right"}},"Bar App"),s.a.createElement("button",{className:"btn btn-danger texted",onClick:function(){e.props.history.push("/Dashboard")}},"Goto Dashboard")),s.a.createElement("div",{className:"mainmenu displayback"},this.renderPos(this.state.menu)),s.a.createElement("div",{className:"menulistItems displayback"},this.renderMenu(this.state.menulist)),s.a.createElement(v.a,{open:this.state.edit},s.a.createElement("div",{className:"papersizeNew"},s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized",style:{fontWeight:"bold",fontSize:"14px"}},this.state.Hotelname),s.a.createElement("p",{className:"textSized mb-3"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSizedNumber"},"+234 802 288 8776"),s.a.createElement("hr",null),s.a.createElement("p",{className:"textSized2",style:{fontWeight:"bold",fontFamily:"Georgia, Times New Roman, Times, serif",fontSize:"14px"}},"Bar Docket"),s.a.createElement("p",{className:"textSized2"},"Date: ",t),s.a.createElement("p",{className:"textSized2 mb-3"},"Docket Num: ",a)),s.a.createElement("hr",null),s.a.createElement("table",{className:"tableSettingsNow"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust2Nwrest"},"Menu"),s.a.createElement("th",{className:"adjust2Nwrest"},"Qty"),s.a.createElement("th",{className:"adjust2Nwrest"},"Rate"),s.a.createElement("th",{className:"adjust2Nwrest"},"Amt"))),s.a.createElement("tbody",{className:"tableSettingsNow"},this.renderOders(this.state.selected))),s.a.createElement("hr",null),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Total:",s.a.createElement(E.a,{value:this.state.cost,thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Amount Paid:",s.a.createElement(E.a,{value:n,thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Bal: ",s.a.createElement(E.a,{value:this.state.cost-parseFloat(n),thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Payment Method: ",this.state.paymentMethod),s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized2"},"Prepared By: ",localStorage.getItem("userInfo")),s.a.createElement("p",{className:"textSized2"},"Shift: ",localStorage.getItem("shift")),s.a.createElement("p",{style:{fontSize:"13px",fontFamily:"Georgia, Times New Roman, Times, serif",fontWeight:"bold"}},"THANK YOU"),s.a.createElement("div",{className:"printing"},s.a.createElement("button",{className:this.state.shiftcolor,onClick:function(){e.sendtoprinter2()}},s.a.createElement("p",{className:"texted2"},this.state.printBTN)))))),s.a.createElement(v.a,{open:this.state.pword,onClose:function(){return e.onClosePword()},center:!0},s.a.createElement("div",null,s.a.createElement("div",{className:"formdesign152"},s.a.createElement("h6",{className:"mb-3"},"Access Required"),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("input",{type:"password",autoComplete:"off",className:"form-control mb-3 formsize51",name:"pass",require:!0,placeholder:"Enter Access Code",value:this.state.pass,onChange:this.handleChange}),s.a.createElement("button",{disabled:""===this.state.pass,className:"btn btn-warning formsize91",onClick:function(){return e.AllowRefund()}},"Login")))))),s.a.createElement(v.a,{open:this.state.editreceipt,onClose:function(){e.onCloseModalreceipt(),e.handleSubmit()}},s.a.createElement("div",{className:"papersizeNew"},s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized",style:{fontWeight:"bold",fontSize:"14px"}},this.state.Hotelname),s.a.createElement("p",{className:"textSized mb-3"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSizedNumber"},"+234 802 288 8776"),s.a.createElement("hr",null),s.a.createElement("p",{className:"textSized2",style:{fontWeight:"bold",fontSize:"14px"}},"Bar Receipt"),s.a.createElement("p",{className:"textSized2"},"Date: ",t),s.a.createElement("p",{className:"textSized2 mb-3"},"Docket Num: ",a)),s.a.createElement("hr",null),s.a.createElement("table",{className:"tableSettingsNow"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust2Nwrest",style:{fontSize:"10px"}},"Menu"),s.a.createElement("th",{className:"adjust2Nwrest",style:{fontSize:"10px"}},"Qty"),s.a.createElement("th",{className:"adjust2Nwrest",style:{fontSize:"10px"}},"Rate"),s.a.createElement("th",{className:"adjust2Nwrest",style:{fontSize:"10px"}},"Amt"))),s.a.createElement("tbody",{className:"tableSettingsNow"},this.renderOders(this.state.selected))),s.a.createElement("hr",null),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Total: ",s.a.createElement(E.a,{value:this.state.cost,thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Amount Paid: ",s.a.createElement(E.a,{value:n,thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Bal: ",s.a.createElement(E.a,{value:this.state.cost-parseFloat(n),thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Payment Method: ",this.state.paymentMethod),s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"texttextSized2Sized"},"Prepared By: ",localStorage.getItem("userInfo")),s.a.createElement("p",{className:"textSized2"},"Shift: ",localStorage.getItem("shift")),s.a.createElement("p",{style:{fontSize:"13px",fontFamily:"Georgia, Times New Roman, Times, serif",fontWeight:"bold"}},"THANK YOU"),s.a.createElement("div",{className:"printing"},s.a.createElement("button",{className:this.state.shiftcolor,onClick:function(){e.sendtoprinter()}},s.a.createElement("p",{className:"texted2"},"Print")),s.a.createElement("button",{className:this.state.shiftcolor,onClick:function(){e.onCloseModalreceipt(),e.handleSubmit()}},s.a.createElement("p",{className:"texted2"},"Close")))))),s.a.createElement(v.a,{open:this.state.compModal,onClose:function(){e.onCloseCompModal(),e.handleRoomSubmit()}},s.a.createElement("div",{className:"papersizeNew"},s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized",style:{fontWeight:"bold",fontSize:"14px"}},this.state.Hotelname),s.a.createElement("p",{className:"textSized mb-3"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSizedNumber"},"+234 802 288 8776"),s.a.createElement("hr",null),s.a.createElement("p",{className:"textSized2",style:{fontWeight:"bold",fontSize:"14px"}},"Bar Docket"),s.a.createElement("p",{className:"textSized2"},"Date: ",t),s.a.createElement("p",{className:"textSized2 mb-3"},"Docket Num: ",a)),s.a.createElement("hr",null),s.a.createElement("table",{className:"tableSettingsNow"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust2Nwrest",style:{fontSize:"10px"}},"Menu"),s.a.createElement("th",{className:"adjust2Nwrest",style:{fontSize:"10px"}},"Qty"),s.a.createElement("th",{className:"adjust2Nwrest",style:{fontSize:"10px"}},"Rate"),s.a.createElement("th",{className:"adjust2Nwrest",style:{fontSize:"10px"}},"Amt"))),s.a.createElement("tbody",{className:"tableSettingsNow"},this.renderOders(this.state.selected))),s.a.createElement("hr",null),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Total: ",s.a.createElement(E.a,{value:this.state.cost,thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Amount Paid: ",s.a.createElement(E.a,{value:n,thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Bal: ",s.a.createElement(E.a,{value:this.state.cost-parseFloat(n),thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Payment Method: ",this.state.paymentMethod),s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized2"},"Prepared By: ",localStorage.getItem("userInfo")),s.a.createElement("p",{className:"textSized2"},"Shift: ",localStorage.getItem("shift")),s.a.createElement("p",{style:{fontSize:"13px",fontWeight:"bold"}},"THANK YOU"),s.a.createElement("div",{className:"printing"},s.a.createElement("button",{className:this.state.shiftcolor,onClick:function(){e.sendtoprinter()}},s.a.createElement("p",{className:"texted2"},this.state.printBTN)),s.a.createElement("button",{className:this.state.shiftcolor,onClick:function(){e.onCloseCompModal(),e.handleRoomSubmit()}},s.a.createElement("p",{className:"texted2"},"Close")))))),s.a.createElement(v.a,{open:this.state.report,onClose:function(){e.onCloseModalreport()}},s.a.createElement("div",{className:"posPrint"},s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized",style:{fontWeight:"bold",fontSize:"14px"}},this.state.Hotelname),s.a.createElement("p",{className:"textSized mb-3"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSizedNumber"},"+234 802 288 8776"),s.a.createElement("hr",null),s.a.createElement("p",{className:"textSized2",style:{fontWeight:"bold",fontSize:"14px"}},"Bar Daily Sales Report"),s.a.createElement("p",{className:"textSized2"},"Report Date: ",t),s.a.createElement("p",{className:"textSized2 mb-3"},"Shift: ",this.state.useReportShift)),s.a.createElement("hr",null),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust2Nw",style:{fontSize:"10px"}},"Menu"),s.a.createElement("th",{className:"adjust2Nw",style:{fontSize:"10px"}},"Qty"),s.a.createElement("th",{className:"adjust2Nw",style:{fontSize:"10px"}},"Price(=N)"),s.a.createElement("th",{className:"adjust2Nw",style:{fontSize:"10px"}},"Amount(=N)"))),s.a.createElement("tbody",{className:"table table-hover tableheight"},this.renderSalesReport(this.state.DrinkSalesQtyReportData))),s.a.createElement("hr",null),s.a.createElement("p",{style:{fontSize:"14px",fontFamily:"Georgia, Times New Roman, Times, serif",fontWeight:"bold"}},"Total Sales: ",s.a.createElement(E.a,{value:this.state.totalSales,thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized2"},"Staff: ",this.state.useReportName),s.a.createElement("p",{className:"textSized2"},"Shift: ",this.state.useReportShift),s.a.createElement("p",{style:{fontSize:"13px",fontWeight:"bold"}},"THANK YOU"),s.a.createElement("div",{className:"printing"},s.a.createElement("button",{className:this.state.shiftcolor,onClick:function(){e.sendtoprinter()}},s.a.createElement("p",{className:"texted2"},this.state.printBTN)),s.a.createElement("button",{className:this.state.shiftcolor,onClick:function(){e.onCloseModalreport()}},s.a.createElement("p",{className:"texted2"},"Close")))))),s.a.createElement(v.a,{open:this.state.credit,onClose:function(){return e.onCloseModalCredit()},style:{color:"silver"}},s.a.createElement("div",{className:"background591stockin"},s.a.createElement("h6",{style:{color:"silver",marginLeft:"50px",marginBottom:"-70px"}},"Recover Credit"),s.a.createElement("div",{className:"formdesign511"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("h6",null,"Summary"),s.a.createElement("div",{className:"col-3"},s.a.createElement("label",null,"Total Credit"),s.a.createElement("p",{type:"text",className:"form-control mb-3 formsize51 ikem"},s.a.createElement(E.a,{value:parseInt(this.state.TotalCredit),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("div",{className:"col-3"},s.a.createElement("label",null,"Total Recovered"),s.a.createElement("p",{type:"text",className:"form-control mb-3 formsize51 ikem"},s.a.createElement(E.a,{value:parseInt(this.state.TotalCreditPaid),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("div",{className:"col-3"},s.a.createElement("label",null,"Credit Balance"),s.a.createElement("p",{type:"text",className:"form-control mb-3 formsize51 ikem"},s.a.createElement(E.a,{value:parseInt(this.state.TotalCredit)-parseInt(this.state.TotalCreditPaid),thousandSeparator:!0,displayType:"text"})))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-4"},s.a.createElement("input",{type:"number",className:"form-control mb-3 formsize51 ikem",name:"creditPaid",require:!0,placeholder:"Enter Amount",value:this.state.creditPaid,onChange:this.handleChange})),s.a.createElement("div",{className:"col-4"},s.a.createElement("select",{className:"form-select formsize51 ikem",name:"paymentMethod",onChange:this.handleChange},s.a.createElement("option",{selected:!0,value:""},"Payment Method"),this.renderPayMeth(this.state.payNwMeth))))),s.a.createElement("div",{className:"row"},s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("center",null,s.a.createElement("span",null,s.a.createElement("button",{disabled:""===this.state.creditPaid,className:"btn btn-warning gap",onClick:function(){return e.postCredit()}},"Post"),s.a.createElement("button",{className:"btn btn-danger gap",onClick:function(){return e.onCloseModalCredit()}},"Close"))),s.a.createElement("br",null))))))}},{key:"componentDidMount",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(">>> Inside RESdidMount"),fetch("".concat("https://zarvichdemo.localto.net/drinkCategories"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({menu:e})}),fetch("".concat(Re),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({DrinkstoreData:e})}),fetch("".concat("https://zarvichdemo.localto.net/hoteladdress"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return t.setState({Hotelname:e.HotelName,Hoteladdress:e.Address,Hotelphone:e.Phone}),"ok"})}),e.next=6,fetch("".concat("https://zarvichdemo.localto.net/getActive"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return t.setState({transactionDate:e.date}),"ok"})});case 6:this.myTimer=setInterval(function(){fetch("".concat("https://zarvichdemo.localto.net/getActive"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return t.setState({transactionDate:e.date}),"ok"})})},1e3),fetch("".concat(Oe),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({payNwMeth:e})}),fetch("".concat(Ae),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({DrinkSalesQtyData:e})}),fetch("".concat(Pe),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({tables:e})}),this.myTimer=setTimeout(function(){fetch("".concat(Pe),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({tables:e})}),localStorage.setItem("btnCntrl",!0)},2e3),fetch("".concat("https://zarvichdemo.localto.net/barUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({loginDetails:e})}),this.myTimer=setTimeout(function(){var e=t.state.loginDetails,a=t.state.name;e.some(function(e){return e.name===a})?t.setState({Blogin:!0}):t.setState({Blogin:!1})},1e3),"Morning Shift"===localStorage.getItem("shift")?this.setState({shiftcolor:"btn btn-primary cartBtn20"}):"Night Shift"===localStorage.getItem("shift")?this.setState({shiftcolor:"btn btn-dark cartBtn20"}):"All Day"===localStorage.getItem("shift")&&this.setState({shiftcolor:"btn btn-warning cartBtn20"});case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),a}(n.Component),Be=ze,Ge="https://zarvichdemo.localto.net/checkin?docket=Yes",Ye="https://zarvichdemo.localto.net/checkin?roomNumID=",Fe="https://zarvichdemo.localto.net/paymentMethods",Ue="https://zarvichdemo.localto.net/barTablePost",He="https://zarvichdemo.localto.net/barTable",qe="https://zarvichdemo.localto.net/getBarStore",Le="https://zarvichdemo.localto.net/getBarSalesQty",_e=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleCost=function(e){if(null!==n.state.selected){var t=e.reduce(function(e,t){return e+t.mealPrice*t.qty},0);n.setState({cost:t})}null!==n.state.cost&&(fetch("".concat(Ge),{method:"GET"}).then(function(e){return e.json()}).then(function(e){n.setState({displayRoomNums:e})}),fetch("".concat(Fe),{method:"GET"}).then(function(e){return e.json()}).then(function(e){n.setState({displayPaymentMethods:e})}),localStorage.removeItem("btnCntrl"),localStorage.removeItem("delcntrl"))},n.addqty=function(){var e=n.state.selected.map(function(e){return parseInt(e.qty+1)});n.setState({selected:e})},n.removeAll=function(e){var t=n.state.selected.filter(function(t){return t.id===e});n.setState({selected:t}),n.setState({cost:0}),n.setState({roomNumbers:""}),n.setState({amountPaid:""}),n.setState({displayRoomNums:""}),n.setState({paymentMethod:""}),n.setState({displayPaymentMethods:"",DrinkStore:0,DrinkSalesQty:0,stockBal:0})},n.handleChange=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value))},n.handleChange3=function(e){""===n.state.Newmeal&&""===n.state.Newprice&&""===n.state.Newid||n.setState(Object(h.a)({},e.target.name,e.target.value))},n.handleChange2=function(e){console.log("inside handle",n.props),n.setState(Object(h.a)({},e.target.name,e.target.value)),fetch("".concat(Ye).concat(e.target.value),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return n.setState({guestInhouseID:e.refID,group:e.group}),"ok"})})},console.log(">>>Inside RESConstructor",e),n.state={Newmeal:"",Newprice:"",Newqty:0,Newid:"",edit:!1,editreceipt:!1,compModal:!1,report:!1,printStop:0,docketFirst:0,printBTN:"Print",print:0,blockTable:0,IDfound:[],menu:"",meal:"",mealPrice:"",mealQuantity:"",mealId:Math.floor(1e4*Math.random()),guestInhouseID:"",selected:[],menuID:"",menulist:"",cost:0,amountPaid:"",roomNumbers:"",paymentMethod:"",displayPaymentMethods:"",displayRoomNums:"",transactionDate:new Date,tables:"",newTable:"",NewtableNum:0,group:"",loginDetails:"",name:localStorage.getItem("userInfo"),Blogin:"",login:"",shiftcolor:"",shift:localStorage.getItem("shift"),DrinkstoreData:[],DrinkSalesQtyData:[],DrinkStore:0,DrinkSalesQty:0,stockBal:0,DrinkSalesQtyReportData:"",useReportName:"",useReportShift:"",useReportDate:"",totalSales:0,Stockbtn:"Add"},n}return Object(p.a)(a,[{key:"onOpenModaltoprint",value:function(){this.setState({edit:!0})}},{key:"onOpenCompModal",value:function(){this.setState({compModal:!0})}},{key:"onCloseCompModal",value:function(){this.setState({compModal:!1})}},{key:"onCloseModaltoprint",value:function(){this.setState({edit:!1})}},{key:"onOpenModalreceipt",value:function(){this.setState({editreceipt:!0})}},{key:"onCloseModalreceipt",value:function(){this.setState({editreceipt:!1})}},{key:"onOpenModalreport",value:function(){this.setState({report:!0})}},{key:"onCloseModalreport",value:function(){this.setState({report:!1})}},{key:"handleReport",value:function(){var e=this,t=k()(new Date).format("MMM DD YYYY"),a=localStorage.getItem("userInfo"),n="".concat(Le,"?useDate=").concat(t,"&&useshift=").concat(this.state.shift,"&&userstaff=").concat(a);fetch("".concat(n),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({DrinkSalesQtyReportData:t})}),this.myTimer=setTimeout(function(){if(e.state.DrinkSalesQtyReportData.length>0){var t=e.state.DrinkSalesQtyReportData,n=t.find(function(e){return e.user===a}),s=[];s.push(n),e.setState({useReportName:s.map(function(e){return e.user})}),e.setState({useReportShift:s.map(function(e){return e.shift})}),e.setState({useReportDate:s.map(function(e){return e.tranDate})});var o=t.reduce(function(e,t){return e+parseInt(t.productPrice*t.Quantity)},0);e.setState({totalSales:o}),e.onOpenModalreport()}else alert("No Sales was posted by "+a)},1e3)}},{key:"handleStock",value:function(){var e=this;if(this.state.DrinkstoreData.length>0){var t=sessionStorage.getItem("meal"),a=this.state.DrinkstoreData.filter(function(e){return e.productName.includes(t)}).reduce(function(e,t){return e+parseInt(t.piecesOut)},0);this.setState({DrinkStore:a});var n=this.state.DrinkSalesQtyData.filter(function(e){return e.productName.includes(t)}).reduce(function(e,t){return e+parseInt(t.Quantity)},0);this.setState({DrinkSalesQty:n}),this.myTimer=setTimeout(function(){var t=0+e.state.DrinkStore-e.state.DrinkSalesQty;e.setState({stockBal:t}),(t<0||t<-1)&&e.setState({stockBal:0}),0===e.state.stockBal?e.setState({Stockbtn:"Finished"}):e.setState({Stockbtn:"Add"})},1e3)}}},{key:"addToTable",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=sessionStorage.getItem("tableNumber"),a=this.state.selected,n={selected:a.map(function(e){return e}),billCost:this.state.cost,tableNum:sessionStorage.getItem("tableNumber")},e.next=6,fetch("".concat(Ue,"/").concat(t),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)});case 6:s=e.sent,console.log("result>  "+s),this.setState({selected:[]}),localStorage.setItem("btnCntrl",!0),this.setState({cost:0}),this.setState({roomNumbers:""}),this.setState({displayRoomNums:""}),this.setState({displayPaymentMethods:""}),this.setState({paymentMethod:""}),this.setState({printStop:0}),localStorage.removeItem("delcntrl"),sessionStorage.removeItem("tableNumber"),fetch("".concat(He),{method:"GET"}).then(function(e){return e.json()}).then(function(e){o.setState({tables:e})}),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(0),console.log(e.t0);case 24:case"end":return e.stop()}},e,this,[[0,21]])}));return function(){return e.apply(this,arguments)}}()},{key:"NewTable",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=sessionStorage.getItem("tableNumber"),a=this.state.selected,n={selected:a.map(function(e){return e}),billCost:this.state.cost,tableNum:t},0!==this.state.cost){e.next=9;break}alert("If you click table Number again without an order, I will slap you!"),sessionStorage.removeItem("tableNumber"),e.next=23;break;case 9:return e.next=11,fetch("".concat(Ue,"/").concat(t),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)});case 11:s=e.sent,console.log("result>  "+s),this.setState({selected:[]}),localStorage.setItem("btnCntrl",!0),this.setState({cost:0}),this.setState({roomNumbers:""}),this.setState({displayRoomNums:""}),this.setState({displayPaymentMethods:""}),this.setState({paymentMethod:""}),localStorage.removeItem("delcntrl"),this.setState({newTable:""}),fetch("".concat(He),{method:"GET"}).then(function(e){return e.json()}).then(function(e){o.setState({tables:e})});case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(0),console.log(e.t0);case 28:case"end":return e.stop()}},e,this,[[0,25]])}));return function(){return e.apply(this,arguments)}}()},{key:"getTable",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{t=sessionStorage.getItem("tableNumber"),fetch("".concat("https://zarvichdemo.localto.net/barTable?tableID=").concat(t),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return a.setState({selected:e.selected,cost:e.billCost,NewtableNum:1}),"ok"}),localStorage.removeItem("btnCntrl")}),fetch("".concat(Ge),{method:"GET"}).then(function(e){return e.json()}).then(function(e){a.setState({displayRoomNums:e})}),fetch("".concat(Fe),{method:"GET"}).then(function(e){return e.json()}).then(function(e){a.setState({displayPaymentMethods:e})}),localStorage.setItem("delcntrl",!0),this.setState({printStop:1})}catch(n){console.log(n)}case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"postQty",value:function(){var e=this;try{this.state.selected.map(function(t){var a=t.meal,n=t.mealPrice,s=t.qty,o={id:t.tranID,productName:a,productPrice:n,Quantity:parseInt(s),user:localStorage.getItem("userInfo"),tranDate:k()(new Date).format("MMM DD YYYY"),shift:localStorage.getItem("shift")},r=fetch("".concat("https://zarvichdemo.localto.net/postBarSalesQty"),{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(o)});return console.log("result>  "+r),e.setState({Newmeal:"",Newprice:"",Newqty:0,Newid:"",DrinkstoreData:[],DrinkSalesQtyData:[]}),e.myTimer=setTimeout(function(){fetch("".concat(qe),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({DrinkstoreData:t})}),fetch("".concat(Le),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({DrinkSalesQtyData:t})})},1e3),"ok"})}catch(t){console.log(t)}}},{key:"buttonClick",value:function(){var e=this;fetch("".concat("https://zarvichdemo.localto.net/drinkitems?drinktypes=").concat(this.state.menuID),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({menulist:t})})}},{key:"sendtoprinter",value:function(){window.print()}},{key:"sendtoprinter2",value:function(){"Print"===this.state.printBTN?(window.print(),this.setState({printBTN:"Close"})):"Close"===this.state.printBTN&&(this.setState({edit:!1}),this.setState({printBTN:"Print"}),this.setState({print:0,printStop:0,DrinkSalesQty:0,stockBal:0,blockTable:0}))}},{key:"handleSubmit",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o,r,l,c,i,u,h,d=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=sessionStorage.getItem("tableNumber"),a={selected:[],billCost:"",tableNum:sessionStorage.getItem("tableNumber")},"POS"!==this.state.paymentMethod){e.next=9;break}return n={docketNum:"Bar"+Math.floor(1e4*Math.random()),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),cost:"".concat(this.state.cost),POSAmount:"".concat(this.state.amountPaid),CashAmount:0,TransferAmount:0,CompDebit:0,roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod),description:"Bar Sales",department:"Bar Sales",docketDetails:this.state.selected,group:"".concat(this.state.group),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=7,fetch("https://zarvichdemo.localto.net/bar",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)});case 7:s=e.sent,console.log("result5>  "+s);case 9:if("Cash"!==this.state.paymentMethod){e.next=15;break}return o={docketNum:"Bar"+Math.floor(1e4*Math.random()),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),cost:"".concat(this.state.cost),CashAmount:"".concat(this.state.amountPaid),POSAmount:0,TransferAmount:0,CompDebit:0,roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod),description:"Bar Sales",department:"Bar Sales",docketDetails:this.state.selected,group:"".concat(this.state.group),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=13,fetch("https://zarvichdemo.localto.net/bar",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(o)});case 13:r=e.sent,console.log("result4>  "+r);case 15:if("Transfer"!==this.state.paymentMethod){e.next=21;break}return l={docketNum:"Bar"+Math.floor(1e4*Math.random()),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),cost:"".concat(this.state.cost),TransferAmount:"".concat(this.state.amountPaid),POSAmount:0,CashAmount:0,CompDebit:0,roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod),description:"Bar Sales",department:"Bar Sales",docketDetails:this.state.selected,group:"".concat(this.state.group),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=19,fetch("https://zarvichdemo.localto.net/bar",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(l)});case 19:c=e.sent,console.log("result3>  "+c);case 21:if("Complimentary"!==this.state.paymentMethod){e.next=27;break}return i={docketNum:"Bar"+Math.floor(1e4*Math.random()),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),cost:"".concat(this.state.cost),amountPaid:"".concat(this.state.amountPaid),CompDebit:"".concat(this.state.cost),POSAmount:0,CashAmount:0,TransferAmount:0,roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod),description:"Bar Sales",department:"Bar Sales",docketDetails:this.state.selected,group:"".concat(this.state.group),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=25,fetch("https://zarvichdemo.localto.net/bar",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(i)});case 25:u=e.sent,console.log("result2>  "+u);case 27:return e.next=29,fetch("".concat(Ue,"/").concat(t),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(a)});case 29:h=e.sent,console.log("result12>  "+h),alert("Sales Posted"),this.setState({selected:[]}),this.setState({cost:0}),this.setState({amountPaid:""}),this.setState({displayRoomNums:""}),this.setState({roomNumbers:""}),this.setState({paymentMethod:""}),this.setState({displayPaymentMethods:""}),this.setState({group:""}),this.setState({NewtableNum:0,shift:"",Newmeal:"",Newprice:"",Newqty:0,Newid:"",DrinkstoreData:[],DrinkSalesQtyData:[]}),sessionStorage.removeItem("stockBal"),localStorage.removeItem("delcntrl"),localStorage.setItem("btnCntrl",!0),sessionStorage.removeItem("tableNumber"),fetch("".concat(qe),{method:"GET"}).then(function(e){return e.json()}).then(function(e){d.setState({DrinkstoreData:e})}),fetch("".concat(Le),{method:"GET"}).then(function(e){return e.json()}).then(function(e){d.setState({DrinkSalesQtyData:e})}),fetch("".concat(He),{method:"GET"}).then(function(e){return e.json()}).then(function(e){d.setState({tables:e})}),e.next=53;break;case 50:e.prev=50,e.t0=e.catch(0),console.log(e.t0);case 53:case"end":return e.stop()}},e,this,[[0,50]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleRoomSubmit",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o,r,l=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=sessionStorage.getItem("tableNumber"),a={selected:[],billCost:"",tableNum:sessionStorage.getItem("tableNumber")},n={_id:Math.floor(1e4*Math.random()),docketNum:"Bar"+Math.floor(1e4*Math.random()),refID:"".concat(this.state.guestInhouseID),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),cost:"".concat(this.state.cost),amountPaid:"".concat(this.state.amountPaid),roomDebit:"".concat(this.state.cost),POSAmount:0,CashAmount:0,TransferAmount:0,CompDebit:0,paymentMethod:"".concat(this.state.paymentMethod),roomNumbers:"".concat(this.state.roomNumbers),description:"Bar Docket",department:"Bar Sales",docketDetails:this.state.selected,group:"".concat(this.state.group),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=6,fetch("https://zarvichdemo.localto.net/bill",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)});case 6:return s=e.sent,console.log("result>  "+s),e.next=10,fetch("https://zarvichdemo.localto.net/bar",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)});case 10:return o=e.sent,console.log("result2>  "+o),e.next=14,fetch("".concat(Ue,"/").concat(t),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(a)});case 14:r=e.sent,console.log("result14>  "+r),alert("Docket Posted to Room "+this.state.roomNumbers),this.setState({selected:[]}),this.setState({cost:0}),this.setState({amountPaid:""}),this.setState({displayRoomNums:""}),this.setState({roomNumbers:""}),this.setState({paymentMethod:""}),this.setState({group:""}),this.setState({displayPaymentMethods:""}),this.setState({group:""}),this.setState({NewtableNum:0,shift:"",Newmeal:"",Newprice:"",Newqty:0,Newid:"",DrinkstoreData:[],DrinkSalesQtyData:[]}),sessionStorage.removeItem("stockBal"),localStorage.removeItem("delcntrl"),localStorage.setItem("btnCntrl",!0),sessionStorage.removeItem("tableNumber"),fetch("".concat(qe),{method:"GET"}).then(function(e){return e.json()}).then(function(e){l.setState({DrinkstoreData:e})}),fetch("".concat(He),{method:"GET"}).then(function(e){return e.json()}).then(function(e){l.setState({tables:e})}),e.next=38;break;case 35:e.prev=35,e.t0=e.catch(0),console.log(e.t0);case 38:case"end":return e.stop()}},e,this,[[0,35]])}));return function(){return e.apply(this,arguments)}}()},{key:"logout",value:function(){localStorage.removeItem("userInfo"),this.setState({login:!0}),localStorage.removeItem("shift")}},{key:"renderTables",value:function(e){var t=this;if(e)return e.sort(function(e,t){return e.tableNum-t.tableNum}),e.map(function(e){return""===e.billCost?s.a.createElement("div",{key:e._id},s.a.createElement("button",{className:"btn btn-success cartBtn3 alignroomsgreen2",disabled:1===t.state.NewtableNum,onClick:function(){sessionStorage.setItem("tableNumber",e.tableNum),t.NewTable(),t.setState({docketFirst:0})}},s.a.createElement("p",{className:"texted"},e.tableNum))):s.a.createElement("div",{key:e._id},s.a.createElement("button",{className:"btn btn-warning cartBtn3 alignroomsgreen2",onClick:function(){sessionStorage.setItem("tableNumber",e.tableNum),t.getTable(),t.setState({print:1})}},s.a.createElement("p",{className:"texted"},e.tableNum)))})}},{key:"renderPayMeth",value:function(e){if(e)return e.map(function(e,t){return s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{key:t,value:e.method},e.method))})}},{key:"renderRooms",value:function(e){if(e)return e.sort(function(e,t){return e.roomNumbers-t.roomNumbers}),e.map(function(e,t){return s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{key:t,value:e.roomNumbers},e.roomNumbers," - ",e.fname," ",e.lname))})}},{key:"addMeal",value:function(){var e=this;this.state.menulist.map(function(t){return e.setState({Newmeal:t.mealName,Newprice:t.mealPrice,Newqty:parseInt(t.mealQt),Newid:t._id}),"ok"})}},{key:"increament",value:function(){0!==this.state.Newqty&&this.setState({Newqty:this.state.Newqty+1})}},{key:"decreament",value:function(){0!==this.state.Newqty&&this.setState({Newqty:this.state.Newqty-1})}},{key:"pushorder",value:function(){var e=this,t=this.state.selected,a={};this.state.selected.length>0?(this.setState({blockTable:1}),a.id=this.state.Newid,a.meal=this.state.Newmeal,a.mealPrice=this.state.Newprice,a.qty=this.state.Newqty,a.tranID=Math.floor(1e4*Math.random()),t.push(a),this.setState({selected:t,printStop:0,DrinkStore:0,DrinkSalesQty:0,stockBal:0,Newmeal:"",Newprice:"",Newqty:0,Newid:""})):0===this.state.selected.length&&(this.setState({blockTable:0}),a.id=this.state.Newid,a.meal=this.state.Newmeal,a.mealPrice=this.state.Newprice,a.qty=this.state.Newqty,a.tranID=Math.floor(1e4*Math.random()),t.push(a),this.setState({selected:t,Newmeal:"",Newprice:"",Newqty:0,Newid:"",printStop:0,DrinkStore:0,DrinkSalesQty:0,stockBal:0})),this.myTimer=setTimeout(function(){if(e.state.selected.length>0){var a=t.reduce(function(e,t){return e+t.mealPrice*t.qty},0);e.setState({cost:a})}0!==e.state.cost&&(fetch("".concat(Ge),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({displayRoomNums:t})}),fetch("".concat(Fe),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({displayPaymentMethods:t})}),localStorage.removeItem("delcntrl"))},1e3)}},{key:"renderMenu",value:function(e){var t=this;if(e)return e.map(function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("div",{className:"card alignroomsgreen3",style:{backgroundColor:"orangered"},key:e.mealTypeID},s.a.createElement("button",{className:"btn btn-orangered buttnheightbtn",onMouseOver:function(){return sessionStorage.setItem("meal",e.mealName)},onClick:function(){t.setState({Newmeal:e.mealName,Newprice:e.mealPrice,Newqty:parseInt(e.mealQt),Newid:e._id,tranID2:Math.floor(1e4*Math.random())}),t.handleStock()}},s.a.createElement("p",{className:"card-title formatnew2"},e.mealName))))))})}},{key:"renderOders",value:function(e){if(e)return e.map(function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:e.id},s.a.createElement("td",{className:"table-light table-striped adjust texted8"},e.id),s.a.createElement("td",{className:"table-light table-striped adjust texted8"},e.meal),s.a.createElement("td",{className:"table-light table-striped adjust texted8"},e.qty),s.a.createElement("td",{className:"table-light table-striped adjust texted8"},s.a.createElement(E.a,{value:e.mealPrice,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust texted8"},s.a.createElement(E.a,{value:e.mealPrice*e.qty,thousandSeparator:!0,displayType:"text"}))))})}},{key:"renderSalesReport",value:function(e){if(e)return e.map(function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:e.id},s.a.createElement("td",{className:"table-light table-striped adjust texted8"},e.id),s.a.createElement("td",{className:"table-light table-striped adjust texted8"},e.productName),s.a.createElement("td",{className:"table-light table-striped adjust texted8"},e.Quantity),s.a.createElement("td",{className:"table-light table-striped adjust texted8"},s.a.createElement(E.a,{value:e.productPrice,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust texted8"},s.a.createElement(E.a,{value:e.productPrice*e.Quantity,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust texted8"}," ")))})}},{key:"renderPos",value:function(e){var t=this;if(e)return e.map(function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("div",{className:"card alignroomsgreen3",style:{backgroundColor:"blueviolet"},key:e.mealTypeID},s.a.createElement("button",{className:"btn btn-blueviolet buttnheightbtn",onMouseOver:function(){return t.setState({menuID:e.mealTypeID})},onClick:function(){return t.buttonClick()}},s.a.createElement("p",{className:"card-title formatnew2"},e.mealType))))))})}},{key:"render",value:function(){var e=this;console.log(">>> Inside RESrender",this.state);var t=k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),a="Bar"+Math.floor(1e4*Math.random()),n=this.state.amountPaid;return""===this.state.amountPaid&&(n=0),s.a.createElement("div",{className:"posterminal"},s.a.createElement("br",null),s.a.createElement("div",{className:"row quantity"},s.a.createElement("center",null,s.a.createElement("h6",{style:{color:"white"}},"Add Quantity")),s.a.createElement("div",null,s.a.createElement("div",{className:"row"},s.a.createElement("p",{className:"prices"},"Price: ",this.state.Newprice),s.a.createElement("p",{className:"prices2"},"Avail.Stock: ",this.state.stockBal),s.a.createElement("span",{className:"dcrbtn"},s.a.createElement("button",{className:"form-control mb-3 formsizeX1",onClick:function(){return e.decreament()}},s.a.createElement("p",{className:"sign"},"-"))),s.a.createElement("span",{className:"qtybtn"},s.a.createElement("input",{type:"number",className:"form-control2 mb-3 formsizeX",style:{textAlign:"center",fontStyle:"bold",color:"white",fontSize:"24px"},name:"Newqty",value:this.state.Newqty,onChange:this.handleChange3})),s.a.createElement("span",{className:"incbtn"},s.a.createElement("button",{className:"form-control mb-3 formsizeX1",onClick:function(){return e.increament()}},s.a.createElement("p",{className:"sign"},"+"))),s.a.createElement("button",{className:"btn btn-warning addbtn",disabled:0===this.state.Newqty||0===this.state.stockBal,onClick:function(){e.pushorder(),e.setState({docketFirst:1})}},this.state.Stockbtn)))),s.a.createElement("div",{className:"salesTable"},s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust2"},"ID"),s.a.createElement("th",{className:"adjust2"},"Menu"),s.a.createElement("th",{className:"adjust2"},"Qty"),s.a.createElement("th",{className:"adjust2"},"Price(=N)"),s.a.createElement("th",{className:"adjust2"},"Amount(=N)"))),s.a.createElement("tbody",{className:"table table-hover tableheight"},this.renderOders(this.state.selected)))),s.a.createElement("div",{className:"textAmount"},s.a.createElement("p",{className:"fmtcost2",style:{color:"white"}},"Total: ",s.a.createElement(E.a,{value:this.state.cost,thousandSeparator:!0,displayType:"text"}),".00")),s.a.createElement("div",{className:"textAmount2"},s.a.createElement("p",{className:"fmtcost2",style:{color:"white"}},"Bal: ",s.a.createElement(E.a,{value:this.state.cost-parseFloat(n),thousandSeparator:!0,displayType:"text"}),".00")),s.a.createElement("div",{className:"operations"},s.a.createElement("h4",{className:"texted4",style:{color:"white"}},"Operations"),s.a.createElement("button",{disabled:localStorage.getItem("delcntrl"),className:"btn btn-primary cartBtn2",onClick:function(){e.removeAll(),e.setState({docketFirst:0})}},s.a.createElement("p",{className:"texted"},"Delete")),s.a.createElement("button",{disabled:localStorage.getItem("btnCntrl"),className:"btn btn-warning cartBtn12",onClick:function(){e.addToTable(),e.setState({NewtableNum:0})}},s.a.createElement("p",{className:"texted"},"Add to Table ",sessionStorage.getItem("tableNumber"))),s.a.createElement("button",{disabled:1===this.state.docketFirst,className:"btn btn-danger cartBtn2",onClick:function(){e.props.history.push("./BarPortal")}},s.a.createElement("p",{className:"texted"},"Close")),s.a.createElement("button",{className:"btn btn-danger cartBtn20",onClick:function(){return e.logout()}},s.a.createElement("p",{className:"texted"},"Log Out ",localStorage.getItem("userInfo").split(" ")[0]))),s.a.createElement("div",{className:"tables"},s.a.createElement("h5",{className:"texted2",style:{color:"white"}},"Get Table"),s.a.createElement("div",null,this.renderTables(this.state.tables)),s.a.createElement("h6",{style:{color:"silver",textAlign:"right"}},"Bar App")),s.a.createElement("div",{className:"mainmenu"},this.renderPos(this.state.menu)),s.a.createElement("div",{className:"menulistItems"},this.renderMenu(this.state.menulist)),s.a.createElement(v.a,{open:this.state.edit},s.a.createElement("div",{className:"posPrint"},s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized",style:{fontWeight:"bold",fontSize:"14px"}},"Zarvich Hotels"),s.a.createElement("p",{className:"textSized mb-3"},"No 123 ABC Road, Abuja"),s.a.createElement("hr",null),s.a.createElement("p",{className:"textSized",style:{fontWeight:"bold",fontSize:"14px"}},"Inner Bar Docket"),s.a.createElement("p",{className:"textSized"},"Date: ",t),s.a.createElement("p",{className:"textSized mb-3"},"Docket Num: ",a)),s.a.createElement("hr",null),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust2",style:{fontSize:"10px"}},"ID"),s.a.createElement("th",{className:"adjust2",style:{fontSize:"10px"}},"Menu"),s.a.createElement("th",{className:"adjust2",style:{fontSize:"10px"}},"Qty"),s.a.createElement("th",{className:"adjust2",style:{fontSize:"10px"}},"Price(=N)"),s.a.createElement("th",{className:"adjust2",style:{fontSize:"10px"}},"Amount(=N)"))),s.a.createElement("tbody",{className:"table table-hover tableheight"},this.renderOders(this.state.selected))),s.a.createElement("hr",null),s.a.createElement("p",{style:{fontSize:"14px",fontWeight:"bold"}},"Total:",s.a.createElement(E.a,{value:this.state.cost,thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"14px",fontWeight:"bold"}},"Amount Paid:",s.a.createElement(E.a,{value:n,thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"14px",fontWeight:"bold"}},"Bal: ",s.a.createElement(E.a,{value:this.state.cost-parseFloat(n),thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"14px",fontWeight:"bold"}},"Payment Method: ",this.state.paymentMethod),s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized"},"Prepared By: ",localStorage.getItem("userInfo")),s.a.createElement("p",{className:"textSized"},"Shift: ",localStorage.getItem("shift")),s.a.createElement("p",{style:{fontSize:"13px",fontWeight:"bold"}},"THANK YOU"),s.a.createElement("div",{className:"printing"},s.a.createElement("button",{className:this.state.shiftcolor,onClick:function(){e.sendtoprinter2()}},s.a.createElement("p",{className:"texted"},this.state.printBTN)))))),s.a.createElement(v.a,{open:this.state.editreceipt,onClose:function(){e.onCloseModalreceipt(),e.handleSubmit()}},s.a.createElement("div",{className:"posPrint"},s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized",style:{fontWeight:"bold",fontSize:"14px"}},"Zarvich Hotels"),s.a.createElement("p",{className:"textSized mb-3"},"No 123 ABC Road, Abuja"),s.a.createElement("hr",null),s.a.createElement("p",{className:"textSized",style:{fontWeight:"bold",fontSize:"14px"}},"Inner Bar Receipt"),s.a.createElement("p",{className:"textSized"},"Date: ",t),s.a.createElement("p",{className:"textSized mb-3"},"Docket Num: ",a)),s.a.createElement("hr",null),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust2",style:{fontSize:"10px"}},"ID"),s.a.createElement("th",{className:"adjust2",style:{fontSize:"10px"}},"Menu"),s.a.createElement("th",{className:"adjust2",style:{fontSize:"10px"}},"Qty"),s.a.createElement("th",{className:"adjust2",style:{fontSize:"10px"}},"Price(=N)"),s.a.createElement("th",{className:"adjust2",style:{fontSize:"10px"}},"Amount(=N)"))),s.a.createElement("tbody",{className:"table table-hover tableheight"},this.renderOders(this.state.selected))),s.a.createElement("hr",null),s.a.createElement("p",{style:{fontSize:"14px",fontWeight:"bold"}},"Total: ",s.a.createElement(E.a,{value:this.state.cost,thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"14px",fontWeight:"bold"}},"Amount Paid: ",s.a.createElement(E.a,{value:n,thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"14px",fontWeight:"bold"}},"Bal: ",s.a.createElement(E.a,{value:this.state.cost-parseFloat(n),thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"14px",fontWeight:"bold"}},"Payment Method: ",this.state.paymentMethod),s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized"},"Prepared By: ",localStorage.getItem("userInfo")),s.a.createElement("p",{className:"textSized"},"Shift: ",localStorage.getItem("shift")),s.a.createElement("p",{style:{fontSize:"13px",fontWeight:"bold"}},"THANK YOU"),s.a.createElement("div",{className:"printing"},s.a.createElement("button",{className:this.state.shiftcolor,onClick:function(){e.sendtoprinter()}},s.a.createElement("p",{className:"texted"},"Print")),s.a.createElement("button",{className:this.state.shiftcolor,onClick:function(){e.onCloseModalreceipt(),e.handleSubmit()}},s.a.createElement("p",{className:"texted"},"Close")))))),s.a.createElement(v.a,{open:this.state.compModal,onClose:function(){e.onCloseCompModal(),e.handleRoomSubmit()}},s.a.createElement("div",{className:"posPrint"},s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized",style:{fontWeight:"bold",fontSize:"14px"}},"Zarvich Hotels"),s.a.createElement("p",{className:"textSized mb-3"},"No 123 ABC Road, Abuja"),s.a.createElement("hr",null),s.a.createElement("p",{className:"textSized",style:{fontWeight:"bold",fontSize:"14px"}},"Inner Bar Docket"),s.a.createElement("p",{className:"textSized"},"Date: ",t),s.a.createElement("p",{className:"textSized mb-3"},"Docket Num: ",a)),s.a.createElement("hr",null),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust2",style:{fontSize:"10px"}},"ID"),s.a.createElement("th",{className:"adjust2",style:{fontSize:"10px"}},"Menu"),s.a.createElement("th",{className:"adjust2",style:{fontSize:"10px"}},"Qty"),s.a.createElement("th",{className:"adjust2",style:{fontSize:"10px"}},"Price(=N)"),s.a.createElement("th",{className:"adjust2",style:{fontSize:"10px"}},"Amount(=N)"))),s.a.createElement("tbody",{className:"table table-hover tableheight"},this.renderOders(this.state.selected))),s.a.createElement("hr",null),s.a.createElement("p",{style:{fontSize:"14px",fontWeight:"bold"}},"Total: ",s.a.createElement(E.a,{value:this.state.cost,thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"14px",fontWeight:"bold"}},"Amount Paid: ",s.a.createElement(E.a,{value:n,thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"14px",fontWeight:"bold"}},"Bal: ",s.a.createElement(E.a,{value:this.state.cost-parseFloat(n),thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"14px",fontWeight:"bold"}},"Payment Method: ",this.state.paymentMethod),s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized"},"Prepared By: ",localStorage.getItem("userInfo")),s.a.createElement("p",{className:"textSized"},"Shift: ",localStorage.getItem("shift")),s.a.createElement("p",{style:{fontSize:"13px",fontWeight:"bold"}},"THANK YOU"),s.a.createElement("div",{className:"printing"},s.a.createElement("button",{className:this.state.shiftcolor,onClick:function(){e.sendtoprinter()}},s.a.createElement("p",{className:"texted"},this.state.printBTN)),s.a.createElement("button",{className:this.state.shiftcolor,onClick:function(){e.onCloseCompModal(),e.handleRoomSubmit()}},s.a.createElement("p",{className:"texted"},"Close")))))),s.a.createElement(v.a,{open:this.state.report,onClose:function(){e.onCloseModalreport()}},s.a.createElement("div",{className:"posPrint"},s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized",style:{fontWeight:"bold",fontSize:"14px"}},"Zarvich Hotels"),s.a.createElement("p",{className:"textSized mb-3"},"No 123 ABC Road, Abuja"),s.a.createElement("hr",null),s.a.createElement("p",{className:"textSized",style:{fontWeight:"bold",fontSize:"14px"}},"Inner Bar Daily Sales Report"),s.a.createElement("p",{className:"textSized"},"Report Date: ",t),s.a.createElement("p",{className:"textSized mb-3"},"Shift: ",this.state.useReportShift)),s.a.createElement("hr",null),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust2",style:{fontSize:"10px"}},"ID"),s.a.createElement("th",{className:"adjust2",style:{fontSize:"10px"}},"Menu"),s.a.createElement("th",{className:"adjust2",style:{fontSize:"10px"}},"Qty"),s.a.createElement("th",{className:"adjust2",style:{fontSize:"10px"}},"Price(=N)"),s.a.createElement("th",{className:"adjust2",style:{fontSize:"10px"}},"Amount(=N)"))),s.a.createElement("tbody",{className:"table table-hover tableheight"},this.renderSalesReport(this.state.DrinkSalesQtyReportData))),s.a.createElement("hr",null),s.a.createElement("p",{style:{fontSize:"14px",fontWeight:"bold"}},"Total Sales: ",s.a.createElement(E.a,{value:this.state.totalSales,thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized"},"Staff: ",this.state.useReportName),s.a.createElement("p",{className:"textSized"},"Shift: ",this.state.useReportShift),s.a.createElement("p",{style:{fontSize:"13px",fontWeight:"bold"}},"THANK YOU"),s.a.createElement("div",{className:"printing"},s.a.createElement("button",{className:this.state.shiftcolor,onClick:function(){e.sendtoprinter()}},s.a.createElement("p",{className:"texted"},this.state.printBTN)),s.a.createElement("button",{className:this.state.shiftcolor,onClick:function(){e.onCloseModalreport()}},s.a.createElement("p",{className:"texted"},"Close")))))))}},{key:"componentDidMount",value:function(){var e=this;console.log(">>> Inside RESdidMount"),fetch("".concat("https://zarvichdemo.localto.net/drinkCategories"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({menu:t})}),fetch("".concat(qe),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({DrinkstoreData:t})}),fetch("".concat(Le),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({DrinkSalesQtyData:t})}),fetch("".concat(He),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({tables:t})}),this.myTimer=setTimeout(function(){fetch("".concat(He),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({tables:t})}),localStorage.setItem("btnCntrl",!0)},2e3),fetch("".concat("https://zarvichdemo.localto.net/barUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({loginDetails:t})}),this.myTimer=setTimeout(function(){var t=e.state.loginDetails,a=e.state.name;t.some(function(e){return e.name===a})?e.setState({Blogin:!0}):e.setState({Blogin:!1})},1e3),"Morning Shift"===localStorage.getItem("shift")?this.setState({shiftcolor:"btn btn-primary cartBtn20"}):"Night Shift"===localStorage.getItem("shift")?this.setState({shiftcolor:"btn btn-dark cartBtn20"}):"All Day"===localStorage.getItem("shift")&&this.setState({shiftcolor:"btn btn-warning cartBtn20"})}}]),a}(n.Component),We=_e,Qe=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value))},console.log(">>> inside loginConstructor",e),n.state={login:!1,userInfo:"",userPassword:"",authPassword:"",selectUserName:"",shift:""},n}return Object(p.a)(a,[{key:"login",value:function(){var e=this;fetch("".concat("https://zarvichdemo.localto.net/poolUserInfo?poolcode=").concat(this.state.userPassword),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({userInfo:t}),e.myTimer=setTimeout(function(){e.state.userInfo.length>0&&(e.setState({login:!1}),window.location.reload(),t.map(function(t){return localStorage.setItem("userInfo",t.name),localStorage.setItem("shift",e.state.shift),"ok"}))},1e3)})}},{key:"onCloseModallogin",value:function(){this.setState({login:!0})}},{key:"render",value:function(){var e=this;return console.log(">>> Inside logindetails",this.state),s.a.createElement(s.a.Fragment,null,s.a.createElement(v.a,{open:this.state.login,onClose:function(){return e.onCloseModallogin()},center:!0},s.a.createElement("div",null,s.a.createElement("div",{className:"formdesign152"},s.a.createElement("h6",{className:"mb-3"},"Login First"),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("input",{type:"password",autoComplete:"off",className:"form-control mb-3 formsize51",name:"userPassword",require:!0,placeholder:"Enter password",value:this.state.userPassword,onChange:this.handleChange}),s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize51",name:"shift",require:!0,placeholder:"Select Shift",value:this.state.shift,list:"shift",onChange:this.handleChange}),s.a.createElement("datalist",{id:"shift"},s.a.createElement("option",{value:"Morning Shift"}),s.a.createElement("option",{value:"Night Shift"}),s.a.createElement("option",{value:"All Day"})),s.a.createElement("button",{disabled:""===this.state.userPassword||""===this.state.shift,className:"btn btn-warning formsize91",onClick:function(){return e.login()}},"Login")))))))}},{key:"componentDidMount",value:function(){var e=this;console.log(">>> Inside loginDidMount",this.state),fetch("".concat("https://zarvichdemo.localto.net/poolUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({selectUserName:t,login:!0})})}}]),a}(n.Component),Je=Qe,Ve=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),n=t.call(this,e),console.log(">>>Inside SalesConstructor",e),n.state={salesRecords:"",totalSales:"",loginDetails:"",name:localStorage.getItem("userInfo"),login:"",Blogin:""},n}return Object(p.a)(a,[{key:"handleTotal",value:function(){var e=this.state.salesRecords.reduce(function(e,t){return e+parseInt(t.amountPaid)},0);this.setState({totalSales:e})}},{key:"logout",value:function(){localStorage.removeItem("userInfo"),this.setState({login:!0})}},{key:"renderSalesData",value:function(e){if(e)return e.map(function(e,t){return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:e._id},s.a.createElement("td",{className:"table-light table-striped adjust2"},k()(e.date).format("MMM DD YYYY")),s.a.createElement("td",{className:"table-light table-striped adjust2"},e.docketNum),s.a.createElement("td",{className:"table-light table-striped adjust2"},e.refID),s.a.createElement("td",{className:"table-light table-striped adjust2"},e.roomNumbers),s.a.createElement("td",{className:"table-light table-striped adjust2"},e.paymentMethod),s.a.createElement("td",{className:"table-light table-striped adjust2"},s.a.createElement(E.a,{value:e.cost,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2"},s.a.createElement(E.a,{value:e.amountPaid,thousandSeparator:!0,displayType:"text"}))),s.a.createElement("div",{className:"accordion-flush",id:"accordionFlushExample"},s.a.createElement("div",{className:"accordion-item"},s.a.createElement("h5",{className:"accordion-header",id:"flush-headingOne"},s.a.createElement("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapseOne","aria-expanded":"false","aria-controls":"flush-collapseOne"},s.a.createElement("b",{style:{color:"blue"}},"Order Details"))),s.a.createElement("div",{id:"flush-collapseOne",className:"accordion-collapse collapse","aria-labelledby":"flush-headingOne","data-bs-parent":"#accordionFlushExample"},s.a.createElement("div",{className:"accordion-body"},e.docketDetails.map(function(e){return s.a.createElement(s.a.Fragment,null,e.meal," (",s.a.createElement(E.a,{value:e.mealPrice,thousandSeparator:!0,displayType:"text"}),".00), \xa0;")}))))))})}},{key:"render",value:function(){return console.log(">>> Inside CompTorender",this.state),null==localStorage.getItem("userInfo")||!1===this.state.login?s.a.createElement(s.a.Fragment,null,s.a.createElement(Je,null)):s.a.createElement(s.a.Fragment,null,s.a.createElement(De,null),s.a.createElement("center",null,s.a.createElement("h5",null,"Pool Bar Daily Sales Report")),s.a.createElement("br",null),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust2"},"Date"),s.a.createElement("th",{className:"adjust2"},"Docket Num"),s.a.createElement("th",{className:"adjust2"},"Room ID"),s.a.createElement("th",{className:"adjust2"},"Room Num"),s.a.createElement("th",{className:"adjust2"},"Payment Method"),s.a.createElement("th",{className:"adjust2"},"Price(=N)"),s.a.createElement("th",{className:"adjust2"},"AMount Paid(=N)"))),s.a.createElement("tbody",{className:"table table-hover"},this.renderSalesData(this.state.salesRecords))))}},{key:"componentDidMount",value:function(){var e=this;console.log(">>> Inside BarSalesTodidMount"),fetch("https://zarvichdemo.localto.net/poolbarSales",{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({salesRecords:t})}),fetch("".concat("https://zarvichdemo.localto.net/poolUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({loginDetails:t})}),this.myTimer=setTimeout(function(){var t=e.state.loginDetails,a=e.state.name;t.some(function(e){return e.name===a})?e.setState({Blogin:!0}):e.setState({Blogin:!1})},1e3)}}]),a}(n.Component),Ke=Ve,Xe=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={loginDetails:"",name:localStorage.getItem("userInfo"),Blogin:""},n}return Object(p.a)(a,[{key:"logout",value:function(){localStorage.removeItem("userInfo"),this.setState({login:!0})}},{key:"render",value:function(){var e=this;return console.log(">>> Inside logindetails",this.state),null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement(Se,null)):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"background15"},s.a.createElement("center",null,s.a.createElement("div",{className:"formdesign152"},s.a.createElement("h4",{className:"mb-3"},"Bar Portal"),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-primary btnwidth15 mb-3",onClick:function(){e.props.history.push("./Bar")}},"Bar"),s.a.createElement("button",{className:"btn btn-warning btnwidth15k mb-3",onClick:function(){e.props.history.push("/AppMenu")}},"App Menu"),s.a.createElement("button",{className:"btn btn-warning btnwidth15k mb-3",onClick:function(){e.props.history.push("/Dashboard")}},"Goto Dashboard"),s.a.createElement("button",{className:"btn btn-danger btnwidth15 mb-3",onClick:function(){return e.logout()}},"Log Out ",localStorage.getItem("userInfo").split(" ")[0])))))),s.a.createElement("div",{className:"pagebody3"},s.a.createElement("input",{hidden:!0})))}},{key:"componentDidMount",value:function(){var e=this;fetch("".concat("https://zarvichdemo.localto.net/barUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({loginDetails:t})}),this.myTimer=setTimeout(function(){var t=e.state.loginDetails,a=e.state.name;t.some(function(e){return e.name===a})?e.setState({Blogin:!0}):e.setState({Blogin:!1})},1e3)}}]),a}(n.Component),Ze=Xe,$e=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value))},console.log(">>> inside loginConstructor",e),n.state={login:!1,userInfo:"",userPassword:"",authPassword:"",selectUserName:"",shift:""},n}return Object(p.a)(a,[{key:"login",value:function(){var e=this;fetch("".concat("https://zarvichdemo.localto.net/billingUserInfo?billingcode=").concat(this.state.userPassword),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({userInfo:t}),e.myTimer=setTimeout(function(){e.state.userInfo.length>0&&(e.setState({login:!1}),window.location.reload(),t.map(function(t){return localStorage.setItem("userInfo",t.name),localStorage.setItem("shift",e.state.shift),"ok"}))},1e3)})}},{key:"onCloseModallogin",value:function(){this.setState({login:!0})}},{key:"render",value:function(){var e=this;return console.log(">>> Inside logindetails",this.state),s.a.createElement(s.a.Fragment,null,s.a.createElement(v.a,{open:this.state.login,onClose:function(){return e.onCloseModallogin()},center:!0},s.a.createElement("div",null,s.a.createElement("div",{className:"formdesign152"},s.a.createElement("h6",{className:"mb-3"},"Login First"),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("input",{type:"password",autoComplete:"off",className:"form-control mb-3 formsize51",name:"userPassword",require:!0,placeholder:"Enter password",value:this.state.userPassword,onChange:this.handleChange}),s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize51",name:"shift",require:!0,placeholder:"Select Shift",value:this.state.shift,list:"shift",onChange:this.handleChange}),s.a.createElement("datalist",{id:"shift"},s.a.createElement("option",{value:"Morning Shift"}),s.a.createElement("option",{value:"Night Shift"}),s.a.createElement("option",{value:"All Day"})),s.a.createElement("button",{disabled:""===this.state.userPassword||""===this.state.shift,className:"btn btn-warning formsize91",onClick:function(){return e.login()}},"Login")))))))}},{key:"componentDidMount",value:function(){var e=this;console.log(">>> Inside loginDidMount",this.state),fetch("".concat("https://zarvichdemo.localto.net/billingUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({selectUserName:t,login:!0})})}}]),a}(n.Component),et=$e,tt="https://zarvichdemo.localto.net/findOtherSales?others12=Other%20Sales",at=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value))},n.handleChange10=function(e){var t;n.setState((t={},Object(h.a)(t,e.target.name,e.target.value),Object(h.a)(t,"roomSales",""),t))},n.renderRoomSales=function(e){if(e)return e.map(function(t){e.sort(function(e,t){return e.date-t.date});var a=k()(t.date).format("MMM DD YYYY");return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:t._id},s.a.createElement("td",{className:"table-light table-striped adjust222"},a),s.a.createElement("td",{className:"table-light table-striped adjust223 alignTet"},t.description),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:t.POSAmount,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:t.CashAmount,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:t.TransferAmount,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:t.CompDebit,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(t.POSAmount)+parseInt(t.CashAmount)+parseInt(t.TransferAmount),thousandSeparator:!0,displayType:"text"})))))})},console.log(">>>Inside CashConstructor",e),n.state={RoomSales:"",RoomTotal:"",depPOS:"",depCash:"",depTransfer:"",depComp:"",TotalSales:"",date:"",loginDetails:"",name:localStorage.getItem("userInfo"),login:"",Blogin:"",shift:"",startdate:"",endDate:"",levyData:"",ServiceChrg:"",TourismLevy:"",VAT:"",Hotelname:"",Hoteladdress:"",Hotelphone:""},n.checkinhandleChange=n.checkinhandleChange.bind(Object(f.a)(n)),n.endhandleChange=n.endhandleChange.bind(Object(f.a)(n)),n}return Object(p.a)(a,[{key:"checkinhandleChange",value:function(e){this.setState({date:e,startdate:e})}},{key:"endhandleChange",value:function(e){this.setState({endDate:e})}},{key:"renderDate",value:function(){return s.a.createElement("div",null,s.a.createElement(y.a,{selected:this.state.date,onChange:this.checkinhandleChange,maxDate:Object(N.default)(new Date,0),dropdownMode:"select",dateFormat:"MMM/d/ yyyy",className:"form-control mb-3 formsize printing alignText112",placeholderText:"Select Start Date"}))}},{key:"renderendDate",value:function(){return s.a.createElement("div",null,s.a.createElement(y.a,{selected:this.state.endDate,onChange:this.endhandleChange,maxDate:new Date,dropdownMode:"select",dateFormat:"MMM/d/ yyyy",className:"form-control mb-3 formsize printing alignText112 mvrght",placeholderText:"Search End Date"}))}},{key:"logout",value:function(){localStorage.removeItem("userInfo"),this.setState({login:!0})}},{key:"cleanup",value:function(){this.setState({RoomSales:0,RoomTotal:0,depPOS:0,depCash:0,depTransfer:0,depComp:0,TotalSales:0})}},{key:"findRoomReport",value:function(){var e=this,t=k()(this.state.date).format("MMM DD YYYY"),a=k()(this.state.endDate).format("MMM DD YYYY"),n="".concat(tt,"&&Othrstartdate12=").concat(t,"&&OthrendDate12=").concat(a);this.setState({RoomSales:""}),fetch("".concat(n),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({RoomSales:t}),t.map(function(a){var n=0+parseInt(a.CashAmount)+parseInt(a.POSAmount)+parseInt(a.TransferAmount)+parseInt(a.roomDebit);e.setState({RoomTotal:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({depPOS:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({depCash:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({depTransfer:r});var l=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({depComp:l});var c=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);return e.setState({deproom:c}),"ok"})}),this.myTimer=setTimeout(function(){var t=0+e.state.RoomTotal;e.setState({TotalSales:t})},1e3),this.myTimer=setTimeout(function(){var t=0+e.state.RoomTotal;e.setState({TotalSales:t})},1e3)}},{key:"render",value:function(){var e=this;return console.log(">>> Inside Cashdetails",this.state),null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement(et,null)):s.a.createElement("div",{className:"container"},s.a.createElement("div",null,s.a.createElement("img",{src:"https://i.ibb.co/pP1xN03/Orange-Groove2.png",className:"alignImg2",style:{width:"100px",height:"70px"},alt:"companylogo"})),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("h6",null,this.state.Hotelname),s.a.createElement("p",{className:"textSize"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSize"},this.state.Hotelphone))),s.a.createElement("center",null,s.a.createElement("h5",null,"Other Sales Report"),s.a.createElement("br",null),s.a.createElement("div",null,s.a.createElement("span",null,s.a.createElement("label",null,this.renderDate(this.state.startdate))),s.a.createElement("span",null,s.a.createElement("label",null,this.renderendDate(this.state.endDate))),s.a.createElement("span",null,s.a.createElement("button",{className:"btn btn-primary space btnadjuster printing",onClick:function(){e.cleanup(),e.findRoomReport()}},"Find")))),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust50"},"Date"),s.a.createElement("th",{className:"adjust50b"},"Description"),s.a.createElement("th",{className:"adjust50"},"POS (NGN)"),s.a.createElement("th",{className:"adjust50"},"Cash(NGN)"),s.a.createElement("th",{className:"adjust50"},"Transfer(NGN)"),s.a.createElement("th",{className:"adjust50"},"Complimentary(NGN)"),s.a.createElement("th",{className:"adjust50"},"Total(NGN)"))),s.a.createElement("tbody",{className:"table table-hover"},this.renderRoomSales(this.state.RoomSales),s.a.createElement("tr",null,s.a.createElement("td",{className:"table-light table-striped adjust2"},s.a.createElement("b",null,"Total")),s.a.createElement("td",{className:"table-light table-striped adjust2"},s.a.createElement("b",null," ")),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.depPOS),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.depCash),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.depTransfer),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.depComp),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null," ",s.a.createElement(E.a,{value:this.state.depPOS+this.state.depCash+this.state.depTransfer,thousandSeparator:!0,displayType:"text"})))))),s.a.createElement("h6",null,"Gross Collection:         ",s.a.createElement(E.a,{value:this.state.depPOS+this.state.depCash+this.state.depTransfer,thousandSeparator:!0,displayType:"text",prefix:"NGN"})),s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-danger movebtn printing",onClick:function(){return e.props.history.push("/EndOfDay")}},"Close"),s.a.createElement("button",{className:"btn btn-primary movebtn printing",onClick:function(){return window.print()}},"Print")))}},{key:"componentDidMount",value:function(){var e=this;console.log(">>> Inside CashDidMount",this.state),fetch("".concat("https://zarvichdemo.localto.net/feesAndCharges"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({levyData:t})}),fetch("".concat("https://zarvichdemo.localto.net/billingUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({loginDetails:t})});var t=k()(new Date).format("MMM DD YYYY"),a=k()(new Date).format("MMM DD YYYY"),n="".concat(tt,"&&Othrstartdate12=").concat(t,"&&OthrendDate12=").concat(a);this.setState({RoomSales:""}),fetch("".concat(n),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({RoomSales:t}),t.map(function(a){var n=0+parseInt(a.CashAmount)+parseInt(a.POSAmount)+parseInt(a.TransferAmount)+parseInt(a.roomDebit);e.setState({RoomTotal:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({depPOS:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({depCash:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({depTransfer:r});var l=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({depComp:l});var c=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);return e.setState({deproom:c}),"ok"})}),this.myTimer=setTimeout(function(){var t=0+e.state.RoomTotal;e.setState({TotalSales:t})},1e3),fetch("".concat("https://zarvichdemo.localto.net/hoteladdress"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){t.map(function(t){return e.setState({Hotelname:t.HotelName,Hoteladdress:t.Address,Hotelphone:t.Phone}),"ok"})}),this.myTimer=setTimeout(function(){var t=e.state.loginDetails,a=e.state.name;t.some(function(e){return e.name===a})?e.setState({Blogin:!0}):e.setState({Blogin:!1})},1e3)}}]),a}(n.Component),nt=at,st=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),n=t.call(this,e),console.log(">>>Inside RESConstructor",e),n.state={loginDetails:"",name:localStorage.getItem("userInfo"),Blogin:"",login:""},n}return Object(p.a)(a,[{key:"logout",value:function(){localStorage.removeItem("userInfo"),this.setState({login:!0})}},{key:"render",value:function(){var e=this;return console.log(">>> Inside logindetails",this.state),null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement(Je,null)):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"background15"},s.a.createElement("center",null,s.a.createElement("div",{className:"formdesign152"},s.a.createElement("h4",{className:"mb-3"},"Pool Bar Portal"),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-primary btnwidth15 mb-3",onClick:function(){e.props.history.push("./PoolBar")}},"Pool Bar"),s.a.createElement("button",{className:"btn btn-warning btnwidth15k mb-3",onClick:function(){e.props.history.push("/AppMenu")}},"App Menu"),s.a.createElement("button",{className:"btn btn-warning btnwidth15k mb-3",onClick:function(){e.props.history.push("/Dashboard")}},"Goto Dashboard"),s.a.createElement("button",{className:"btn btn-danger btnwidth15 mb-3",onClick:function(){return e.logout()}},"Log Out ",localStorage.getItem("userInfo").split(" ")[0])))))),s.a.createElement("div",{className:"pagebody3"},s.a.createElement("input",{hidden:!0})))}},{key:"componentDidMount",value:function(){var e=this;fetch("".concat("https://zarvichdemo.localto.net/poolUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({loginDetails:t})}),this.myTimer=setTimeout(function(){var t=e.state.loginDetails,a=e.state.name;t.some(function(e){return e.name===a})?e.setState({Blogin:!0}):e.setState({Blogin:!1})},1e3)}}]),a}(n.Component),ot=st,rt=(a(86),function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),n=t.call(this,e),console.log(">>>Inside RMConstructor",e),n.state={checkinData:"",vacantData:"",Corporate:"",Individual:"",Staff:"",Complimentary:"",CheckOut:""},n}return Object(p.a)(a,[{key:"render",value:function(){console.log(">>>Inside RMrender",this.state);var e=this.state.checkinData;if("green"!==e)var t=e.length;var a=this.state.vacantData.length,n=this.state.Corporate.length,o=this.state.Individual.length,r=this.state.Staff.length,l=this.state.Complimentary.length,c=this.state.CheckOut.length;return s.a.createElement("div",{className:"black"},s.a.createElement("span",null,s.a.createElement("button",{className:"btn btn-danger buttncontrol6 mb-3 mt-3"},"Occuppied Rooms: ",t),s.a.createElement("button",{className:"btn btn-danger buttncontrol6 mb-3 mt-3"},"Vacant Rooms: ",a),s.a.createElement("button",{className:"btn buttncontrol6 mb-3 mt-3 setmargin2",style:{backgroundColor:"green",color:"white"}},"Vacant ",a),s.a.createElement("button",{className:"btn buttncontrol6 mb-3 mt-3",style:{backgroundColor:"blue",color:"white"}},"Corporate ",n),s.a.createElement("button",{className:"btn buttncontrol6 mb-3 mt-3",style:{backgroundColor:"blueviolet",color:"white"}},"Individual ",o),s.a.createElement("button",{className:"btn buttncontrol6 mb-3 mt-3",style:{backgroundColor:"deeppink",color:"white"}},"Staff ",r),s.a.createElement("button",{className:"btn buttncontrol6 mb-3 mt-3",style:{backgroundColor:"orange",color:"white"}},"Complimentary ",l),s.a.createElement("button",{className:"btn buttncontrol7 mb-3 mt-3",style:{backgroundColor:"black",color:"white",borderBlockStyle:"solid",borderBlockColor:"white"}},"Check Out ",c)))}},{key:"componentDidMount",value:function(){var e=this;console.log(">>> Inside RMdidMount"),fetch("".concat("https://zarvichdemo.localto.net/getrmstatus"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({checkinData:t.map(function(e){return e.roomStatus}).filter(function(e){return"green"!==e})}),e.setState({vacantData:t.map(function(e){return e.roomStatus}).filter(function(e){return"green"===e})}),e.setState({Corporate:t.map(function(e){return e.roomStatus}).filter(function(e){return"blue"===e})}),e.setState({Individual:t.map(function(e){return e.roomStatus}).filter(function(e){return"blueviolet"===e})}),e.setState({Staff:t.map(function(e){return e.roomStatus}).filter(function(e){return"deeppink"===e})}),e.setState({Complimentary:t.map(function(e){return e.roomStatus}).filter(function(e){return"orange"===e})}),e.setState({CheckOut:t.map(function(e){return e.roomStatus}).filter(function(e){return"black"===e})})})}}]),a}(n.Component)),lt=Object(c.e)(rt),ct=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value))},console.log(">>> inside loginConstructor",e),n.state={login:!1,userInfo:"",userPassword:"",authPassword:"",selectUserName:"",shift:""},n}return Object(p.a)(a,[{key:"login",value:function(){var e=this;fetch("".concat("https://zarvichdemo.localto.net/housekpUserInfo?housekpcode=").concat(this.state.userPassword),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({userInfo:t}),e.myTimer=setTimeout(function(){e.state.userInfo.length>0&&(e.setState({login:!1}),window.location.reload(),t.map(function(t){return localStorage.setItem("userInfo",t.name),localStorage.setItem("shift",e.state.shift),"ok"}))},1e3)})}},{key:"onCloseModallogin",value:function(){this.setState({login:!0})}},{key:"render",value:function(){var e=this;return console.log(">>> Inside logindetails",this.state),s.a.createElement(s.a.Fragment,null,s.a.createElement(v.a,{open:this.state.login,onClose:function(){return e.onCloseModallogin()},center:!0},s.a.createElement("div",null,s.a.createElement("div",{className:"formdesign152"},s.a.createElement("h6",{className:"mb-3"},"Login First"),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("input",{type:"password",autoComplete:"off",className:"form-control mb-3 formsize51",name:"userPassword",require:!0,placeholder:"Enter password",value:this.state.userPassword,onChange:this.handleChange}),s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize51",name:"shift",require:!0,placeholder:"Select Shift",value:this.state.shift,list:"shift",onChange:this.handleChange}),s.a.createElement("datalist",{id:"shift"},s.a.createElement("option",{value:"Morning Shift"}),s.a.createElement("option",{value:"Night Shift"}),s.a.createElement("option",{value:"All Day"})),s.a.createElement("button",{disabled:""===this.state.userPassword||""===this.state.shift,className:"btn btn-warning formsize91",onClick:function(){return e.login()}},"Login")))))))}},{key:"componentDidMount",value:function(){var e=this;console.log(">>> Inside loginDidMount",this.state),fetch("".concat("https://zarvichdemo.localto.net/housekpUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({selectUserName:t,login:!0})})}}]),a}(n.Component),it=ct,mt=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).renderHousekeepingchart=function(e){if(e)return e.map(function(t){return e.sort(function(e,t){return e.roomNumbers-t.roomNumbers}),"black"===t.roomStatus?s.a.createElement(s.a.Fragment,null,s.a.createElement("button",{className:"btn alignroomsgreen",style:{backgroundColor:"".concat(t.roomStatus)},onMouseOver:function(){sessionStorage.setItem("hskrmID",t._id),sessionStorage.setItem("hskrm",t.roomNumbers),sessionStorage.setItem("hskrtype",t.roomtypeName)},onClick:function(){return n.handleSubmit()}},s.a.createElement("h5",{className:"card-title"},t.roomNumbers),s.a.createElement("h6",{className:"card-subtitle mb-2 size2"},t.roomtypeName))):s.a.createElement(s.a.Fragment,null,s.a.createElement("button",{className:"btn alignroomsgreen",style:{backgroundColor:"".concat(t.roomStatus)}},s.a.createElement("h5",{className:"card-title"},t.roomNumbers),s.a.createElement("h6",{className:"card-subtitle mb-2 size2"},t.roomtypeName)))})},console.log(">>>Inside RMConstructor"),n.state={roomchart:"",loginDetails:"",name:localStorage.getItem("userInfo"),login:"",Blogin:""},n}return Object(p.a)(a,[{key:"logout",value:function(){localStorage.removeItem("userInfo"),this.setState({login:!0})}},{key:"handleSubmit",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=sessionStorage.getItem("hskrmID"),a={roomNumbers:"".concat(sessionStorage.getItem("hskrm")),status:"",roomtypeName:"".concat(sessionStorage.getItem("hskrtype")),fname:"",lname:"",roomStatus:"green"},e.next=5,fetch("".concat("https://zarvichdemo.localto.net/rmstatus","/").concat(t),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(a)});case 5:n=e.sent,console.log("result> "+n),fetch("".concat("https://zarvichdemo.localto.net/getrmstatus"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){s.setState({roomchart:e})}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return console.log(">>> Inside RMrender",this.state),null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement(it,null)):s.a.createElement(s.a.Fragment,null,s.a.createElement(lt,null),s.a.createElement("div",{className:"pagebodyNow"},s.a.createElement("br",null),this.renderHousekeepingchart(this.state.roomchart)),s.a.createElement("div",{className:"pagebody"},s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-danger",onClick:function(){return e.props.history.push("./hskPortal")}},"Close")),s.a.createElement("div",{className:"row mt-3"},s.a.createElement("div",{className:"col-6"},s.a.createElement("h6",{style:{color:"purple",marginLeft:"480px",marginBottom:"-50px"}},"Welcome, ",localStorage.getItem("userInfo").split(" ")[0]," ")),s.a.createElement("div",{className:"col-3"},s.a.createElement("h6",{type:"button",style:{color:"yellow",marginLeft:"180",textAlign:"left",marginBottom:"-50px"},onClick:function(){return e.logout()}},"Logout ")))))}},{key:"componentDidMount",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(">>> Inside RMdidMount"),e.next=3,z.a.get("".concat("https://zarvichdemo.localto.net/getrmstatus"));case 3:t=e.sent,this.setState({roomchart:t.data}),fetch("".concat("https://zarvichdemo.localto.net/housekpUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){a.setState({loginDetails:e})}),this.myTimer=setTimeout(function(){var e=a.state.loginDetails,t=a.state.name;e.some(function(e){return e.name===t})?a.setState({Blogin:!0}):a.setState({Blogin:!1})},1e3),this.myTimer=setInterval(function(){console.log(">>> Inside RMdidMount"),fetch("".concat("https://zarvichdemo.localto.net/getrmstatus"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){a.setState({roomchart:e})})},6e4);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),a}(n.Component),ut=mt,ht=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),n=t.call(this,e),console.log(">>>Inside RMConstructor"),n.state={loginDetails:"",name:localStorage.getItem("userInfo"),login:"",Blogin:""},n}return Object(p.a)(a,[{key:"logout",value:function(){localStorage.removeItem("userInfo"),this.setState({login:!0})}},{key:"render",value:function(){var e=this;return console.log(">>> Inside RMrender",this.state),null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement(it,null)):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"background15k"},s.a.createElement("center",null,s.a.createElement("div",{className:"formdesign15k"},s.a.createElement("h4",{className:"mb-3"},"Housekeeping Portal"),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-primary btnwidth15k mb-3",onClick:function(){e.props.history.push("./housekeeping")}},"Housekeeping"),s.a.createElement("button",{className:"btn btn-warning btnwidth15k mb-3",onClick:function(){e.props.history.push("/AppMenu")}},"App Menu"),s.a.createElement("button",{className:"btn btn-danger btnwidth15k",onClick:function(){return e.logout()}},"Log Out")))))))}},{key:"componentDidMount",value:function(){var e=this;fetch("".concat("https://zarvichdemo.localto.net/housekpUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({loginDetails:t})}),this.myTimer=setTimeout(function(){var t=e.state.loginDetails,a=e.state.name;t.some(function(e){return e.name===a})?e.setState({Blogin:!0}):e.setState({Blogin:!1})},1e3)}}]),a}(n.Component),dt=ht,pt=(a(236),"https://zarvichdemo.localto.net/otherSales"),ft="https://zarvichdemo.localto.net/add",bt="https://zarvichdemo.localto.net/checkin?docket=Yes",gt="https://zarvichdemo.localto.net/getcityLedger?phoneNumb=",Et="https://zarvichdemo.localto.net/checkin?roomNumID=",St="https://zarvichdemo.localto.net/paymentMethods",yt="https://zarvichdemo.localto.net/getrmstatus",Nt="https://zarvichdemo.localto.net/roomDeposits",vt="https://zarvichdemo.localto.net/org?grpName=",Dt="https://zarvichdemo.localto.net/DeptWitOutPC",Tt="https://zarvichdemo.localto.net/functionBillPost",Ct="https://zarvichdemo.localto.net/PostTempfunction",kt=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleroomData=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value)),null!==n.state.description2&&null!==n.state.description3&&fetch("".concat(bt),{method:"GET"}).then(function(e){return e.json()}).then(function(e){n.setState({displayRoomNums:e})})},n.handleDepositData=function(){fetch("".concat(Nt),{method:"GET"}).then(function(e){return e.json()}).then(function(e){n.setState({displayDeposits:e})})},n.handleFunctionData=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value)),fetch("".concat(vt),{method:"GET"}).then(function(e){return e.json()}).then(function(e){n.setState({org:e})})},n.handleroomData2=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value)),null!==n.state.description2&&fetch("".concat(yt),{method:"GET"}).then(function(e){return e.json()}).then(function(e){n.setState({displayAllRoomNums:e})})},n.handlePayMethData=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value)),null!==n.state.description1&&fetch("".concat(St),{method:"GET"}).then(function(e){return e.json()}).then(function(e){n.setState({displayPaymentMethods:e})})},n.handleChange=function(e){var t;n.setState((t={},Object(h.a)(t,e.target.name,e.target.value),Object(h.a)(t,"receiptnumberz",Math.floor(1e5*Math.random())),t))},n.handleChange99=function(e){var t;""===e.target.value?n.setState(Object(h.a)({},e.target.name,0)):n.setState((t={},Object(h.a)(t,e.target.name,e.target.value),Object(h.a)(t,"receiptnumberz",Math.floor(1e5*Math.random())),t))},n.handleChange2=function(e){console.log("inside handle",n.props),n.setState(Object(h.a)({},e.target.name,e.target.value)),fetch("".concat(St),{method:"GET"}).then(function(e){return e.json()}).then(function(e){n.setState({displayPaymentMethods:e})}),fetch("".concat(Et).concat(e.target.value),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return n.setState({rate:e.dailyRate,rmType:e.roomtypeName,guestInhouseID:e.refID,phoneCode:e.phone,arrivalDate:e.arrivalDate,departureDate:e.departureDate,guestfname:e.fname,guestlname:e.lname,receiptnumberz:Math.floor(1e5*Math.random())}),fetch("".concat(gt),{method:"GET"}).then(function(e){return e.json()}).then(function(e){n.setState({cityLedgerData:e}),n.myTimer=setTimeout(function(){var e=n.state.cityLedgerData,t=n.state.phoneCode;if(!e.some(function(e){return e.phone===t}))return"ok";alert("City Ledger Balance is Available"),n.setState({displayPaymentMethods:""}),fetch("".concat(gt).concat(n.state.phoneCode),{method:"GET"}).then(function(e){return e.json()}).then(function(e){n.setState({depositAmount:e.map(function(e){return e.Amount}),paymentMethod2:"Transfer",description2:"City Ledger Bal."})})},1e3)}),"ok"})})},n.handleChange12=function(e){console.log("inside handle",n.props),n.setState(Object(h.a)({},e.target.name,e.target.value)),fetch("".concat(St),{method:"GET"}).then(function(e){return e.json()}).then(function(e){n.setState({displayPaymentMethods:e})}),n.myTimer=setTimeout(function(){""!==n.state.orgName?fetch("".concat(vt).concat(n.state.orgName),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return n.setState({group:e.orgName,refID:e.orgID,email:e.orgEmail,phone:e.orgPhone,class:e.class}),"ok"})}):n.setState({group:"",refID:"",email:"",phone:"",class:""})},2e3)},n.handleChange14=function(e){console.log("inside handle",n.props),n.setState(Object(h.a)({},e.target.name,e.target.value)),n.myTimer=setTimeout(function(){""!==n.state.orgName?fetch("".concat(vt).concat(n.state.orgName),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return n.setState({group:e.orgName,refID:e.orgID,email:e.orgEmail,phone:e.orgPhone,class:e.class}),"ok"})}):n.setState({group:"",refID:"",email:"",phone:"",class:""})},2e3)},n.handleChange3=function(e){console.log("inside handle",n.props),n.setState(Object(h.a)({},e.target.name,e.target.value)),fetch("".concat(Et).concat(e.target.value),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return n.setState({guestInhouseID:e.refID,guestfname:e.fname,guestlname:e.lname,receiptnumberz:Math.floor(1e5*Math.random()),group:e.group}),"ok"})})},console.log(">>>Inside OthrConstructor",e),n.state={rate:"",guestInhouseID:"",amountPaid:"",roomNumbers:"",paymentMethod:"",paymentMethod3:"",paymentMethod2:"",displayPaymentMethods:"",displayRoomNums:"",displayAllRoomNums:"",displayDeposits:"",transactionDate:"",description1:"",description2:"",description3:"",amountPaid3:"",depositAmount:"",rmType:"",cost:"",roomNumbers3:"",cost3:"",org:"",orgName:"",group:"",functionDeposit:"",description12:"",orgID:"",email:"",phone:"",class:"",paymentMethod4:"",displayAllHalls:"",loginDetails:"",name:localStorage.getItem("userInfo"),guestfname:"",guestlname:"",login:"",Blogin:"",cityLedgerData:"",phoneCode:"",printBTN:"Print",othersedit:!1,deptwdpc:!1,deptwdpc2:!1,deptwdpc3:!1,deptwdpc4:!1,deptwdpc5:!1,deptwdpc6:!1,deptwdpc7:!1,depositedit:!1,functionedit:!1,Dcktedit:!1,arrivalDate:"",departureDate:"",Hotelname:"",Hoteladdress:"",Hotelphone:"",otherDepartments:"",CashPay:0,POSPay:0,TransferPay:0,CompPay:0,DeptsWdPC:"",receiptnumberz:""},n}return Object(p.a)(a,[{key:"onOpenDktModal",value:function(){this.setState({Dcktedit:!0})}},{key:"onCloseDktModal",value:function(){this.setState({Dcktedit:!1})}},{key:"onCloseDepModal",value:function(){this.setState({depositedit:!1})}},{key:"onOpenDepModal",value:function(){this.setState({depositedit:!0})}},{key:"onCloseOthrspModal",value:function(){this.setState({othersedit:!1})}},{key:"onOpenOthrsModal",value:function(){this.setState({othersedit:!0})}},{key:"setfigures",value:function(){""===this.state.CashPay&&this.setState({CashPay:0}),""===this.state.POSPay&&this.setState({POSPay:0}),""===this.state.TransferPay&&this.setState({TransferPay:0}),""===this.state.CompPay&&this.setState({CompPay:0})}},{key:"onOpendeptwoutpcModal",value:function(){"Laundry"===this.state.otherDepartments&&this.handleLaundry(),"Gymnasium"===this.state.otherDepartments&&this.handleGymn(),"Suya"===this.state.otherDepartments&&this.handleSmoothie(),"MiniMart"===this.state.otherDepartments&&this.handleMiniMart(),"Barbeque"===this.state.otherDepartments&&this.handleBbq(),"Games"===this.state.otherDepartments&&this.handleShisha(),"HallHire"===this.state.otherDepartments&&this.handleHallHires(),"Swimming"===this.state.otherDepartments&&this.handleSwimming()}},{key:"onCloseFunctnModal",value:function(){this.setState({functionedit:!1})}},{key:"onOpenFunctnModal",value:function(){this.setState({functionedit:!0})}},{key:"sendtoprinterDkt",value:function(){"Print"===this.state.printBTN?(window.print(),this.setState({printBTN:"Close"})):"Close"===this.state.printBTN&&(this.setState({Dcktedit:!1}),this.setState({printBTN:"Print",receiptnumberz:""}),this.handleRoomDockets())}},{key:"sendtoprinterDep",value:function(){"Print"===this.state.printBTN?(window.print(),this.setState({printBTN:"Close"})):"Close"===this.state.printBTN&&(this.setState({depositedit:!1}),this.setState({printBTN:"Print",receiptnumberz:""}),this.handleRoomDeposit())}},{key:"sendtoprinterOthrs",value:function(){"Print"===this.state.printBTN?(window.print(),this.setState({printBTN:"Close"})):"Close"===this.state.printBTN&&(this.setState({othersedit:!1}),this.setState({printBTN:"Print",receiptnumberz:""}),this.handleSubmit())}},{key:"clearReceipt",value:function(){this.setState({receiptnumberz:""})}},{key:"sendtoprinterFunctn",value:function(){"Print"===this.state.printBTN?(window.print(),this.setState({printBTN:"Close"})):"Close"===this.state.printBTN&&(this.setState({functionedit:!1}),this.setState({printBTN:"Print"}),this.handleFunctionDeposit())}},{key:"logout",value:function(){localStorage.removeItem("userInfo"),this.setState({login:!0}),localStorage.removeItem("shift")}},{key:"handleOrgData2",value:function(){var e=this;null!==this.state.description12&&fetch("".concat(Nt),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({displayDeposits:t})})}},{key:"getOrgData",value:function(){var e=this;fetch("".concat(Dt),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({org:t})})}},{key:"handleSubmit",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o,r,l,c;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"POS"!==this.state.paymentMethod){e.next=7;break}return t={docketNum:"BillSales"+Math.floor(1e4*Math.random()),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),cost:"".concat(this.state.cost),POSAmount:"".concat(this.state.amountPaid),CashAmount:0,TransferAmount:0,CompDebit:0,roomDebit:0,description:"".concat(this.state.description1),group:"".concat(this.state.group),groupEmail:"".concat(this.state.email),groupPhone:"".concat(this.state.phone),refID:"".concat(this.state.orgID),department:"Other Sales",paymentMethod:"".concat(this.state.paymentMethod),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift"),arrivalDate:"".concat(this.state.orgID)},e.next=5,fetch(pt,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)});case 5:a=e.sent,console.log("result1>  "+a);case 7:if("Cash"!==this.state.paymentMethod){e.next=13;break}return n={docketNum:"BillSales"+Math.floor(1e4*Math.random()),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),cost:"".concat(this.state.cost),POSAmount:0,CashAmount:"".concat(this.state.amountPaid),TransferAmount:0,CompDebit:0,roomDebit:0,description:"".concat(this.state.description1),group:"".concat(this.state.group),groupEmail:"".concat(this.state.email),groupPhone:"".concat(this.state.phone),refID:"".concat(this.state.orgID),department:"Other Sales",paymentMethod:"".concat(this.state.paymentMethod),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=11,fetch(pt,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)});case 11:s=e.sent,console.log("result2>  "+s);case 13:if("Transfer"!==this.state.paymentMethod){e.next=19;break}return o={docketNum:"BillSales"+Math.floor(1e4*Math.random()),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),cost:"".concat(this.state.cost),POSAmount:0,CashAmount:0,TransferAmount:"".concat(this.state.amountPaid),CompDebit:0,roomDebit:0,description:"".concat(this.state.description1),group:"".concat(this.state.group),groupEmail:"".concat(this.state.email),groupPhone:"".concat(this.state.phone),refID:"".concat(this.state.orgID),department:"Other Sales",paymentMethod:"".concat(this.state.paymentMethod),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=17,fetch(pt,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(o)});case 17:r=e.sent,console.log("result3>  "+r);case 19:if("Complimentary"!==this.state.paymentMethod){e.next=25;break}return l={docketNum:"BillSales"+Math.floor(1e4*Math.random()),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),cost:"".concat(this.state.cost),POSAmount:0,CashAmount:0,TransferAmount:0,CompDebit:"".concat(this.state.amountPaid),roomDebit:0,description:"".concat(this.state.description1),group:"".concat(this.state.group),groupEmail:"".concat(this.state.email),groupPhone:"".concat(this.state.phone),refID:"".concat(this.state.orgID),department:"Other Sales",paymentMethod:"".concat(this.state.paymentMethod),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=23,fetch(pt,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(l)});case 23:c=e.sent,console.log("result4>  "+c);case 25:alert("Sales Posted"),this.setState({description1:""}),this.setState({amountPaid:""}),this.setState({displayRoomNums:""}),this.setState({orgName:""}),this.setState({paymentMethod:""}),this.setState({displayPaymentMethods:""}),this.setState({org:""}),this.setState({refID:""}),this.setState({email:""}),this.setState({phone:""}),this.setState({class:""}),this.setState({shift:""}),e.next=43;break;case 40:e.prev=40,e.t0=e.catch(0),console.log(e.t0);case 43:case"end":return e.stop()}},e,this,[[0,40]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleLaundry",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={docketNum:"LaundrySales"+Math.floor(1e4*Math.random()),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),cost:0,POSAmount:"".concat(this.state.POSPay),CashAmount:"".concat(this.state.CashPay),TransferAmount:"".concat(this.state.TransferPay),CompDebit:"".concat(this.state.CompPay),roomDebit:0,description:"".concat(this.state.otherDepartments),department:"Laundry Sales",paymentMethod:"NA",user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},a={_id:"DSR"+Math.floor(1e4*Math.random()),description:"Laundry Sales",department:"Laundry Sales",date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),POS:"".concat(this.state.POSPay),Cash:"".concat(this.state.CashPay),Room:0,Transfer:"".concat(this.state.TransferPay),Complimentary:"".concat(this.state.CompPay),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=5,fetch("https://zarvichdemo.localto.net/postLaundry",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)});case 5:return n=e.sent,console.log("result1>  "+n),e.next=9,fetch(ft,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(a)});case 9:s=e.sent,console.log("result5>  "+s),alert("Sales Posted"),this.setState({otherDepartments:""}),this.setState({CashPay:0}),this.setState({POSPay:0}),this.setState({TransferPay:0}),this.setState({CompPay:0}),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),console.log(e.t0);case 22:case"end":return e.stop()}},e,this,[[0,19]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleGymn",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={docketNum:"GymnSales"+Math.floor(1e4*Math.random()),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),cost:0,POSAmount:"".concat(this.state.POSPay),CashAmount:"".concat(this.state.CashPay),TransferAmount:"".concat(this.state.TransferPay),CompDebit:"".concat(this.state.CompPay),roomDebit:0,description:"".concat(this.state.otherDepartments),department:"Gymnasium Sales",paymentMethod:"NA",user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},a={_id:"DSR"+Math.floor(1e4*Math.random()),description:"Gymnasium Sales",department:"Gymnasium Sales",date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),POS:"".concat(this.state.POSPay),Cash:"".concat(this.state.CashPay),Room:0,Transfer:"".concat(this.state.TransferPay),Complimentary:"".concat(this.state.CompPay),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=5,fetch("https://zarvichdemo.localto.net/GymnasiumSales",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)});case 5:return n=e.sent,console.log("result1>  "+n),e.next=9,fetch(ft,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(a)});case 9:s=e.sent,console.log("result5>  "+s),alert("Sales Posted"),this.setState({otherDepartments:""}),this.setState({CashPay:0}),this.setState({POSPay:0}),this.setState({TransferPay:0}),this.setState({CompPay:0}),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),console.log(e.t0);case 22:case"end":return e.stop()}},e,this,[[0,19]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleSmoothie",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={docketNum:"SuyaSales"+Math.floor(1e4*Math.random()),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),cost:0,POSAmount:"".concat(this.state.POSPay),CashAmount:"".concat(this.state.CashPay),TransferAmount:"".concat(this.state.TransferPay),CompDebit:"".concat(this.state.CompPay),roomDebit:0,description:"".concat(this.state.otherDepartments),department:"Suya Sales",paymentMethod:"NA",user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},a={_id:"DSR"+Math.floor(1e4*Math.random()),description:"Suya Sales",department:"Suya Sales",date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),POS:"".concat(this.state.POSPay),Cash:"".concat(this.state.CashPay),Room:0,Transfer:"".concat(this.state.TransferPay),Complimentary:"".concat(this.state.CompPay),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=5,fetch("https://zarvichdemo.localto.net/SmoothiesSales",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)});case 5:return n=e.sent,console.log("result1>  "+n),e.next=9,fetch(ft,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(a)});case 9:s=e.sent,console.log("postSalesSS>  "+s),alert("Sales Posted"),this.setState({otherDepartments:""}),this.setState({CashPay:0}),this.setState({POSPay:0}),this.setState({TransferPay:0}),this.setState({CompPay:0}),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),console.log(e.t0);case 22:case"end":return e.stop()}},e,this,[[0,19]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleSwimming",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={docketNum:"SwimmingSales"+Math.floor(1e4*Math.random()),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),cost:0,POSAmount:"".concat(this.state.POSPay),CashAmount:"".concat(this.state.CashPay),TransferAmount:"".concat(this.state.TransferPay),CompDebit:"".concat(this.state.CompPay),roomDebit:0,description:"".concat(this.state.otherDepartments),department:"Swimming Sales",paymentMethod:"NA",user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},a={_id:"DSR"+Math.floor(1e4*Math.random()),description:"Swimming Sales",department:"Swimming Sales",date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),POS:"".concat(this.state.POSPay),Cash:"".concat(this.state.CashPay),Room:0,Transfer:"".concat(this.state.TransferPay),Complimentary:"".concat(this.state.CompPay),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=5,fetch("https://zarvichdemo.localto.net/SwimmingSales",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)});case 5:return n=e.sent,console.log("result1>  "+n),e.next=9,fetch(ft,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(a)});case 9:s=e.sent,console.log("result5>  "+s),alert("Sales Posted"),this.setState({otherDepartments:""}),this.setState({CashPay:0}),this.setState({POSPay:0}),this.setState({TransferPay:0}),this.setState({CompPay:0}),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),console.log(e.t0);case 22:case"end":return e.stop()}},e,this,[[0,19]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleHallHires",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={docketNum:"HallHire"+Math.floor(1e4*Math.random()),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),cost:0,POSAmount:"".concat(this.state.POSPay),CashAmount:"".concat(this.state.CashPay),TransferAmount:"".concat(this.state.TransferPay),CompDebit:"".concat(this.state.CompPay),roomDebit:0,description:"".concat(this.state.otherDepartments),department:"Hall Hire",paymentMethod:"NA",user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},a={_id:"DSR"+Math.floor(1e4*Math.random()),description:"Hall Hire",department:"Hall Hire",date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),POS:"".concat(this.state.POSPay),Cash:"".concat(this.state.CashPay),Room:0,Transfer:"".concat(this.state.TransferPay),Complimentary:"".concat(this.state.CompPay),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=5,fetch("https://zarvichdemo.localto.net/HallHireSales",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)});case 5:return n=e.sent,console.log("result1>  "+n),e.next=9,fetch(ft,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(a)});case 9:s=e.sent,console.log("result5>  "+s),alert("Sales Posted"),this.setState({otherDepartments:""}),this.setState({CashPay:0}),this.setState({POSPay:0}),this.setState({TransferPay:0}),this.setState({CompPay:0}),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),console.log(e.t0);case 22:case"end":return e.stop()}},e,this,[[0,19]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleShisha",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={docketNum:"Games"+Math.floor(1e4*Math.random()),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),cost:0,POSAmount:"".concat(this.state.POSPay),CashAmount:"".concat(this.state.CashPay),TransferAmount:"".concat(this.state.TransferPay),CompDebit:"".concat(this.state.CompPay),roomDebit:0,description:"".concat(this.state.otherDepartments),department:"Games Sales",paymentMethod:"NA",user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},a={_id:"DSR"+Math.floor(1e4*Math.random()),description:"Games Sales",department:"Games Sales",date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),POS:"".concat(this.state.POSPay),Cash:"".concat(this.state.CashPay),Room:0,Transfer:"".concat(this.state.TransferPay),Complimentary:"".concat(this.state.CompPay),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=5,fetch("https://zarvichdemo.localto.net/ShishaSales",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)});case 5:return n=e.sent,console.log("result1>  "+n),e.next=9,fetch(ft,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(a)});case 9:s=e.sent,console.log("result5>  "+s),alert("Sales Posted"),this.setState({otherDepartments:""}),this.setState({CashPay:0}),this.setState({POSPay:0}),this.setState({TransferPay:0}),this.setState({CompPay:0}),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),console.log(e.t0);case 22:case"end":return e.stop()}},e,this,[[0,19]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleBbq",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={docketNum:"Bbq"+Math.floor(1e4*Math.random()),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),cost:0,POSAmount:"".concat(this.state.POSPay),CashAmount:"".concat(this.state.CashPay),TransferAmount:"".concat(this.state.TransferPay),CompDebit:"".concat(this.state.CompPay),roomDebit:0,description:"".concat(this.state.otherDepartments),department:"Barbeque Sales",paymentMethod:"NA",user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},a={_id:"DSR"+Math.floor(1e4*Math.random()),description:"Barbeque Sales",department:"Barbeque Sales",date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),POS:"".concat(this.state.POSPay),Cash:"".concat(this.state.CashPay),Room:0,Transfer:"".concat(this.state.TransferPay),Complimentary:"".concat(this.state.CompPay),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=5,fetch("https://zarvichdemo.localto.net/BbqSales",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)});case 5:return n=e.sent,console.log("result1>  "+n),e.next=9,fetch(ft,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(a)});case 9:s=e.sent,console.log("result5>  "+s),alert("Sales Posted"),this.setState({otherDepartments:""}),this.setState({CashPay:0}),this.setState({POSPay:0}),this.setState({TransferPay:0}),this.setState({CompPay:0}),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),console.log(e.t0);case 22:case"end":return e.stop()}},e,this,[[0,19]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleMiniMart",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={docketNum:"MartSales"+Math.floor(1e4*Math.random()),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),cost:0,POSAmount:"".concat(this.state.POSPay),CashAmount:"".concat(this.state.CashPay),TransferAmount:"".concat(this.state.TransferPay),CompDebit:"".concat(this.state.CompPay),roomDebit:0,description:"".concat(this.state.otherDepartments),department:"Mart Sales",paymentMethod:"NA",user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},a={_id:"DSR"+Math.floor(1e4*Math.random()),description:"Mart Sales",department:"Mart Sales",date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),POS:"".concat(this.state.POSPay),Cash:"".concat(this.state.CashPay),Room:0,Transfer:"".concat(this.state.TransferPay),Complimentary:"".concat(this.state.CompPay),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=5,fetch("https://zarvichdemo.localto.net/MiniMartSales",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)});case 5:return n=e.sent,console.log("result1>  "+n),e.next=9,fetch(ft,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(a)});case 9:s=e.sent,console.log("result5>  "+s),alert("Sales Posted"),this.setState({otherDepartments:""}),this.setState({CashPay:0}),this.setState({POSPay:0}),this.setState({TransferPay:0}),this.setState({CompPay:0}),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),console.log(e.t0);case 22:case"end":return e.stop()}},e,this,[[0,19]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleRoomDockets",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={_id:Math.floor(1e4*Math.random()),docketNum:"BillDockt"+Math.floor(1e4*Math.random()),refID:"".concat(this.state.guestInhouseID),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),amountPaid:"".concat(this.state.amountPaid3),POSAmount:0,CashAmount:0,TransferAmount:0,CompDebit:0,roomDebit:"".concat(this.state.cost3),cost:"".concat(this.state.cost3),paymentMethod:"".concat(this.state.paymentMethod),roomNumbers:"".concat(this.state.roomNumbers3),description:"".concat(this.state.description3),group:"".concat(this.state.group),department:"Room Sales",user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=4,fetch("https://zarvichdemo.localto.net/bill",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)});case 4:a=e.sent,console.log("result>  "+a),alert("Docket Posted to Room "+this.state.roomNumbers3),this.setState({description3:""}),this.setState({amountPaid3:""}),this.setState({displayRoomNums:""}),this.setState({roomNumbers3:""}),this.setState({paymentMethod3:""}),this.setState({displayPaymentMethods:""}),this.setState({guestInhouseID:""}),this.setState({group:""}),this.setState({cost3:""}),this.setState({shift:""}),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),console.log(e.t0);case 22:case"end":return e.stop()}},e,this,[[0,19]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleRoomDeposit",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o,r,l,c,i,u,h,d;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"POS"!==this.state.paymentMethod2){e.next=11;break}return t={receiptNum:"BillRec"+Math.floor(1e3*Math.random()),_id:Math.floor(1e6*Math.random()),refID:"".concat(this.state.guestInhouseID),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),POSAmount:parseInt("".concat(this.state.depositAmount)),CashAmount:0,TransferAmount:0,CompDebit:0,roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod2),roomNumbers:"".concat(this.state.roomNumbers),description:"".concat(this.state.description2),department:"Room Deposit",user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=5,fetch("https://zarvichdemo.localto.net/rmDeposit",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)});case 5:return a=e.sent,console.log("result1>  "+a),e.next=9,fetch("https://zarvichdemo.localto.net/PostTmpRmDep",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)});case 9:n=e.sent,console.log("result1b>  "+n);case 11:if("Cash"!==this.state.paymentMethod2){e.next=21;break}return s={receiptNum:"BillRec"+Math.floor(1e3*Math.random()),_id:Math.floor(1e6*Math.random()),refID:"".concat(this.state.guestInhouseID),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),POSAmount:0,CashAmount:parseInt("".concat(this.state.depositAmount)),TransferAmount:0,CompDebit:0,roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod2),roomNumbers:"".concat(this.state.roomNumbers),description:"".concat(this.state.description2),department:"Room Deposit",user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=15,fetch("https://zarvichdemo.localto.net/rmDeposit",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(s)});case 15:return o=e.sent,console.log("result2>  "+o),e.next=19,fetch("https://zarvichdemo.localto.net/PostTmpRmDep",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(s)});case 19:r=e.sent,console.log("result2b>  "+r);case 21:if("Transfer"!==this.state.paymentMethod2){e.next=31;break}return l={receiptNum:"BillRec"+Math.floor(1e3*Math.random()),_id:Math.floor(1e6*Math.random()),refID:"".concat(this.state.guestInhouseID),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),POSAmount:0,CashAmount:0,TransferAmount:parseInt("".concat(this.state.depositAmount)),CompDebit:0,roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod2),roomNumbers:"".concat(this.state.roomNumbers),description:"".concat(this.state.description2),department:"Room Deposit",user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=25,fetch("https://zarvichdemo.localto.net/rmDeposit",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(l)});case 25:return c=e.sent,console.log("result3>  "+c),e.next=29,fetch("https://zarvichdemo.localto.net/PostTmpRmDep",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(l)});case 29:i=e.sent,console.log("result3b>  "+i);case 31:if("Complimentary"!==this.state.paymentMethod2){e.next=41;break}return u={receiptNum:"BillRec"+Math.floor(1e3*Math.random()),_id:Math.floor(1e6*Math.random()),refID:"".concat(this.state.guestInhouseID),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),POSAmount:0,CashAmount:0,TransferAmount:0,CompDebit:parseInt("".concat(this.state.depositAmount)),roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod2),roomNumbers:"".concat(this.state.roomNumbers),description:"".concat(this.state.description2),department:"Room Deposit",user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=35,fetch("https://zarvichdemo.localto.net/rmDeposit",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(u)});case 35:return h=e.sent,console.log("result3>  "+h),e.next=39,fetch("https://zarvichdemo.localto.net/PostTmpRmDep",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(u)});case 39:d=e.sent,console.log("result3b>  "+d);case 41:fetch("".concat("https://zarvichdemo.localto.net/delcityLedger","/").concat(this.state.phoneCode),{method:"delete"}),alert("Deposit Posted for Room "+this.state.roomNumbers),this.setState({depositAmount:""}),this.setState({description2:""}),this.setState({displayRoomNums:""}),this.setState({roomNumbers:""}),this.setState({paymentMethod2:""}),this.setState({guestInhouseID:""}),this.setState({rate:""}),this.setState({rmType:""}),this.setState({displayAllRoomNums:""}),this.setState({displayPaymentMethods:""}),this.setState({displayRoomNums:""}),this.setState({displayDeposits:""}),this.setState({shift:""}),e.next=61;break;case 58:e.prev=58,e.t0=e.catch(0),console.log(e.t0);case 61:case"end":return e.stop()}},e,this,[[0,58]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleFunctionDeposit",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o,r,l,c,i,u,h,d;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"POS"!==this.state.paymentMethod4){e.next=11;break}return t={receiptNum:"BillRec"+Math.floor(1e3*Math.random()),_id:Math.floor(1e6*Math.random()),refID:"".concat(this.state.refID),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),POSAmount:"".concat(this.state.functionDeposit),CashAmount:0,TransferAmount:0,CompDebit:0,roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod2),group:"".concat(this.state.group),description:"".concat(this.state.description12),department:"Function Deposit",user:localStorage.getItem("userInfo"),groupEmail:"".concat(this.state.email),groupPhone:"".concat(this.state.phone),shift:localStorage.getItem("shift")},e.next=5,fetch(Tt,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)});case 5:return a=e.sent,console.log("result1>  "+a),e.next=9,fetch(Ct,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)});case 9:n=e.sent,console.log("result1b>  "+n);case 11:if("Cash"!==this.state.paymentMethod4){e.next=21;break}return s={receiptNum:"BillRec"+Math.floor(1e4*Math.random()),_id:Math.floor(1e4*Math.random()),refID:"".concat(this.state.refID),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),POSAmount:0,CashAmount:"".concat(this.state.functionDeposit),TransferAmount:0,CompDebit:0,roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod2),group:"".concat(this.state.group),description:"".concat(this.state.description12),department:"Function Deposit",user:localStorage.getItem("userInfo"),groupEmail:"".concat(this.state.email),groupPhone:"".concat(this.state.phone),shift:localStorage.getItem("shift")},e.next=15,fetch(Tt,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(s)});case 15:return o=e.sent,console.log("result2>  "+o),e.next=19,fetch(Ct,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(s)});case 19:r=e.sent,console.log("result2b>  "+r);case 21:if("Transfer"!==this.state.paymentMethod4){e.next=31;break}return l={receiptNum:"BillRec"+Math.floor(1e4*Math.random()),_id:Math.floor(1e4*Math.random()),refID:"".concat(this.state.refID),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),POSAmount:0,CashAmount:0,TransferAmount:"".concat(this.state.functionDeposit),CompDebit:0,roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod2),group:"".concat(this.state.group),description:"".concat(this.state.description12),department:"Function Deposit",user:localStorage.getItem("userInfo"),groupEmail:"".concat(this.state.email),groupPhone:"".concat(this.state.phone),shift:localStorage.getItem("shift")},e.next=25,fetch(Tt,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(l)});case 25:return c=e.sent,console.log("result3>  "+c),e.next=29,fetch(Ct,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(l)});case 29:i=e.sent,console.log("result3b>  "+i);case 31:if("Complimentary"!==this.state.paymentMethod4){e.next=41;break}return u={receiptNum:"BillRec"+Math.floor(1e4*Math.random()),_id:Math.floor(1e4*Math.random()),refID:"".concat(this.state.refID),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),POSAmount:0,CashAmount:0,TransferAmount:0,CompDebit:"".concat(this.state.functionDeposit),roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod2),group:"".concat(this.state.group),description:"".concat(this.state.description12),department:"Function Deposit",user:localStorage.getItem("userInfo"),groupEmail:"".concat(this.state.email),groupPhone:"".concat(this.state.phone),shift:localStorage.getItem("shift")},e.next=35,fetch(Tt,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(u)});case 35:return h=e.sent,console.log("result3>  "+h),e.next=39,fetch(Ct,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(u)});case 39:d=e.sent,console.log("result3b>  "+d);case 41:alert(this.state.group+" Function Deposit Posted"),this.setState({functionDeposit:""}),this.setState({description12:""}),this.setState({displayRoomNums:""}),this.setState({group:""}),this.setState({paymentMethod4:""}),this.setState({refID:""}),this.setState({email:""}),this.setState({phone:""}),this.setState({displayAllRoomNums:""}),this.setState({displayPaymentMethods:""}),this.setState({org:""}),this.setState({displayDeposits:""}),this.setState({class:""}),this.setState({shift:""}),e.next=61;break;case 58:e.prev=58,e.t0=e.catch(0),console.log(e.t0);case 61:case"end":return e.stop()}},e,this,[[0,58]])}));return function(){return e.apply(this,arguments)}}()},{key:"renderPayMeth",value:function(e){if(e)return e.map(function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{key:e.method,value:e.method},e.method))})}},{key:"renderDepositTypes",value:function(e){if(e)return e.map(function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{key:e.id,value:e.method},e.method))})}},{key:"renderRooms",value:function(e){if(e)return e.sort(function(e,t){return e.roomNumbers-t.roomNumbers}),e.map(function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{key:e.roomNumbers,value:e.roomNumbers},e.roomNumbers," - ",e.fname," ",e.lname," - ",e.roomtypeName))})}},{key:"renderAllRooms",value:function(e){if(e)return e.sort(function(e,t){return e.roomNumbers-t.roomNumbers}),e.map(function(e,t){return"green"===e.roomStatus||"black"===e.roomStatus?s.a.createElement(s.a.Fragment,null):s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{key:t,value:e.roomNumbers},e.roomNumbers," - ",e.fname," ",e.lname," - ",e.roomtypeName))})}},{key:"renderAllDeptWPC",value:function(e){if(e)return e.sort(function(e,t){return e.DeptName-t.DeptName}),e.map(function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{key:e._id,value:e.DeptName},e.DeptName))})}},{key:"renderHalls",value:function(e){if(e)return e.sort(function(e,t){return e.price-t.price}),e.map(function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{key:e._id,value:e.hallName},e.hallName))})}},{key:"render",value:function(){var e=this;console.log(">>> Inside RESrender",this.state);var t=k()("".concat(this.state.transactionDate)).format("MMM DD YYYY");return null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement(et,null)):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"background1505nw"},s.a.createElement("center",null,s.a.createElement("br",null),s.a.createElement("center",null,s.a.createElement("h6",{style:{color:"yellow"}},"Active Shift: ",localStorage.getItem("shift")," ")),s.a.createElement("div",{className:"formdesign15 "},s.a.createElement("h4",{className:"mb-3 mt-3"},"Room Deposits"),s.a.createElement("div",{className:"row"},s.a.createElement("select",{type:"button",className:"form-select mb-2 btn btn-primary mt-3 col-2 aligntext1",name:"description2",onMouseOver:function(){return e.handleDepositData()},onChange:this.handleroomData2},s.a.createElement("option",{selected:!0,value:""},"Deposit Types"),this.renderDepositTypes(this.state.displayDeposits)),s.a.createElement("select",{type:"button",className:"form-select mb-2 btn btn-primary mt-3 col-2 aligntext",name:"roomNumbers",onChange:this.handleChange2},s.a.createElement("option",{selected:!0,value:""},"Select Room"),this.renderAllRooms(this.state.displayAllRoomNums)),s.a.createElement("div",{className:"col-2 mb-3"},s.a.createElement("input",{className:"form-control mb-3 formsize3 mt-3 aligntext2",name:"dailyRate",value:this.state.rate,require:!0,placeholder:"Daily Rate",readOnly:!0})),s.a.createElement("select",{type:"button",className:"form-select formsize3 mb-2 btn btn-primary mt-3 aligntext5",name:"paymentMethod2",onChange:this.handleChange},s.a.createElement("option",{selected:!0,value:""},"Payment Method"),this.renderPayMeth(this.state.displayPaymentMethods)),s.a.createElement("div",{className:"col-2 mb-3"},s.a.createElement("input",{type:"number",className:"form-control mb-3 formsize3 mt-3 aligntext6",name:"depositAmount",require:!0,placeholder:"Deposit Amount",value:this.state.depositAmount,onChange:this.handleChange})))),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("button",{disabled:""===this.state.description2||""===this.state.roomNumbers||""===this.state.paymentMethod2||""===this.state.depositAmount,className:"btn btn-warning mt-3",onClick:function(){return e.onOpenDepModal()}},"Post Deposit"),s.a.createElement("button",{className:"btn btn-danger flipright mt-3",onClick:function(){e.clearReceipt(),e.props.history.push("./BillingMenu")}},"Close")),s.a.createElement("hr",{style:{color:"silver"}})),s.a.createElement("br",null),s.a.createElement("div",{className:"formdesign15"},s.a.createElement("h4",{className:"mb-3 mt-3"},"Other Sales"),s.a.createElement("div",{className:"row"},s.a.createElement("select",{type:"button",className:"form-select mb-2 btn btn-primary mt-3 col-2 aligntext spaceright",name:"otherDepartments",onChange:this.handleChange},s.a.createElement("option",{selected:!0,value:""},"Select Dept"),this.renderAllDeptWPC(this.state.DeptsWdPC)),s.a.createElement("div",{className:"col-2 mb-3"},s.a.createElement("label",null,"Cash"),s.a.createElement("input",{type:"number",className:"form-control mb-3 formsize4 mt-3",name:"CashPay",value:this.state.CashPay,onChange:this.handleChange99})),s.a.createElement("div",{className:"col-2 mb-3"},s.a.createElement("label",null,"POS"),s.a.createElement("input",{type:"number",className:"form-control mb-3 formsize4 mt-3",name:"POSPay",value:this.state.POSPay,onChange:this.handleChange99})),s.a.createElement("div",{className:"col-2 mb-3"},s.a.createElement("label",null,"Transfer"),s.a.createElement("input",{type:"number",className:"form-control mb-3 formsize4 mt-3",name:"TransferPay",value:this.state.TransferPay,onChange:this.handleChange99})),s.a.createElement("div",{className:"col-2 mb-3"},s.a.createElement("label",null,"Complimentary"),s.a.createElement("input",{type:"number",className:"form-control mb-3 formsize4 mt-3",name:"CompPay",value:this.state.CompPay,onChange:this.handleChange99})))),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("button",{disabled:""===this.state.otherDepartments,className:"btn btn-warning mt-3",onClick:function(){return e.onOpendeptwoutpcModal()}},"Post Payment"),s.a.createElement("button",{className:"btn btn-danger flipright mt-3",onClick:function(){e.clearReceipt(),e.props.history.push("./BillingMenu")}},"Close"))),s.a.createElement("hr",{style:{color:"silver"}}),s.a.createElement("br",null),s.a.createElement("div",{className:"formdesign15"},s.a.createElement("h4",{className:"mb-3 mt-3"},"Miscellaneous Sales"),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-3 mb-3"},s.a.createElement("input",{type:"text",className:"form-control formsize2 mt-3",name:"description1",require:!0,placeholder:"Description",value:this.state.description1,list:"halls",onChange:this.handlePayMethData})),s.a.createElement("select",{type:"button",className:"form-select formsize3 mb-2 btn btn-primary mt-3 spaceleft",name:"paymentMethod",onChange:this.handleChange},s.a.createElement("option",{selected:!0,value:""},"Payment Method"),this.renderPayMeth(this.state.displayPaymentMethods)),s.a.createElement("div",{className:"col-3 mb-3"},s.a.createElement("input",{type:"number",className:"form-control mb-3 formsize4 mt-3",name:"amountPaid",require:!0,placeholder:"Amount Paid",value:this.state.amountPaid,onChange:this.handleChange})))),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("button",{disabled:""===this.state.description1||""===this.state.amountPaid||""===this.state.paymentMethod,className:"btn btn-warning mt-3",onClick:function(){return e.onOpenOthrsModal()}},"Post Payment"),s.a.createElement("button",{className:"btn btn-danger flipright mt-3",onClick:function(){e.clearReceipt(),e.props.history.push("./BillingMenu")}},"Close"))),s.a.createElement("hr",{style:{color:"silver"}}),s.a.createElement("br",null),s.a.createElement("div",{className:"formdesign15"},s.a.createElement("h4",{className:"mb-3 mt-3"},"Room Dockets"),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-3 mb-3"},s.a.createElement("input",{type:"text",className:"form-control formsize2 mt-3",name:"description3",require:!0,placeholder:"Description",value:this.state.description3,onChange:this.handleroomData})),s.a.createElement("select",{type:"button",className:"form-select mb-2 btn btn-primary mt-3 col-2 aligntext",name:"roomNumbers3",onChange:this.handleChange3},s.a.createElement("option",{selected:!0,value:""},"Select Room"),this.renderRooms(this.state.displayRoomNums)),s.a.createElement("div",{className:"col-2 mb-3"},s.a.createElement("input",{className:"form-control mb-3 formsize3 mt-3 aligntext2",type:"number",name:"cost3",value:this.state.cost3,require:!0,placeholder:"Cost",onChange:this.handleChange})),s.a.createElement("div",{className:"col-2 mb-3"},s.a.createElement("input",{className:"form-control mb-3 formsize3 mt-3 aligntext3",type:"number",name:"amountPaid3",value:this.state.amountPaid3,require:!0,placeholder:"Amount Paid",readOnly:!0})))),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("button",{disabled:""===this.state.description3||""===this.state.roomNumbers3||""===this.state.cost3,className:"btn btn-warning mt-3",onClick:function(){return e.onOpenDktModal()}},"Post Room Dockets"),s.a.createElement("button",{className:"btn btn-danger flipright mt-3",onClick:function(){e.clearReceipt(),e.props.history.push("./BillingMenu")}},"Close"))),s.a.createElement("hr",{style:{color:"silver"}}))),s.a.createElement("div",{className:"pagebody2"},s.a.createElement("input",{type:"number",className:"form-control mb-3 formsize3 mt-3 aligntext4",name:"depositAmount9",value:this.state.depositAmount9,hidden:!0})),s.a.createElement(v.a,{open:this.state.Dcktedit},s.a.createElement("div",{className:"backgroundRetRep"},s.a.createElement("center",null,s.a.createElement("h6",null,this.state.Hotelname),s.a.createElement("p",{className:"textSize"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSize"},this.state.Hotelphone),s.a.createElement("h5",null,"Room Docket - ",this.state.roomNumbers),s.a.createElement("p",{className:"textSize"},"Date: ",t)),s.a.createElement("p",{className:"textSize"},"Guest Names: ",this.state.guestfname," ",this.state.guestlname),s.a.createElement("p",{className:"textSize"},"Docket Num: ",this.state.receiptnumberz)),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust50"},"Description"),s.a.createElement("th",{className:"adjust50"},"Room Num"),s.a.createElement("th",{className:"adjust50"},"Cost(NGN)"))),s.a.createElement("tbody",{className:"table table-hover"},s.a.createElement("tr",null,s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet"},s.a.createElement("b",null,this.state.description3)),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet"},s.a.createElement("b",null,this.state.roomNumbers3)),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.cost3),thousandSeparator:!0,displayType:"text"})))))),s.a.createElement("br",null),s.a.createElement("p",{className:"textSize"},"Posted By: ",this.state.name),s.a.createElement("div",{className:"printing"},s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-primary",style:{height:"40px"},onClick:function(){e.sendtoprinterDkt()}},s.a.createElement("p",null,this.state.printBTN))))),s.a.createElement(v.a,{open:this.state.depositedit},s.a.createElement("div",{className:"backgroundRetRep"},s.a.createElement("center",null,s.a.createElement("h6",null,this.state.Hotelname),s.a.createElement("p",{className:"textSize"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSize"},this.state.Hotelphone),s.a.createElement("h5",null,"Room Deposit Receipt - ",this.state.roomNumbers),s.a.createElement("p",{className:"textSize"},"Date: ",t)),s.a.createElement("p",{className:"textSize"},"Guest Names: ",this.state.guestfname," ",this.state.guestlname),s.a.createElement("p",{className:"textSize"},"Receipt Num: ",this.state.receiptnumberz)),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust50"},"Description"),s.a.createElement("th",{className:"adjust50"},"Room Num"),s.a.createElement("th",{className:"adjust50"},"Daily Rate(NGN)"),s.a.createElement("th",{className:"adjust50"},"Payment Method"),s.a.createElement("th",{className:"adjust50"},"Deposit Amount(NGN)"))),s.a.createElement("tbody",{className:"table table-hover"},s.a.createElement("tr",null,s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet"},s.a.createElement("b",null,this.state.description2)),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet"},s.a.createElement("b",null,this.state.roomNumbers)),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.rate),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet"},s.a.createElement("b",null,this.state.paymentMethod2)),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.depositAmount),thousandSeparator:!0,displayType:"text"})))))),s.a.createElement("br",null),s.a.createElement("p",{className:"textSize"},"Posted By: ",this.state.name),s.a.createElement("div",{className:"printing"},s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-primary",style:{height:"40px"},onClick:function(){e.sendtoprinterDep()}},s.a.createElement("p",null,this.state.printBTN))))),s.a.createElement(v.a,{open:this.state.othersedit},s.a.createElement("div",{className:"setthispage"},s.a.createElement("div",{className:"backgroundRetRep"},s.a.createElement("center",null,s.a.createElement("h6",null,this.state.Hotelname),s.a.createElement("p",{className:"textSize"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSize"},this.state.Hotelphone),s.a.createElement("h5",null,"General Receipt"),s.a.createElement("p",{className:"textSize"},"Date: ",t)),s.a.createElement("p",{className:"textSize"},"Receipt Num: ",this.state.receiptnumberz)),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning setGR"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust50ssss"},"Description"),s.a.createElement("th",{className:"adjust50ssss"},"Payment Method"),s.a.createElement("th",{className:"adjust50ssss"},"Amount Paid(NGN)"))),s.a.createElement("tbody",{className:"table table-hover"},s.a.createElement("tr",null,s.a.createElement("td",{className:"table-light table-striped adjust2 alignTetssss"},s.a.createElement("b",null,this.state.description1)),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTetssss"},s.a.createElement("b",null,this.state.paymentMethod)),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTetssss"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.amountPaid),thousandSeparator:!0,displayType:"text"})))))),s.a.createElement("br",null),s.a.createElement("p",{className:"textSize"},"Posted By: ",this.state.name),s.a.createElement("div",{className:"printing"},s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-primary",style:{height:"40px"},onClick:function(){e.sendtoprinterOthrs()}},s.a.createElement("p",null,this.state.printBTN)))))),s.a.createElement(v.a,{open:this.state.deptwdpc},s.a.createElement("div",{className:"backgroundRetRep"},s.a.createElement("center",null,s.a.createElement("h6",null,this.state.Hotelname),s.a.createElement("p",{className:"textSize"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSize"},this.state.Hotelphone),s.a.createElement("h5",null,"General Receipt"),s.a.createElement("p",{className:"textSize"},"Date: ",t)),s.a.createElement("p",{className:"textSize"},"Receipt Num: ",this.state.receiptnumberz)),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust50"},"Description"),s.a.createElement("th",{className:"adjust50"},"Amount Paid(NGN)"))),s.a.createElement("tbody",{className:"table table-hover"},s.a.createElement("tr",null,s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet"},s.a.createElement("b",null,this.state.DeptsWdPC)),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseFloat(this.state.CashPay)+parseFloat(this.state.POSPay)+parseFloat(this.state.TransferPay),thousandSeparator:!0,displayType:"text"})))))),s.a.createElement("br",null),s.a.createElement("p",{className:"textSize"},"Posted By: ",this.state.name),s.a.createElement("div",{className:"printing"},s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-primary",style:{height:"40px"},onClick:function(){e.sendtoprinterDeptWP()}},s.a.createElement("p",null,this.state.printBTN))))),s.a.createElement(v.a,{open:this.state.functionedit},s.a.createElement("div",{className:"backgroundRetRep"},s.a.createElement("center",null,s.a.createElement("h6",null,this.state.Hotelname),s.a.createElement("p",{className:"textSize"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSize"},this.state.Hotelphone),s.a.createElement("h5",null,"General Receipt"),s.a.createElement("p",{className:"textSize"},"Date: ",t))),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust50"},"Description"),s.a.createElement("th",{className:"adjust50"},"Organisation"),s.a.createElement("th",{className:"adjust50"},"Payment Method"),s.a.createElement("th",{className:"adjust50"},"Amount Paid(NGN)"))),s.a.createElement("tbody",{className:"table table-hover"},s.a.createElement("tr",null,s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet"},s.a.createElement("b",null,this.state.description12)),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet"},s.a.createElement("b",null,this.state.orgName)),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet"},s.a.createElement("b",null,this.state.paymentMethod4)),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.functionDeposit),thousandSeparator:!0,displayType:"text"})))))),s.a.createElement("div",{className:"printing"},s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-primary",style:{height:"40px"},onClick:function(){e.sendtoprinterFunctn()}},s.a.createElement("p",null,this.state.printBTN))))))}},{key:"componentDidMount",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return fetch("".concat("https://zarvichdemo.localto.net/getHalls?hallType="),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({displayAllHalls:e})}),e.next=3,fetch("".concat(Dt),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({DeptsWdPC:e})});case 3:return fetch("".concat("https://zarvichdemo.localto.net/billingUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({loginDetails:e})}),fetch("".concat("https://zarvichdemo.localto.net/hoteladdress"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return t.setState({Hotelname:e.HotelName,Hoteladdress:e.Address,Hotelphone:e.Phone}),"ok"})}),e.next=7,fetch("".concat("https://zarvichdemo.localto.net/getActive"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return t.setState({transactionDate:e.date}),"ok"})});case 7:this.myTimer=setInterval(function(){fetch("".concat("https://zarvichdemo.localto.net/getActive"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return t.setState({transactionDate:e.date}),"ok"})})},1e3),this.myTimer=setTimeout(function(){var e=t.state.loginDetails,a=t.state.name;e.some(function(e){return e.name===a})?t.setState({Blogin:!0}):t.setState({Blogin:!1}),fetch("".concat(Dt),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({DeptsWdPC:e})})},1e3);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),a}(n.Component),It=kt,jt="https://zarvichdemo.localto.net/posting?GcheckinID=",xt="https://zarvichdemo.localto.net/roomRates?gdetails=",Mt="https://zarvichdemo.localto.net/checkin?roomNumID=",Ot="https://zarvichdemo.localto.net/rmDeposit",wt="https://zarvichdemo.localto.net/PostTmpRmDep",Pt=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value))},n.handleChange2=function(e){console.log("inside handle",n.props),n.setState(Object(h.a)({},e.target.name,e.target.value)),fetch("".concat(Mt).concat(e.target.value),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return n.setState({todepTrnID:e.refID,depTrnfAmount:e.dailyRate}),"ok"})})},n.accommodationInfo=function(e){if(e)return e.map(function(e){return e.refID==="".concat(sessionStorage.getItem("gstrefID"))?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-4"},s.a.createElement("p",{className:"textSize"},"Names: ",e.lname," ",e.fname),s.a.createElement("p",{className:"textSize"},"Contact Address: ",e.Address),s.a.createElement("p",{className:"textSize"},"Phone Num: ",e.phone),s.a.createElement("p",{className:"textSize"},"Folio Num: ",e.refID)),s.a.createElement("div",{className:"col-4"},s.a.createElement("p",{className:"textSize"},"Room Type: ",e.roomtypeName," ",e.roomNumbers),s.a.createElement("p",{className:"textSize"},"Room Rate: ",s.a.createElement(E.a,{value:e.roomRate,thousandSeparator:!0,displayType:"text",prefix:"NGN"})),s.a.createElement("p",{className:"textSize"},"Discount Type: ",e.discounType),s.a.createElement("p",{className:"textSize"},"Discount Amount: ",s.a.createElement(E.a,{value:e.discountAmount,thousandSeparator:!0,displayType:"text"}))),s.a.createElement("div",{className:"col-4"},s.a.createElement("p",{className:"textSize"},"Group: ",e.group),s.a.createElement("p",{className:"textSize"},"Arrival Date: ",n.state.arrivalDate),s.a.createElement("p",{className:"textSize"},"Departure Date: ",n.state.departureDate),s.a.createElement("p",{className:"textSize"},"Num. of Nights: ",n.state.stay)))):s.a.createElement(s.a.Fragment,null)})},n.renderRooms=function(e){if(e)return e.map(function(t){e.sort(function(e,t){return new Date(e.tranDate)-new Date(t.tranDate)});var a=k()(t.tranDate).format("MMM DD YYYY");return t.refID==="".concat(sessionStorage.getItem("gstrefID"))?s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:t.refID},s.a.createElement("td",{className:"table-light table-striped adjust2b"},a),s.a.createElement("td",{className:"table-light table-striped adjust2b"},t.roomNumbers),s.a.createElement("td",{className:"table-light table-striped adjust2b"},t.description),s.a.createElement("td",{className:"table-light table-striped adjust2b"},s.a.createElement(E.a,{value:t.dailyRate,thousandSeparator:!0,displayType:"text"})))):s.a.createElement(s.a.Fragment,null)})},n.renderDockets=function(e){if(e)return e.map(function(e){return e.refID==="".concat(sessionStorage.getItem("gstrefID"))?s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:e.refID},s.a.createElement("td",{className:"table-light table-striped adjust2b"},e.date),s.a.createElement("td",{className:"table-light table-striped adjust2b"},e.docketNum),s.a.createElement("td",{className:"table-light table-striped adjust2b"},e.description),s.a.createElement("td",{className:"table-light table-striped adjust2bc"},s.a.createElement(E.a,{value:e.cost,thousandSeparator:!0,displayType:"text"})))):s.a.createElement(s.a.Fragment,null)})},n.renderDeposits=function(e){if(e)return e.map(function(e){return e.refID==="".concat(sessionStorage.getItem("gstrefID"))?s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:e.refID},s.a.createElement("td",{className:"table-light table-striped adjust2b"},e.date),s.a.createElement("td",{className:"table-light table-striped adjust2b"},e.receiptNum),s.a.createElement("td",{className:"table-light table-striped adjust2b"},e.description),s.a.createElement("td",{className:"table-light table-striped adjust2b"},e.paymentMethod),s.a.createElement("td",{className:"table-light table-striped adjust2bc"},s.a.createElement(E.a,{value:e.POSAmount||e.CashAmount||e.TransferAmount||e.CompDebit||e.roomDebit,thousandSeparator:!0,displayType:"text"})))):s.a.createElement(s.a.Fragment,null)})},console.log(">>>Inside GstConstructor",e),n.state={guestDetails:"",guestbilldetails:"",guestDeposits:"",roomCharging:"",arrivalDate:"",departureDate:"",stay:"",dailyRateNow:"",calcAccommodatn:0,calDockets:0,calDeposits:0,TotalRmRate:0,Balance:0,color:"",CheckOutBtn:"Check Out",checkout:"",roomNum:"",roomType:"",datecalculation:"",loginDetails:"",name:localStorage.getItem("userInfo"),login:"",Blogin:"",Oths:0,org:[],firstName:"",lastName:"",edit:!1,displayPaymentMethods:"",paymentMethod2:"",depositAmount:"",description2:"Bill Settlement",guestInhouseID:"",transactionDate:"",editcityLedger:!1,phoneCode:"",emailCode:"",cityLedgerAmount:"",cityLedgerDescription:"City Ledger",cityLedgerID:sessionStorage.getItem("gstrefID"),cityLedgerDate:new Date,editdepositTrnfr:!1,toRoom:"",fromRoom:"",depTrnfAmount:"",depTrnDescription:"Deposit Transfer",fromdepTrnID:sessionStorage.getItem("gstrefID"),todepTrnID:"",depTrnDate:new Date,allRooms:"",getAllPayMeth:"",balanceStatus:"",balanceRoomType:"",balanceFname:"",balanceLname:"",balanceRoomStatus:"",balanceRefID:sessionStorage.getItem("gstrefID"),Hotelname:"",Hoteladdress:"",Hotelphone:"",pass:"",pword:!1,pword2:!1,chktAddress:"",chkGender:"",chkID:"",chkNationality:"",chkNokFname:"",chkNokLname:"",chkNokMname:"",chkNokPhone:"",chkNokRelationship:"",chkPOV:"",chkServiceCharge:"",chkTourismLevy:"",chkVAT:"",chkArrivalDate:"",chkCalculatedstay:"",chkComingFrom:"",chkDailyRate:"",chkdepartureDate:"",chkdiscounType:"",chkdiscountAmount:"",chkdob:"",chkemail:"",chkfname:"",chkgointTo:"",chkgroup:"",chklname:"",chkmiddlename:"",chkmob:"",chkoccupation:"",chkpassportNum:"",chkphone:"",chkpostBillStatus:"",chkrefID:"",chkroomNumbers:"",chkroomRate:"",chkroomStatus:"",chkroomtypeName:"",chkstatus:"",chkstay:"",chktitle:"",chktransactionDate:"",chk_id:""},n}return Object(p.a)(a,[{key:"onOpenPword",value:function(){"Guest Refund"===this.state.CheckOutBtn?this.setState({pword:!0}):(this.setState({pword:!1}),this.checkOut())}},{key:"onOpenPword2",value:function(){this.setState({pword2:!0})}},{key:"onClosePword",value:function(){this.setState({pword:!1})}},{key:"AllowRefund",value:function(){"Deglen2019"===this.state.pass?(this.checkOut(),this.onClosePword(),this.setState({pass:""})):alert("Access Denied")}},{key:"AllowCityLedger",value:function(){"Deglen2019"===this.state.pass?(this.openCityLedger(),this.onClosePword2(),this.setState({pass:""})):alert("Access Denied")}},{key:"onClosePword2",value:function(){this.setState({pword2:!1})}},{key:"onOpenModaledit",value:function(){this.setState({edit:!0})}},{key:"onCloseModaltransfer",value:function(){this.setState({editdepositTrnfr:!1}),window.location.reload()}},{key:"onOpenModaltransfer",value:function(){var e=this;fetch("".concat("https://zarvichdemo.localto.net/checkin"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({allRooms:t,editdepositTrnfr:!0})}),fetch("".concat("https://zarvichdemo.localto.net/paymentMethods"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({getAllPayMeth:t})})}},{key:"onCloseModaledit",value:function(){this.setState({edit:!1}),window.location.reload()}},{key:"openCityLedger",value:function(){this.setState({editcityLedger:!0})}},{key:"closeCityLedger",value:function(){this.setState({editcityLedger:!1}),window.location.reload()}},{key:"checkOut",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o,r=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("Check Out"!==this.state.CheckOutBtn){e.next=18;break}return e.prev=1,t=sessionStorage.getItem("gstrefID"),a=this.state.roomNum,n={status:"",roomtypeName:"".concat(this.state.roomType),fname:"",lname:"",roomStatus:"black",BillStatus:0,refID:""},s={Address:this.state.chktAddress,Gender:this.state.chkGender,ID:this.state.chkID,Nationality:this.state.chkNokFname,NokFname:this.state.chkNokFname,NokLname:this.state.chkNokLname,NokMname:this.state.chkNokMname,NokPhone:this.state.chkNokPhone,NokRelationship:this.state.chkNokRelationship,chkPOV:this.state.chkPOV,ServiceCharge:this.state.chkServiceCharge,TourismLevy:this.state.chkTourismLevy,VAT:this.state.chkVAT,ArrivalDate:this.state.chkArrivalDate,Calculatedstay:this.state.chkCalculatedstay,ComingFrom:this.state.chkComingFrom,DailyRate:this.state.chkDailyRate,departureDate:this.state.chkdepartureDate,discounType:this.state.chkdiscounType,discountAmount:this.state.chkdiscountAmount,dob:this.state.chkdob,email:this.state.chkemail,fname:this.state.chkfname,gointTo:this.state.chkgointTo,group:this.state.chkgroup,lname:this.state.chklname,middlename:this.state.chkmiddlename,mob:this.state.chkmob,occupation:this.state.chkoccupation,passportNum:this.state.chkpassportNum,phone:this.state.chkphone,postBillStatus:this.state.chkpostBillStatus,refID:this.state.chkrefID,roomNumbers:this.state.chkroomNumbers,roomRate:this.state.chkroomRate,roomStatus:this.state.chkroomStatus,roomtypeName:this.state.chkroomtypeName,status:this.state.chkstatus,stay:this.state.chkstay,title:this.state.chktitle,transactionDate:this.state.chktransactionDate},e.next=8,fetch("".concat("https://zarvichdemo.localto.net/delchkOut","/").concat(this.state.chk_id),{method:"delete"});case 8:o=e.sent,console.log("dellast>  "+o),this.myTimer=setTimeout(function(){var e=fetch("https://zarvichdemo.localto.net/goodbye",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(s)});console.log("delChkOutDb>  "+e);var o=fetch("".concat("https://zarvichdemo.localto.net/rmstatus2","/").concat(a),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)});console.log("updtRmStat>  "+o);var l=fetch("".concat("https://zarvichdemo.localto.net/delBooking","/").concat(t),{method:"delete"});console.log("delChkInDb>  "+l);var c=fetch("".concat("https://zarvichdemo.localto.net/delFirstNite","/").concat(t),{method:"delete"});console.log("delFirstNite>  "+c);var i=fetch("".concat("https://zarvichdemo.localto.net/delBooking2","/").concat(t),{method:"delete"});console.log("delgrRmChrg>  "+i);var m=fetch("".concat("https://zarvichdemo.localto.net/delBooking3","/").concat(t),{method:"delete"});console.log("delfrmRmRate>  "+m),alert("Room "+r.state.roomNum+" Check Out Was Successful"),r.props.history.push("/BillingMenu")},1e3),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0);case 16:e.next=19;break;case 18:"Bill Settlement"===this.state.CheckOutBtn?(fetch("".concat("https://zarvichdemo.localto.net/paymentMethods"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){r.setState({displayPaymentMethods:e,description2:"Bill Settlement"})}),this.setState({edit:!0}),fetch("".concat(Mt).concat(this.state.roomNum),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return r.setState({guestInhouseID:e.refID}),"ok"})})):"Guest Refund"===this.state.CheckOutBtn&&(fetch("".concat("https://zarvichdemo.localto.net/paymentMethods"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){r.setState({displayPaymentMethods:e,description2:"Guest Refund"})}),this.setState({edit:!0}),fetch("".concat(Mt).concat(this.state.roomNum),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return r.setState({guestInhouseID:e.refID}),"ok"})}));case 19:case"end":return e.stop()}},e,this,[[1,13]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleRoomDeposit",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o,r,l,c,i,u,h,d,p,f,b,g,E,S;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("Bill Settlement"!==this.state.CheckOutBtn){e.next=53;break}if(e.prev=1,"POS"!==this.state.paymentMethod2){e.next=12;break}return t={receiptNum:"BillRec"+Math.floor(1e4*Math.random()),_id:Math.floor(1e8*Math.random()),refID:"".concat(this.state.guestInhouseID),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),POSAmount:Math.abs(parseInt("".concat(this.state.newBal2))),CashAmount:0,TransferAmount:0,CompDebit:0,roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod2),roomNumbers:"".concat(this.state.roomNum),description:"".concat(this.state.description2),department:"Room Deposit",user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=6,fetch(Ot,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)});case 6:return a=e.sent,console.log("result1>  "+a),e.next=10,fetch(wt,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)});case 10:n=e.sent,console.log("result1b>  "+n);case 12:if("Cash"!==this.state.paymentMethod2){e.next=22;break}return s={receiptNum:"BillRec"+Math.floor(1e4*Math.random()),_id:Math.floor(1e8*Math.random()),refID:"".concat(this.state.guestInhouseID),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),POSAmount:0,CashAmount:Math.abs(parseInt("".concat(this.state.newBal2))),TransferAmount:0,CompDebit:0,roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod2),roomNumbers:"".concat(this.state.roomNum),description:"".concat(this.state.description2),department:"Room Deposit",user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=16,fetch(Ot,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(s)});case 16:return o=e.sent,console.log("result2>  "+o),e.next=20,fetch(wt,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(s)});case 20:r=e.sent,console.log("result2b>  "+r);case 22:if("Transfer"!==this.state.paymentMethod2){e.next=32;break}return l={receiptNum:"BillRec"+Math.floor(1e4*Math.random()),_id:Math.floor(1e8*Math.random()),refID:"".concat(this.state.guestInhouseID),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),POSAmount:0,CashAmount:0,TransferAmount:Math.abs(parseInt("".concat(this.state.newBal2))),CompDebit:0,roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod2),roomNumbers:"".concat(this.state.roomNum),description:"".concat(this.state.description2),department:"Room Deposit",user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=26,fetch(Ot,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(l)});case 26:return c=e.sent,console.log("result3>  "+c),e.next=30,fetch(wt,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(l)});case 30:i=e.sent,console.log("result3b>  "+i);case 32:if("Complimentary"!==this.state.paymentMethod2){e.next=42;break}return u={receiptNum:"BillRec"+Math.floor(1e4*Math.random()),_id:Math.floor(1e8*Math.random()),refID:"".concat(this.state.guestInhouseID),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),POSAmount:0,CashAmount:0,TransferAmount:0,CompDebit:Math.abs(parseInt("".concat(this.state.newBal2))),roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod2),roomNumbers:"".concat(this.state.roomNum),description:"".concat(this.state.description2),department:"Room Deposit",user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=36,fetch(Ot,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(u)});case 36:return h=e.sent,console.log("result3>  "+h),e.next=40,fetch(wt,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(u)});case 40:d=e.sent,console.log("result3b>  "+d);case 42:alert("Deposit Posted for Room "+this.state.roomNum),this.setState({paymentMethod2:""}),this.setState({edit:!1}),window.location.reload(),e.next=51;break;case 48:e.prev=48,e.t0=e.catch(1),console.log(e.t0);case 51:e.next=82;break;case 53:if("Guest Refund"!==this.state.CheckOutBtn){e.next=82;break}if(e.prev=54,"POS"!==this.state.paymentMethod2){e.next=61;break}return p={receiptNum:"BillRec"+Math.floor(1e4*Math.random()),_id:Math.floor(1e8*Math.random()),refID:"".concat(this.state.guestInhouseID),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),POSAmount:-Math.abs(parseInt("".concat(this.state.newBal2))),CashAmount:0,TransferAmount:0,CompDebit:0,roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod2),roomNumbers:"".concat(this.state.roomNum),description:"".concat(this.state.description2),department:"Room Deposit",user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=59,fetch(Ot,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(p)});case 59:f=e.sent,console.log("result1>  "+f);case 61:if("Transfer"!==this.state.paymentMethod2){e.next=67;break}return b={receiptNum:"BillRec"+Math.floor(1e4*Math.random()),_id:Math.floor(1e8*Math.random()),refID:"".concat(this.state.guestInhouseID),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),POSAmount:0,CashAmount:0,TransferAmount:-Math.abs(parseInt("".concat(this.state.newBal2))),CompDebit:0,roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod2),roomNumbers:"".concat(this.state.roomNum),description:"".concat(this.state.description2),department:"Room Deposit",user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=65,fetch(Ot,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(b)});case 65:g=e.sent,console.log("result3>  "+g);case 67:if("Complimentary"!==this.state.paymentMethod2){e.next=73;break}return E={receiptNum:"BillRec"+Math.floor(1e4*Math.random()),_id:Math.floor(1e8*Math.random()),refID:"".concat(this.state.guestInhouseID),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),POSAmount:0,CashAmount:0,TransferAmount:0,CompDebit:-Math.abs(parseInt("".concat(this.state.newBal2))),roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod2),roomNumbers:"".concat(this.state.roomNum),description:"".concat(this.state.description2),department:"Room Deposit",user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=71,fetch(Ot,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(E)});case 71:S=e.sent,console.log("result3>  "+S);case 73:alert("Refund Posted for Room "+this.state.roomNum),this.setState({paymentMethod2:""}),this.setState({edit:!1}),window.location.reload(),e.next=82;break;case 79:e.prev=79,e.t1=e.catch(54),console.log(e.t1);case 82:case"end":return e.stop()}},e,this,[[1,48],[54,79]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleDepositTransfer",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o,r,l,c,i,u,h,d,p,f,b,g,E,S,y,N,v,D,T,C;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"POS"!==this.state.paymentMethod2){e.next=20;break}return t={receiptNum:"BillRec"+Math.floor(1e4*Math.random()),refID:"".concat(this.state.todepTrnID),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),POSAmount:Math.abs(parseInt("".concat(this.state.depTrnfAmount))),CashAmount:0,TransferAmount:0,CompDebit:0,roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod2),roomNumbers:"".concat(this.state.toRoom),description:"".concat(this.state.depTrnDescription),department:"Room Deposit",user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},a={receiptNum:"BillRec"+Math.floor(1e4*Math.random()),refID:"".concat(this.state.fromdepTrnID),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),POSAmount:-Math.abs(parseInt("".concat(this.state.depTrnfAmount))),CashAmount:0,TransferAmount:0,CompDebit:0,roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod2),roomNumbers:"".concat(this.state.roomNum),description:"".concat(this.state.depTrnDescription),department:"Room Deposit",user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=6,fetch(Ot,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)});case 6:return n=e.sent,console.log("posdeposit>  "+n),e.next=10,fetch(Ot,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(a)});case 10:return s=e.sent,console.log("postransfer>  "+s),e.next=14,fetch(wt,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)});case 14:return o=e.sent,console.log("result1b>  "+o),e.next=18,fetch(wt,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(a)});case 18:r=e.sent,console.log("fromPos>  "+r);case 20:if("Cash"!==this.state.paymentMethod2){e.next=39;break}return l={receiptNum:"BillRec"+Math.floor(1e4*Math.random()),refID:"".concat(this.state.todepTrnID),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),POSAmount:0,CashAmount:Math.abs(parseInt("".concat(this.state.depTrnfAmount))),TransferAmount:0,CompDebit:0,roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod2),roomNumbers:"".concat(this.state.toRoom),description:"".concat(this.state.depTrnDescription),department:"Room Deposit",user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},c={receiptNum:"BillRec"+Math.floor(1e4*Math.random()),refID:"".concat(this.state.fromdepTrnID),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),POSAmount:0,CashAmount:-Math.abs(parseInt("".concat(this.state.depTrnfAmount))),TransferAmount:0,CompDebit:0,roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod2),roomNumbers:"".concat(this.state.roomNum),description:"".concat(this.state.depTrnDescription),department:"Room Deposit",user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=25,fetch(Ot,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(l)});case 25:return i=e.sent,console.log("toRoomCash>  "+i),e.next=29,fetch(Ot,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(c)});case 29:return u=e.sent,console.log("fromRoomCash>  "+u),e.next=33,fetch(wt,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(l)});case 33:return h=e.sent,console.log("toRoomCash2>  "+h),e.next=37,fetch(wt,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(c)});case 37:d=e.sent,console.log("fromRoomCash2>  "+d);case 39:if("Transfer"!==this.state.paymentMethod2){e.next=58;break}return p={receiptNum:"BillRec"+Math.floor(1e4*Math.random()),refID:"".concat(this.state.todepTrnID),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),POSAmount:0,CashAmount:0,TransferAmount:Math.abs(parseInt("".concat(this.state.depTrnfAmount))),CompDebit:0,roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod2),roomNumbers:"".concat(this.state.toRoom),description:"".concat(this.state.depTrnDescription),department:"Room Deposit",user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},f={receiptNum:"BillRec"+Math.floor(1e4*Math.random()),refID:"".concat(this.state.fromdepTrnID),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),POSAmount:0,CashAmount:0,TransferAmount:-Math.abs(parseInt("".concat(this.state.depTrnfAmount))),CompDebit:0,roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod2),roomNumbers:"".concat(this.state.roomNum),description:"".concat(this.state.depTrnDescription),department:"Room Deposit",user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=44,fetch(Ot,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(p)});case 44:return b=e.sent,console.log("toRmTrns>  "+b),e.next=48,fetch(Ot,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(f)});case 48:return g=e.sent,console.log("fromRmTrns>  "+g),e.next=52,fetch(wt,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(p)});case 52:return E=e.sent,console.log("toRmTrns2>  "+E),e.next=56,fetch(wt,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(f)});case 56:S=e.sent,console.log("fromRmTrns2>  "+S);case 58:if("Complimentary"!==this.state.paymentMethod2){e.next=77;break}return y={receiptNum:"BillRec"+Math.floor(1e4*Math.random()),refID:"".concat(this.state.todepTrnID),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),POSAmount:0,CashAmount:0,TransferAmount:0,CompDebit:Math.abs(parseInt("".concat(this.state.depTrnfAmount))),roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod2),roomNumbers:"".concat(this.state.toRoom),description:"".concat(this.state.depTrnDescription," from ").concat(this.state.roomNum),department:"Room Deposit",user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},N={receiptNum:"BillRec"+Math.floor(1e4*Math.random()),refID:"".concat(this.state.fromdepTrnID),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),POSAmount:0,CashAmount:0,TransferAmount:0,CompDebit:-Math.abs(parseInt("".concat(this.state.depTrnfAmount))),roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod2),roomNumbers:"".concat(this.state.roomNum),description:"".concat(this.state.depTrnDescription," to ").concat(this.state.toRoom),department:"Room Deposit",user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=63,fetch(Ot,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(y)});case 63:return v=e.sent,console.log("rmTrnCompl1>  "+v),e.next=67,fetch(Ot,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(N)});case 67:return D=e.sent,console.log("rmTrnCompl2>  "+D),e.next=71,fetch(wt,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(y)});case 71:return T=e.sent,console.log("rmTrnCompl3>  "+T),e.next=75,fetch(wt,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(N)});case 75:C=e.sent,console.log("rmTrnCompl4>  "+C);case 77:alert("Deposit Transferred to Room "+this.state.toRoom),this.setState({paymentMethod2:""}),this.setState({editdepositTrnfr:!1}),window.location.reload(),e.next=86;break;case 83:e.prev=83,e.t0=e.catch(0),console.log(e.t0);case 86:case"end":return e.stop()}},e,this,[[0,83]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleCityLedger",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o,r,l,c,i,u;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("Bill Settlement"!==this.state.CheckOutBtn){e.next=26;break}return e.prev=1,t={phone:"".concat(this.state.phoneCode),date:k()("".concat(this.state.cityLedgerDate)).format("MMM DD YYYY"),Amount:parseInt("".concat(this.state.newBal2)),description:"".concat(this.state.CheckOutBtn),CityLedgerCode:"".concat(this.state.cityLedgerID),roomNumbers:"".concat(this.state.roomNum),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},a={receiptNum:"BillRec"+Math.floor(1e4*Math.random()),_id:Math.floor(1e8*Math.random()),refID:"".concat(this.state.cityLedgerID),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),POSAmount:0,CashAmount:0,TransferAmount:Math.abs(parseInt("".concat(this.state.newBal2))),CompDebit:0,roomDebit:0,paymentMethod:"Transfer",roomNumbers:"".concat(this.state.roomNum),description:"".concat(this.state.cityLedgerDescription),department:"Room Deposit",user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=6,fetch("https://zarvichdemo.localto.net/addCityLedger",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)});case 6:return n=e.sent,console.log("result1>  "+n),e.next=10,fetch(Ot,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(a)});case 10:return s=e.sent,console.log("result1b>  "+s),e.next=14,fetch(wt,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(a)});case 14:o=e.sent,console.log("result1bc>  "+o),alert("Balance Posted for Room "+this.state.roomNum),this.setState({editcityLedger:!1}),window.location.reload(),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(1),console.log(e.t0);case 24:e.next=50;break;case 26:if("Guest Refund"!==this.state.CheckOutBtn){e.next=50;break}return e.prev=27,r={phone:"".concat(this.state.phoneCode),date:k()("".concat(this.state.cityLedgerDate)).format("MMM DD YYYY"),Amount:parseInt("".concat(this.state.newBal2)),description:"".concat(this.state.CheckOutBtn),CityLedgerCode:"".concat(this.state.cityLedgerID),roomNumbers:"".concat(this.state.roomNum),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},l={receiptNum:"BillRec"+Math.floor(1e4*Math.random()),_id:Math.floor(1e8*Math.random()),refID:"".concat(this.state.cityLedgerID),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),POSAmount:0,CashAmount:0,TransferAmount:-Math.abs(parseInt("".concat(this.state.newBal2))),CompDebit:0,roomDebit:0,paymentMethod:"Transfer",roomNumbers:"".concat(this.state.roomNum),description:"".concat(this.state.cityLedgerDescription),department:"Room Deposit",user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=32,fetch("https://zarvichdemo.localto.net/addCityLedger",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(r)});case 32:return c=e.sent,console.log("result1>  "+c),e.next=36,fetch(Ot,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(l)});case 36:return i=e.sent,console.log("result1b>  "+i),e.next=40,fetch(wt,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(l)});case 40:u=e.sent,console.log("result1bc>  "+u),alert("Balance Posted for Room "+this.state.roomNum),this.setState({editcityLedger:!1}),window.location.reload(),e.next=50;break;case 47:e.prev=47,e.t1=e.catch(27),console.log(e.t1);case 50:case"end":return e.stop()}},e,this,[[1,21],[27,47]])}));return function(){return e.apply(this,arguments)}}()},{key:"offload",value:function(){this.setState({Balance:0}),this.setState({calDeposits:0}),this.setState({calDockets:0}),this.setState({calcAccommodatn:0}),this.setState({calcVAT:0}),this.setState({calcTourismLev:0}),this.setState({VAT:0}),this.setState({TourismLevy:0}),this.setState({Oths:0}),this.setState({newBal2:0}),this.setState({TotalRmRate:0}),this.props.history.push("/BillingMenu"),this.guestBalance()}},{key:"guestBalance",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=sessionStorage.getItem("gstrefID"),a={status:"".concat(this.state.balanceStatus),roomtypeName:"".concat(this.state.balanceRoomType),fname:"".concat(this.state.balanceFname),lname:"".concat(this.state.balanceLname),roomStatus:"".concat(this.state.balanceRoomStatus),BillStatus:parseInt("".concat(this.state.newBal2)),refID:"".concat(this.state.balanceRefID)},e.next=5,fetch("".concat("https://zarvichdemo.localto.net/guestBalanceChk","/").concat(t),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(a)});case 5:n=e.sent,console.log("result2>  "+n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}},e,this,[[0,9]])}));return function(){return e.apply(this,arguments)}}()},{key:"renderPayMeth",value:function(e){if(e)return e.map(function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{key:e.method,value:e.method},e.method))})}},{key:"renderTrnfRooms",value:function(e){if(e)return e.sort(function(e,t){return e.roomNumbers-t.roomNumbers}),e.map(function(e,t){return s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{key:t,value:e.roomNumbers},e.roomNumbers," - ",e.fname," ",e.lname))})}},{key:"loadRooms",value:function(e){if(e)return e.sort(function(e,t){return e.roomNumbers-t.roomNumbers}),e.map(function(e,t){return s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{key:t,value:e.roomNumbers},e.roomNumbers," - ",e.fname," ",e.lname))})}},{key:"render",value:function(){var e=this;return console.log(">>> Inside Gstrender",this.state),null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement(et,null)):s.a.createElement("div",{className:"container"},s.a.createElement("div",null,s.a.createElement("img",{src:"https://i.ibb.co/pP1xN03/Orange-Groove2.png",className:"alignImg2",style:{width:"100px",height:"70px"},alt:"companylogo"})),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("h6",null,this.state.Hotelname),s.a.createElement("p",{className:"textSize"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSize"},this.state.Hotelphone))),s.a.createElement("center",null,s.a.createElement("h5",null,"Guest Bill")),s.a.createElement("h6",null,"Accommodation Details"),s.a.createElement("hr",null),this.accommodationInfo(this.state.guestDetails),s.a.createElement("hr",null),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust5"},"Date"),s.a.createElement("th",{className:"adjust5"},"Room Num"),s.a.createElement("th",{className:"adjust5"},"Description"),s.a.createElement("th",{className:"adjust5"},"Daily Rate(NGN)"))),s.a.createElement("tbody",{className:"table table-hover"},this.renderRooms(this.state.roomCharging))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-3"},s.a.createElement("h6",null,"Accommodation: ",s.a.createElement(E.a,{value:this.state.calcAccommodatn,thousandSeparator:!0,displayType:"text",prefix:"NGN"})))),s.a.createElement("hr",null),s.a.createElement("h6",null,"Room Service Details"),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust5"},"Date"),s.a.createElement("th",{className:"adjust5"},"Docket Num"),s.a.createElement("th",{className:"adjust5"},"Description"),s.a.createElement("th",{className:"adjust5b"},"Amount (NGN)"))),s.a.createElement("tbody",{className:"table table-hover"},this.renderDockets(this.state.guestbilldetails),s.a.createElement("h6",null,"Room Service Total: ",s.a.createElement(E.a,{value:this.state.calDockets,thousandSeparator:!0,displayType:"text",prefix:"NGN"})))),s.a.createElement("hr",null),s.a.createElement("h6",null,"Guest Deposits"),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust5"},"Date"),s.a.createElement("th",{className:"adjust5"},"Receipt Num"),s.a.createElement("th",{className:"adjust5"},"Description"),s.a.createElement("th",{className:"adjust5"},"Payment Method"),s.a.createElement("th",{className:"adjust5b"},"Deposit Amount(NGN)"))),s.a.createElement("tbody",{className:"table table-hover"},this.renderDeposits(this.state.guestDeposits),s.a.createElement("h6",null,"Total Deposit: ",s.a.createElement(E.a,{value:this.state.calDeposits,thousandSeparator:!0,displayType:"text",prefix:"NGN"})))),s.a.createElement("hr",null),s.a.createElement("h6",{style:{color:"".concat(this.state.color)}},"Bill Summary"),s.a.createElement("hr",null),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-3"},s.a.createElement("h6",null,"Total Deposit:"),s.a.createElement("p",null,s.a.createElement(E.a,{value:this.state.calDeposits,thousandSeparator:!0,displayType:"text",prefix:"NGN"}))),s.a.createElement("div",{className:"col-3"},s.a.createElement("h6",null,"Accommodation:"),s.a.createElement("p",null,s.a.createElement(E.a,{value:this.state.calcAccommodatn,thousandSeparator:!0,displayType:"text",prefix:"NGN"}))),s.a.createElement("div",{className:"col-3"},s.a.createElement("h6",null,"Room Service:"),s.a.createElement("p",null,s.a.createElement(E.a,{value:this.state.calDockets,thousandSeparator:!0,displayType:"text",prefix:"NGN"}))),s.a.createElement("div",{className:"col-3"},s.a.createElement("h6",{style:{color:"".concat(this.state.color)}},"Balance:"),s.a.createElement("h6",{style:{color:"".concat(this.state.color)}},s.a.createElement(E.a,{value:this.state.calDeposits-(this.state.calcAccommodatn+this.state.calDockets),thousandSeparator:!0,displayType:"text",prefix:"NGN"})))),s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-danger printing",onClick:function(){return e.offload()}},"Close"),s.a.createElement("button",{className:"btn btn-primary movebtn printing",onClick:function(){return window.print()}},"Print"),s.a.createElement("button",{style:{backgroundColor:"".concat(this.state.color)},className:"btn btn-danger movebtn printing",onClick:function(){return e.onOpenPword()}},this.state.CheckOutBtn),s.a.createElement("button",{disabled:"Check Out"===this.state.CheckOutBtn,className:"btn btn-warning movebtn printing",onClick:function(){return e.onOpenPword2()}},"Add to City Ledger"),s.a.createElement("button",{disabled:"Check Out"===this.state.CheckOutBtn||"Bill Settlement"===this.state.CheckOutBtn,className:"btn btn-warning movebtn printing",onClick:function(){return e.onOpenModaltransfer()}},"Transfer Deposit")),s.a.createElement("br",null)," ",s.a.createElement("br",null),s.a.createElement(v.a,{open:this.state.edit,onClose:function(){return e.onCloseModaledit()},style:{color:"silver"}},s.a.createElement("div",{className:"background591100"},s.a.createElement("h4",{style:{color:"silver",marginLeft:"50px",marginBottom:"-70px"}},this.state.description2),s.a.createElement("div",{className:"formdesign50211"},s.a.createElement("center",null,s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-3 mb-3"},s.a.createElement("p",{className:"form-select mb-2 btn btn-primary mt-3",style:{marginLeft:"5px",width:"160px"}},this.state.description2)),s.a.createElement("div",{className:"col-3 mb-3"},s.a.createElement("p",{className:"form-select mb-2 btn btn-primary mt-3",style:{marginRight:"30px",width:"160px"}},this.state.roomNum)),s.a.createElement("div",{className:"col-3 mb-3"},s.a.createElement("select",{type:"button",className:"form-select mb-2 btn btn-primary mt-3 blinkblink",style:{marginRight:"30px",width:"160px"},name:"paymentMethod2",onChange:this.handleChange},s.a.createElement("option",{selected:!0,value:""},"Payment Method"),this.renderPayMeth(this.state.displayPaymentMethods))),s.a.createElement("div",{className:"col-3 mb-3"},s.a.createElement("input",{type:"number",className:"form-control mb-3 mt-3",style:{marginRight:"30px",width:"140px"},name:"depositAmount",value:this.state.newBal2,readOnly:!0}))))),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("button",{disabled:""===this.state.paymentMethod2,className:"btn btn-warning mt-3",onClick:function(){return e.handleRoomDeposit()}},"Post Deposit"),s.a.createElement("button",{className:"btn btn-danger flipright mt-3",onClick:function(){e.onCloseModaledit(),e.onClosePword()}},"Close")),s.a.createElement("hr",{style:{color:"silver"}})))),s.a.createElement(v.a,{open:this.state.pword,onClose:function(){return e.onClosePword()},center:!0},s.a.createElement("div",null,s.a.createElement("div",{className:"formdesign152"},s.a.createElement("h6",{className:"mb-3"},"Access Required"),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("input",{type:"password",autoComplete:"off",className:"form-control mb-3 formsize51",name:"pass",require:!0,placeholder:"Enter Access Code",value:this.state.pass,onChange:this.handleChange}),s.a.createElement("button",{disabled:""===this.state.pass,className:"btn btn-warning formsize91",onClick:function(){return e.AllowRefund()}},"Login")))))),s.a.createElement(v.a,{open:this.state.pword2,onClose:function(){return e.onClosePword2()},center:!0},s.a.createElement("div",null,s.a.createElement("div",{className:"formdesign152"},s.a.createElement("h6",{className:"mb-3"},"Access Required"),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("input",{type:"password",autoComplete:"off",className:"form-control mb-3 formsize51",name:"pass",require:!0,placeholder:"Enter Access Code",value:this.state.pass,onChange:this.handleChange}),s.a.createElement("button",{disabled:""===this.state.pass,className:"btn btn-warning formsize91",onClick:function(){return e.AllowCityLedger()}},"Login")))))),s.a.createElement(v.a,{open:this.state.editdepositTrnfr,onClose:function(){return e.onCloseModaltransfer()},style:{color:"silver"}},s.a.createElement("div",{className:"background591100Tr"},s.a.createElement("h4",{style:{color:"silver",marginLeft:"50px",marginBottom:"-70px"}},this.state.depTrnDescription),s.a.createElement("div",{className:"formdesign50211Tr"},s.a.createElement("center",null,s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-4 mb-3"},s.a.createElement("p",{className:"form-control mb-2 btn btn-primary mt-3",style:{marginLeft:"5px",width:"160px"}},this.state.depTrnDescription)),s.a.createElement("div",{className:"col-4 mb-3"},s.a.createElement("p",{className:"form-control mb-2 btn btn-primary mt-3",style:{marginRight:"30px",width:"160px"}},"From: ",this.state.roomNum)),s.a.createElement("div",{className:"col-4 mb-3"},s.a.createElement("select",{type:"button",className:"form-select mb-2 btn btn-primary mt-3",name:"toRoom",onChange:this.handleChange2},s.a.createElement("option",{selected:!0,value:""},"Rooms"),this.loadRooms(this.state.allRooms))),s.a.createElement("div",{className:"col-4 mb-3"},s.a.createElement("select",{type:"button",className:"form-select mb-2 btn btn-primary mt-3 blinkblink",style:{marginLeft:"8px",width:"160px"},name:"paymentMethod2",onChange:this.handleChange},s.a.createElement("option",{selected:!0,value:""},"Payment Method"),this.renderPayMeth(this.state.getAllPayMeth))),s.a.createElement("div",{className:"col-4 mb-3"},s.a.createElement("p",{className:"form-control mb-2 btn btn-primary mt-3",style:{marginRight:"30px",width:"160px"}},this.state.depTrnfAmount))))),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("button",{disabled:""===this.state.depTrnfAmount||""===this.state.paymentMethod2,className:"btn btn-warning mt-3",onClick:function(){return e.handleDepositTransfer()}},"Post"),s.a.createElement("button",{className:"btn btn-danger flipright mt-3",onClick:function(){return e.onCloseModaltransfer()}},"Close")),s.a.createElement("hr",{style:{color:"silver"}})))),s.a.createElement(v.a,{open:this.state.editcityLedger,onClose:function(){return e.openCityLedger()},style:{color:"silver"}},s.a.createElement("div",{className:"background591100"},s.a.createElement("h4",{style:{color:"silver",marginLeft:"50px",marginBottom:"-70px"}},this.state.cityLedgerDescription),s.a.createElement("div",{className:"formdesign50211"},s.a.createElement("center",null,s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-3 mb-2"},s.a.createElement("p",{className:"form-select mb-2 btn btn-primary mt-3",style:{marginLeft:"5px",width:"160px"}},this.state.cityLedgerDescription)),s.a.createElement("div",{className:"col-3 mb-2"},s.a.createElement("p",{className:"form-select mb-2 btn btn-primary mt-3",style:{marginRight:"30px",width:"160px"}},this.state.roomNum)),s.a.createElement("div",{className:"col-3 mb-2"},s.a.createElement("input",{type:"number",className:"form-control mb-3 mt-3",style:{marginRight:"30px",width:"140px"},name:"phoneCode",value:this.state.phoneCode,readOnly:!0})),s.a.createElement("div",{className:"col-3 mb-2"},s.a.createElement("input",{type:"number",className:"form-control mb-3 mt-3",style:{marginRight:"30px",width:"140px"},name:"cityLedgerAmount",value:this.state.newBal2,readOnly:!0}))))),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("button",{disabled:""===this.state.phoneCode,className:"btn btn-warning mt-3",onClick:function(){return e.handleCityLedger()}},"Post"),s.a.createElement("button",{className:"btn btn-danger flipright mt-3",onClick:function(){e.closeCityLedger(),e.onClosePword2()}},"Close")),s.a.createElement("hr",{style:{color:"silver"}})))))}},{key:"componentDidMount",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log(">>> Inside GstDidMount",this.state),this.myTimer=setInterval(function(){var e=sessionStorage.getItem("gstrefID");fetch("".concat(xt),{method:"GET"}).then(function(e){return e.json()}).then(function(a){t.setState({roomCharging:a});var n=a.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.dailyRate)},0);t.setState({calRoomRate:n}),sessionStorage.setItem("RoomCalc",n),t.myTimer=setTimeout(function(){t.state.roomCharging.map(function(a){t.setState({dailyRateNow:a.dailyRate});var s=new Date,o=k()(s).format("YYYY-DD-MMM");t.setState({departureDate:o});var r=k()(sessionStorage.getItem("getarrvDt")).format("YYYY-DD-MMM");t.setState({arrivalDate:r});var l=a.tranDate,c=k()(l);sessionStorage.setItem("endate",c);var i=k()(sessionStorage.getItem("getarrvDt"));sessionStorage.setItem("chkindate",i);var m=c.diff(i),u=Math.ceil(m/864e5);sessionStorage.setItem("difdate",u),t.setState({stay:parseInt(sessionStorage.getItem("difdate"))}),fetch("".concat(jt).concat(e),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({guestbilldetails:e});var a=e.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.cost)},0);t.setState({calDockets:a}),sessionStorage.setItem("Dockets",a)});var h;return h=n,t.setState({calcAccommodatn:h,TotalRmRate:h}),sessionStorage.setItem("TotRmRate",h),"ok"})},1e3)}),t.myTimer=setTimeout(function(){fetch("".concat(xt),{method:"GET"}).then(function(e){return e.json()}).then(function(a){t.setState({roomCharging:a});var n=a.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.dailyRate)},0);t.setState({calRoomRate:n}),sessionStorage.setItem("RoomCalc",n),t.myTimer=setTimeout(function(){t.state.roomCharging.map(function(a){t.setState({dailyRateNow:a.dailyRate});var s=new Date,o=k()(s).format("YYYY-DD-MMM");t.setState({departureDate:o});var r=k()(sessionStorage.getItem("getarrvDt")).format("YYYY-DD-MMM");t.setState({arrivalDate:r});var l=a.tranDate,c=k()(l);sessionStorage.setItem("endate",c);var i=k()(sessionStorage.getItem("getarrvDt"));sessionStorage.setItem("chkindate",i);var m=c.diff(i),u=Math.ceil(m/864e5);sessionStorage.setItem("difdate",u),t.setState({stay:parseInt(sessionStorage.getItem("difdate"))}),fetch("".concat(jt).concat(e),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({guestbilldetails:e});var a=e.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.cost)},0);t.setState({calDockets:a}),sessionStorage.setItem("Dockets",a)});var h;return h=n,t.setState({calcAccommodatn:h,TotalRmRate:h}),sessionStorage.setItem("TotRmRate",h),"ok"})},1e3)})},1e3),fetch("".concat("https://zarvichdemo.localto.net/checkin?checkinID=").concat(e),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({guestDetails:e}),t.setState({roomNum:e.map(function(e){return e.roomNumbers})}),t.setState({roomType:e.map(function(e){return e.roomtypeName})}),t.setState({phoneCode:e.map(function(e){return e.phone})}),t.setState({emailCode:e.map(function(e){return e.email})}),t.setState({firstName:e.map(function(e){return e.fname})}),t.setState({lastName:e.map(function(e){return e.lname})}),e.map(function(e){return t.setState({balanceStatus:e.status,balanceFname:e.fname,balanceLname:e.lname,balanceRoomType:e.roomtypeName,balanceRoomStatus:e.roomStatus,chktAddress:e.Address,chkGender:e.Gender,chkID:e.ID,chkNokFname:e.NokFname,chkNationality:e.Nationality,chkNokLname:e.NokLname,chkNokMname:e.NokMname,chkNokPhone:e.NokPhone,chkNokRelationship:e.NokRelationship,chkPOV:e.POV,chkServiceCharge:e.ServiceCharge,chkTourismLevy:e.TourismLevy,chkVAT:e.VAT,chkArrivalDate:e.arrivalDate,chkCalculatedstay:e.calculatedstay,chkComingFrom:e.comingFrom,chkDailyRate:e.dailyRate,chkdepartureDate:e.departureDate,chkdiscounType:e.discounType,chkdiscountAmount:e.discountAmount,chkdob:e.dob,chkemail:e.email,chkfname:e.fname,chkgointTo:e.goingTo,chkgroup:e.group,chklname:e.lname,chkmiddlename:e.middlename,chkmob:e.mob,chkoccupation:e.occupation,chkpassportNum:e.passportNum,chkphone:e.phone,chkpostBillStatus:e.postBillStatus,chkrefID:e.refID,chkroomNumbers:e.roomNumbers,chkroomRate:e.roomRate,chkroomStatus:e.roomStatus,chkroomtypeName:e.roomtypeName,chkstatus:e.status,chkstay:e.stay,chktitle:e.title,chktransactionDate:e.transactionDate,chk_id:e._id}),"ok"}),e.map(function(e){return t.setState({org:e.group}),"ok"})}),fetch("".concat("https://zarvichdemo.localto.net/getRmDeposits?GstbillId=").concat(e),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({guestDeposits:e});var a=0+e.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0)+e.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0)+e.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0)+e.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);t.setState({calDeposits:a}),sessionStorage.setItem("Deposits",a)}),t.myTimer=setTimeout(function(){var e,a=parseInt(sessionStorage.getItem("Dockets"));e=parseInt(sessionStorage.getItem("Deposits"))-(a+parseInt(sessionStorage.getItem("TotRmRate"))),t.setState({newBal:Math.sign(e),newBal2:e}),t.myTimer=setTimeout(function(){1===t.state.newBal&&""===t.state.org?t.setState({color:"blue",CheckOutBtn:"Guest Refund"}):-1===t.state.newBal&&""===t.state.org?t.setState({color:"red",CheckOutBtn:"Bill Settlement"}):0===t.state.newBal&&""!==t.state.org?t.setState({color:"green",CheckOutBtn:"Check Out"}):1===t.state.newBal&&""!==t.state.org?t.setState({color:"green",CheckOutBtn:"Check Out"}):-1===t.state.newBal&&""!==t.state.org&&t.setState({color:"green",CheckOutBtn:"Check Out"})},1e3)},1e3),fetch("".concat("https://zarvichdemo.localto.net/billingUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({loginDetails:e}),e.map(function(e){return sessionStorage.setItem("dptmnt",e.department),"ok"})}),t.myTimer=setTimeout(function(){var e=t.state.loginDetails,a=t.state.name;e.some(function(e){return e.name===a})?t.setState({Blogin:!0}):t.setState({Blogin:!1})},1e3),fetch("".concat("https://zarvichdemo.localto.net/hoteladdress"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return t.setState({Hotelname:e.HotelName,Hoteladdress:e.Address,Hotelphone:e.Phone}),"ok"})}),fetch("".concat("https://zarvichdemo.localto.net/getActive"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return t.setState({transactionDate:e.date}),"ok"})})},1e3);case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),a}(n.Component),Rt=Pt,At=a(62),zt="https://zarvichdemo.localto.net/checkin?guest=",Bt="https://zarvichdemo.localto.net/globalRmChrges?getRef=",Gt="https://zarvichdemo.localto.net/getFirstNite?getRefID=",Yt=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value))},n.renderRoomchart=function(e){if(e)return e.map(function(t){var a=n.state.guestBal.find(function(e){return e.roomNumbers===t.roomNumbers});return e.sort(function(e,t){return e.roomNumbers-t.roomNumbers}),"green"!==t.roomStatus&&"black"!==t.roomStatus?s.a.createElement(s.a.Fragment,null,s.a.createElement("button",{className:"btn alignroomsgreendll",style:{backgroundColor:"".concat(t.roomStatus)},onMouseOver:function(){return fetch("".concat(Bt).concat(t.refID),{method:"GET"}).then(function(e){return e.json()}).then(function(e){n.setState({roomCharge:e}),e.map(function(e){return sessionStorage.setItem("gstrefID",e.refID),sessionStorage.setItem("getarrvDt",e.arrivalDate),sessionStorage.setItem("getDailyRt",e.dailyRate),"ok"}),0===n.state.roomCharge.length&&fetch("".concat(Gt).concat(t.refID),{method:"GET"}).then(function(e){return e.json()}).then(function(e){n.setState({roomCharge:e}),e.map(function(e){return sessionStorage.setItem("gstrefID",e.refID),sessionStorage.setItem("getarrvDt",e.arrivalDate),sessionStorage.setItem("getDailyRt",e.dailyRate),"ok"})})})},onClick:function(){n.handleGlobalRoomCharge(),n.props.history.push("/guestBill/".concat(sessionStorage.getItem("gstrefID")))}},s.a.createElement("h5",{className:"card-title"},t.roomNumbers),s.a.createElement("h6",{className:"card-subtitle mb-2 size"},t.fname," ",t.lname),s.a.createElement("h6",{className:"card-subtitle mb-2 size2"},t.roomtypeName),a&&s.a.createElement("h6",{className:"card-subtitle mb-2 size"},"Bal: ",s.a.createElement(E.a,{value:a.guestBalance,thousandSeparator:!0,displayType:"text"})))):s.a.createElement(s.a.Fragment,null,s.a.createElement("button",{className:"btn alignroomsgreendll",style:{backgroundColor:"".concat(t.roomStatus)}},s.a.createElement("div",{className:"card-body top"},s.a.createElement("h5",{className:"card-title"},t.roomNumbers),s.a.createElement("h6",{className:"card-subtitle mb-2 size"},t.fname," ",t.lname),s.a.createElement("h6",{className:"card-subtitle mb-2 size2"},t.roomtypeName),a&&s.a.createElement("h6",{className:"card-subtitle mb-2 size"},"Bal: ",s.a.createElement(E.a,{value:a.guestBalance,thousandSeparator:!0,displayType:"text"})))))})},console.log(">>>Inside RMConstructor",e),n.state={roomchart:"",guestrecord:"",roomCharge:"",GstID:"",arrivDt:"",dailyR:"",loginDetails:"",name:localStorage.getItem("userInfo"),login:"",Blogin:"",Time:"",Day:"",pass9:"",pword:!1,pword9:!1,wdate:!1,activeWorkDate:"",transactionDatex:"",TodayOccupancy:"",guestBal:""},n.checkinhandleChange=n.checkinhandleChange.bind(Object(f.a)(n)),n}return Object(p.a)(a,[{key:"checkinhandleChange",value:function(e){this.setState({activeWorkDate:e})}},{key:"rendercheckinDate",value:function(){return s.a.createElement("div",null,s.a.createElement(y.a,{selected:this.state.activeWorkDate,onChange:this.checkinhandleChange,minDate:new Date,maxDate:Object(N.default)(new Date,1),dropdownMode:"select",dateFormat:"MMM/d/ yyyy",placeholderText:"Select Work Date"}))}},{key:"onOpenPword9",value:function(){this.setState({pword9:!0})}},{key:"onClosePword9",value:function(){this.setState({pword9:!1})}},{key:"AllowRefund9",value:function(){"admin"===this.state.pass9?(this.onOpenwdate(),this.onClosePword9()):alert("Access Denied")}},{key:"onOpenPword",value:function(){var e=this;fetch("".concat(zt),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({TodayOccupancy:t})}),this.myTimer=setTimeout(function(){if(!(e.state.TodayOccupancy.length>0))return s.a.createElement(s.a.Fragment,null,s.a.createElement(At.a,{animation:"border",variant:"primary"}),s.a.createElement(At.a,{animation:"border",variant:"danger"}),s.a.createElement(At.a,{animation:"border",variant:"warning"}));e.setState({pword:!0})},1e3)}},{key:"onOpenwdate",value:function(){this.setState({wdate:!0,pass9:""})}},{key:"onClosePword",value:function(){this.setState({pword:!1})}},{key:"onClosewdate",value:function(){this.setState({wdate:!1})}},{key:"AllowRefund",value:function(){this.onClosePword(),this.dailyOccupancy(),this.globalRmCharge()}},{key:"ExecuteWDate",value:function(){this.onClosewdate(),this.activateWorkDate()}},{key:"activateWorkDate",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://zarvichdemo.localto.net/delworkdate"),{method:"delete"});case 3:return t=e.sent,console.log("delActiv>  "+t),a={date:"".concat(this.state.activeWorkDate)},e.next=8,fetch("".concat("https://zarvichdemo.localto.net/postActive"),{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(a)});case 8:n=e.sent,console.log("workDateGo>  "+n),this.setState({activateWorkDate:""}),alert("Active Work Date has Changed"),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}},e,this,[[0,14]])}));return function(){return e.apply(this,arguments)}}()},{key:"logout",value:function(){localStorage.removeItem("userInfo"),this.setState({login:!0})}},{key:"globalRmCharge",value:function(){fetch("".concat(zt),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){var t={fname:e.fname,lname:e.lname,group:e.group,refID:e.refID,arrivalDate:e.arrivalDate,departureDate:e.departureDate,roomNumbers:e.roomNumbers,dailyRate:e.dailyRate,VAT:e.VAT,TourismLevy:e.TourismLevy,ServiceCharge:e.ServiceCharge,tranDate:new Date,description:"Daily Room Rate",searchKey:"GuestBill",roomtypeName:e.roomtypeName},a=fetch("".concat("https://zarvichdemo.localto.net/globalRmPost"),{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)});return console.log("result3>  "+a),"ok"}),alert("All Rooms have been billed Successfully. Click OK to close this Message. "),alert("Please Change Active Work Date before starting a new shift")})}},{key:"dailyOccupancy",value:function(){var e={OccuppancyDate:k()(this.state.transactionDatex).format("MMM DD YYYY"),OccuppancyData:this.state.TodayOccupancy},t=fetch("".concat("https://zarvichdemo.localto.net/postOccuppancy"),{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)});console.log("sendOccuppancy>  "+t),this.setState({TodayOccupancy:""})}},{key:"handleGlobalRoomCharge",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://zarvichdemo.localto.net/delCharges",{method:"delete",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(this.state.roomCharge.map(function(e){return e}))});case 3:return t=e.sent,console.log("result2>  "+t),e.next=7,fetch("https://zarvichdemo.localto.net/postRmCharges",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(this.state.roomCharge.map(function(e){return e}))});case 7:a=e.sent,console.log("result>  "+a),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}},e,this,[[0,11]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;console.log(">>> Inside RMrender",this.state);var t=k()(this.state.transactionDatex).format("MMM DD YYYY");return null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement(et,null)):s.a.createElement(s.a.Fragment,null,s.a.createElement(G,null),s.a.createElement("div",{className:"pagebody12"},s.a.createElement("br",null),this.renderRoomchart(this.state.roomchart)),s.a.createElement("div",{className:"pagebody2"},s.a.createElement("center",null,s.a.createElement("h6",{style:{color:"yellow"}},"Active Work Date is: ",t)),s.a.createElement("div",null,s.a.createElement("button",{className:"btn btn-danger space",onClick:function(){return e.props.history.push("./otherSales")}},"Post Bills"),s.a.createElement("button",{className:"btn btn-danger space",onClick:function(){return e.props.history.push("./RetireBar")}},"Retire Sales Points"),s.a.createElement("button",{className:"btn btn-danger space",onClick:function(){return e.props.history.push("./EndOfDay")}},"Billing Reports"),s.a.createElement("button",{className:"btn btn-success space",onClick:function(){return e.onOpenPword()}},"Charge All Rooms"),s.a.createElement("label",{type:"button",className:"btn space"},this.rendercheckinDate(this.state.arrivalDate)),s.a.createElement("button",{className:"btn btn-success space",onClick:function(){return e.onOpenPword9()}},"Change Work Date"),s.a.createElement("button",{className:"btn btn-warning space",onClick:function(){e.props.history.push("/roomchart")}},"Goto Reception"),s.a.createElement("button",{className:"btn btn-warning gap6",onClick:function(){e.props.history.push("/Laundry")}},"Goto Laundry"),s.a.createElement("button",{className:"btn btn-danger space",onClick:function(){e.props.history.push("/Dashboard")}},"Goto Dashboard")),s.a.createElement("div",{className:"row mt-3"},s.a.createElement("center",null,s.a.createElement("div",{className:"col-3"},s.a.createElement("h6",{style:{color:"purple",marginLeft:"480px",marginBottom:"-50px"}},"Welcome, ",localStorage.getItem("userInfo").split(" ")[0]," ")),s.a.createElement("div",{className:"col-3"},s.a.createElement("h6",{type:"button",style:{color:"yellow",marginLeft:"180",textAlign:"left",marginBottom:"-50px"},onClick:function(){return e.logout()}},"Logout "))))),s.a.createElement(v.a,{open:this.state.pword,onClose:function(){return e.onClosePword()},center:!0},s.a.createElement("div",null,s.a.createElement("div",{className:"formdesign152"},s.a.createElement("h6",{className:"mb-3"},"Attention ",this.state.name),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("h6",{styles:{color:"red"}},"This Action will Bill all the rooms. Click Yes to Proceed or No to Stop"),s.a.createElement("button",{className:"btn btn-warning formsize91",onClick:function(){return e.AllowRefund()}},"Yes"),s.a.createElement("button",{className:"btn btn-warning formsize91",onClick:function(){return e.onClosePword()}},"No")))))),s.a.createElement(v.a,{open:this.state.wdate,onClose:function(){return e.onClosewdate()},center:!0},s.a.createElement("div",null,s.a.createElement("div",{className:"formdesign152"},s.a.createElement("h6",{className:"mb-3"},"Attention ",this.state.name),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("h6",{styles:{color:"red"}},"Active Work Date will Change. Click Yes to Proceed or No to Cancel"),s.a.createElement("button",{className:"btn btn-warning formsize91",onClick:function(){return e.ExecuteWDate()}},"Yes"),s.a.createElement("button",{className:"btn btn-warning formsize91",onClick:function(){return e.onClosewdate()}},"No")))))),s.a.createElement(v.a,{open:this.state.pword9,onClose:function(){return e.onClosePword9()},center:!0},s.a.createElement("div",null,s.a.createElement("div",{className:"formdesign152"},s.a.createElement("h6",{className:"mb-3"},"Access Required"),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("input",{type:"password",autoComplete:"off",className:"form-control mb-3 formsize51",name:"pass9",require:!0,placeholder:"Enter Access Code",value:this.state.pass9,onChange:this.handleChange}),s.a.createElement("button",{disabled:""===this.state.pass9,className:"btn btn-warning formsize91",onClick:function(){return e.AllowRefund9()}},"Login")))))))}},{key:"componentDidMount",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(">>> Inside RMdidMount"),e.next=3,z.a.get("".concat("https://zarvichdemo.localto.net/getrmstatus"));case 3:return t=e.sent,e.next=6,z.a.get("".concat(zt));case 6:return a=e.sent,e.next=9,z.a.get("".concat("https://zarvichdemo.localto.net/owingGuests"));case 9:return n=e.sent,this.setState({roomchart:t.data,guestrecord:a.data,guestBal:n.data}),this.myTimer=setInterval(function(){fetch("".concat("https://zarvichdemo.localto.net/getrmstatus"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){s.setState({roomchart:e})}),fetch("".concat(zt),{method:"GET"}).then(function(e){return e.json()}).then(function(e){s.setState({guestrecord:e})})},3e5),fetch("".concat("https://zarvichdemo.localto.net/billingUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){s.setState({loginDetails:e})}),this.myTimer=setTimeout(function(){var e=s.state.loginDetails,t=s.state.name;e.some(function(e){return e.name===t})?s.setState({Blogin:!0}):s.setState({Blogin:!1})},1e3),e.next=16,fetch("".concat("https://zarvichdemo.localto.net/getActive"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return s.setState({transactionDatex:e.date}),"ok"})});case 16:this.myTimer=setInterval(function(){fetch("".concat("https://zarvichdemo.localto.net/getActive"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return s.setState({transactionDatex:e.date}),"ok"})})},1e3);case 17:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),a}(n.Component),Ft=Yt,Ut=a(76),Ht=a(82),qt=a(81),Lt=a(60),_t=a(80),Wt=(a(138),Object(Ut.b)({format:Ht.default,parse:qt.default,startOfWeek:Lt.default,getDay:_t.default,locales:C.locales})),Qt="https://zarvichdemo.localto.net/reservation",Jt="https://zarvichdemo.localto.net/getrmstatus",Vt="https://zarvichdemo.localto.net/checkin?guest=",Kt="https://zarvichdemo.localto.net/paymentMethods",Xt=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handlePayMethData=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value)),null!==n.state.rsvAmount&&fetch("".concat(Kt),{method:"GET"}).then(function(e){return e.json()}).then(function(e){n.setState({displayPaymentMethods:e})})},n.handleChange=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value))},n.handleChange2=function(e){n.setState({start:""}),n.setState(Object(h.a)({},e.target.name,e.target.value)),fetch("".concat(Vt).concat(e.target.value),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return n.setState({start:new Date(e.departureDate)}),"ok"})})},n.handleroomData2=function(e){var t;n.setState((t={},Object(h.a)(t,e.target.name,e.target.value),Object(h.a)(t,"allDay",!0),t)),null!==n.state.fname&&(fetch("".concat(Jt),{method:"GET"}).then(function(e){return e.json()}).then(function(e){n.setState({displayAllRoomNums:e})}),fetch("".concat(Vt),{method:"GET"}).then(function(e){return e.json()}).then(function(e){n.setState({displayOccupiedRoomNums:e})}))},console.log(">>> inside RsvCobtructor",e),console.log(">>> inside ReservContructor",e),n.state={events:[],_id:Math.floor(1e8*Math.random()),fname:"",lname:"",allDay:"",start:"",end:"",room:"",title:"",phone:"",rsvAmount:"",displayAllRoomNums:"",loginDetails:"",name:localStorage.getItem("userInfo"),login:"",Blogin:"",displayOccupiedRoomNums:"",othersedit:!1,printBTN:"Print",displayPaymentMethods:"",paymentMethod:"",description1:"Room Reservation",memo:"",email:"None",Hotelname:"",Hoteladdress:"",Hotelphone:"",transactionDate:""},n.starthandleChange=n.starthandleChange.bind(Object(f.a)(n)),n.endhandleChange=n.endhandleChange.bind(Object(f.a)(n)),n}return Object(p.a)(a,[{key:"logout",value:function(){localStorage.removeItem("userInfo"),this.setState({login:!0})}},{key:"onOpenOthrsModal",value:function(){this.setState({othersedit:!0})}},{key:"onCloseOthrspModal",value:function(){this.setState({othersedit:!1})}},{key:"sendtoprinterOthrs",value:function(){"Print"===this.state.printBTN?(window.print(),this.setState({printBTN:"Close"})):"Close"===this.state.printBTN&&(this.setState({othersedit:!1}),this.setState({printBTN:"Print"}),this.handleResvSubmit(),this.handleSubmit())}},{key:"renderPayMeth",value:function(e){if(e)return e.map(function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{key:e.method,value:e.method},e.method))})}},{key:"starthandleChange",value:function(e){this.setState({start:e});var t=this.state.room+" "+this.state.fname+" "+this.state.lname+" "+this.state.phone;this.setState({title:t})}},{key:"endhandleChange",value:function(e){this.setState({end:e})}},{key:"renderstartDate",value:function(){return s.a.createElement("div",null,s.a.createElement(y.a,{selected:this.state.start,onChange:this.starthandleChange,minDate:new Date,dropdownMode:"select",dateFormat:"MMM/d/ yyyy",className:"form-control mb-3 formsize51",placeholderText:"Arrival Date"}))}},{key:"renderendDate",value:function(){return s.a.createElement("div",null,s.a.createElement(y.a,{selected:this.state.end,onChange:this.endhandleChange,minDate:Object(N.default)(this.state.start,1),dropdownMode:"select",dateFormat:"MMM/d/ yyyy",className:"form-control mb-3 formsize51",placeholderText:"Departure Date"}))}},{key:"handleSubmit",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o,r,l,c;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"POS"!==this.state.paymentMethod){e.next=7;break}return t={docketNum:"BillSales"+Math.floor(1e4*Math.random()),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),cost:"".concat(this.state.rsvAmount),POSAmount:"".concat(this.state.rsvAmount),CashAmount:0,TransferAmount:0,CompDebit:0,roomDebit:0,description:"".concat(this.state.description1),group:"".concat(this.state.group),groupEmail:"".concat(this.state.email),groupPhone:"".concat(this.state.phone),refID:"".concat(this.state._id),department:"Reservation",paymentMethod:"".concat(this.state.paymentMethod),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=5,fetch("https://zarvichdemo.localto.net/club",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)});case 5:a=e.sent,console.log("result1>  "+a);case 7:if("Cash"!==this.state.paymentMethod){e.next=13;break}return n={docketNum:"BillSales"+Math.floor(1e4*Math.random()),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),cost:"".concat(this.state.rsvAmount),POSAmount:0,CashAmount:"".concat(this.state.rsvAmount),TransferAmount:0,CompDebit:0,roomDebit:0,description:"".concat(this.state.description1),group:"".concat(this.state.group),groupEmail:"".concat(this.state.email),groupPhone:"".concat(this.state.phone),refID:"".concat(this.state._id),department:"Reservation",paymentMethod:"".concat(this.state.paymentMethod),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=11,fetch("https://zarvichdemo.localto.net/club",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)});case 11:s=e.sent,console.log("result2>  "+s);case 13:if("Transfer"!==this.state.paymentMethod){e.next=19;break}return o={docketNum:"BillSales"+Math.floor(1e4*Math.random()),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),cost:"".concat(this.state.rsvAmount),POSAmount:0,CashAmount:0,TransferAmount:"".concat(this.state.rsvAmount),CompDebit:0,roomDebit:0,description:"".concat(this.state.description1),group:"".concat(this.state.group),groupEmail:"".concat(this.state.email),groupPhone:"".concat(this.state.phone),refID:"".concat(this.state._id),department:"Reservation",paymentMethod:"".concat(this.state.paymentMethod),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=17,fetch("https://zarvichdemo.localto.net/club",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(o)});case 17:r=e.sent,console.log("result3>  "+r);case 19:if("Complimentary"!==this.state.paymentMethod){e.next=25;break}return l={docketNum:"BillSales"+Math.floor(1e4*Math.random()),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),cost:"".concat(this.state.rsvAmount),POSAmount:0,CashAmount:0,TransferAmount:0,CompDebit:"".concat(this.state.rsvAmount),roomDebit:0,description:"".concat(this.state.description1),group:"".concat(this.state.group),groupEmail:"".concat(this.state.email),groupPhone:"".concat(this.state.phone),refID:"".concat(this.state._id),department:"Reservation",paymentMethod:"".concat(this.state.paymentMethod),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=23,fetch("https://zarvichdemo.localto.net/club",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(l)});case 23:c=e.sent,console.log("result4>  "+c);case 25:this.setState({description1:""}),this.setState({displayPaymentMethods:""}),e.next=32;break;case 29:e.prev=29,e.t0=e.catch(0),console.log(e.t0);case 32:case"end":return e.stop()}},e,this,[[0,29]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleResvSubmit",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={_id:"".concat(this.state._id),resID:"".concat(this.state._id),fname:"".concat(this.state.fname),lname:"".concat(this.state.lname),allDay:"".concat(this.state.allDay),start:"".concat(this.state.start),end:"".concat(this.state.end),start3:k()("".concat(this.state.start)).format("YYYY-DD-MMM"),end3:k()("".concat(this.state.end)).format("YYYY-DD-MMM"),Tdate:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),title:"".concat(this.state.title),phone:"".concat(this.state.phone),rsvAmount:"".concat(this.state.rsvAmount),room:"".concat(this.state.room),memo:"".concat(this.state.memo)},e.next=4,fetch("https://zarvichdemo.localto.net/hreserveNow",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)});case 4:a=e.sent,console.log("result>  "+a),alert("Reservation made for room "+this.state.title),this.setState({fname:"",lname:"",allDay:"",start:"",end:"",title:"",room:"",phone:"",rsvAmount:"",displayAllRoomNums:"",_id:"",memo:""}),fetch("".concat(Qt),{method:"GET"}).then(function(e){return e.json()}).then(function(e){n.setState({events:e}),n.myTimer=setTimeout(function(){n.setState({_id:Math.floor(1e8*Math.random())})},1e3)}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}},e,this,[[0,11]])}));return function(){return e.apply(this,arguments)}}()},{key:"renderVacantRooms",value:function(e){if(e)return e.sort(function(e,t){return e.roomNumbers-t.roomNumbers}),e.map(function(e,t){return"green"===e.roomStatus?s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{key:t,value:e.roomNumbers},e.roomNumbers," - ",e.roomtypeName)):s.a.createElement(s.a.Fragment,null)})}},{key:"renderOccuppiedRooms",value:function(e){if(e)return e.sort(function(e,t){return e.roomNumbers-t.roomNumbers}),e.map(function(e,t){return s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{key:t,value:e.roomNumbers},e.roomNumbers," - ",e.roomtypeName))})}},{key:"render",value:function(){var e=this;return console.log(">>> Inside Rsvdetails",this.state),null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement(T,null)):s.a.createElement("div",{className:"background993"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-3"},s.a.createElement("h4",{style:{color:"silver",marginLeft:"50px",marginBottom:"-50px"}},"Add Reservation ")),s.a.createElement("div",{className:"col-6"},s.a.createElement("h6",{style:{color:"purple",marginLeft:"480px",marginBottom:"-50px"}},"Welcome, ",localStorage.getItem("userInfo").split(" ")[0]," ")),s.a.createElement("div",{className:"col-3"},s.a.createElement("h6",{type:"button",style:{color:"yellow",marginLeft:"180",textAlign:"left",marginBottom:"-50px"},onClick:function(){return e.logout()}},"Logout "))),s.a.createElement("h4",{style:{color:"rgb(23, 23, 71)",marginLeft:"50px",marginBottom:"-40px"}}," "),s.a.createElement("div",{className:"formdesign510"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-2"},s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize51",name:"fname",require:!0,placeholder:"Firstname",value:this.state.fname,onChange:this.handleroomData2})),s.a.createElement("div",{className:"col-2"},s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize51",name:"lname",require:!0,placeholder:"Surname",value:this.state.lname,onChange:this.handleChange})),s.a.createElement("div",{className:"col-2"},s.a.createElement("input",{type:"number",className:"form-control mb-3 formsize51",name:"phone",require:!0,placeholder:"Phone",value:this.state.phone,onChange:this.handleChange})),s.a.createElement("select",{className:"form-select  mb-3 formsize510",name:"room",onChange:this.handleChange2},s.a.createElement("option",{defaultValue:""},"Vacant Room"),this.renderVacantRooms(this.state.displayAllRoomNums),s.a.createElement("option",{defaultValue:""},"Occupied Rooms"),this.renderOccuppiedRooms(this.state.displayOccupiedRoomNums),s.a.createElement("hr",null)),s.a.createElement("div",{className:"col-2"},s.a.createElement("label",null,this.renderstartDate(this.state.start))),s.a.createElement("div",{className:"col-2"},s.a.createElement("label",null,this.renderendDate(this.state.end))),s.a.createElement("div",{className:"col-2"},s.a.createElement("input",{type:"number",className:"form-control mb-3 formsize51",name:"rsvAmount",require:!0,placeholder:"Enter Amount",value:this.state.rsvAmount,onChange:this.handlePayMethData})),s.a.createElement("select",{type:"button",className:"form-select formsize3bb mb-2 btn btn-primary mt-3 spaceleft",name:"paymentMethod",onChange:this.handleChange},s.a.createElement("option",{selected:!0,value:""},"Payment Method"),this.renderPayMeth(this.state.displayPaymentMethods)),s.a.createElement("div",{className:"col-2"},s.a.createElement("textarea",{type:"text",className:"form-control mb-3 textareawidth formsize51",name:"memo",rows:"2",require:!0,placeholder:"Enter Comment",value:this.state.memo,onChange:this.handleChange})),s.a.createElement("center",null,s.a.createElement("span",null,s.a.createElement("button",{disabled:""===this.state.fname||""===this.state.room||""===this.state.phone||""===this.state.start||""===this.state.end||""===this.state.paymentMethod||""===this.state.rsvAmount,className:"btn btn-warning",onClick:function(){return e.onOpenOthrsModal()}},"Reserve"),s.a.createElement("button",{className:"btn btn-primary gap",onClick:function(){return e.props.history.push("./EditReservation")}},"Goto Reservation"),s.a.createElement(l.b,{to:"/roomchart"},s.a.createElement("button",{className:"btn btn-danger space"},"Close"))))),s.a.createElement(v.a,{open:this.state.othersedit},s.a.createElement("div",{className:"backgroundRetRep"},s.a.createElement("div",null,s.a.createElement("img",{src:"https://i.ibb.co/qm1Bj67/Whats-App-Image-2023-10-04-at-9-32-40-PM.jpg",className:"alignImg2",style:{width:"100px",height:"70px"},alt:"companylogo"})),s.a.createElement("center",null,s.a.createElement("h6",null,this.state.Hotelname),s.a.createElement("p",{className:"textSize"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSize"},this.state.Hotelphone))),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust50"},"Description"),s.a.createElement("th",{className:"adjust50"},"Payment Method"),s.a.createElement("th",{className:"adjust50"},"Amount Paid(NGN)"))),s.a.createElement("tbody",{className:"table table-hover"},s.a.createElement("tr",null,s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet"},s.a.createElement("b",null,this.state.description1)),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet"},s.a.createElement("b",null,this.state.paymentMethod)),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.rsvAmount),thousandSeparator:!0,displayType:"text"})))))),s.a.createElement("div",{className:"printing"},s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-primary",style:{height:"40px"},onClick:function(){e.sendtoprinterOthrs()}},s.a.createElement("p",null,this.state.printBTN))))),s.a.createElement(Ut.a,{localizer:Wt,events:this.state.events,startAccessor:"start",endAccessor:"end",style:{height:500,margin:"50px"},selectable:!0,onSelectEvent:this.handleEventSelection})))}},{key:"componentDidMount",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(">>> Inside RsvDidMount",this.state),fetch("".concat(Qt),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({events:e})}),fetch("".concat("https://zarvichdemo.localto.net/fofUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({loginDetails:e})}),fetch("".concat("https://zarvichdemo.localto.net/hoteladdress"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return t.setState({Hotelname:e.HotelName,Hoteladdress:e.Address,Hotelphone:e.Phone}),"ok"})}),e.next=6,fetch("".concat("https://zarvichdemo.localto.net/getActive"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return t.setState({transactionDate:e.date}),"ok"})});case 6:this.myTimer=setInterval(function(){fetch("".concat("https://zarvichdemo.localto.net/getActive"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return t.setState({transactionDate:e.date}),"ok"})})},1e3),this.myTimer=setTimeout(function(){var e=t.state.loginDetails,a=t.state.name;e.some(function(e){return e.name===a})?t.setState({Blogin:!0}):t.setState({Blogin:!1})},1e3);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),a}(n.Component),Zt=Xt,$t="https://zarvichdemo.localto.net/reservation?resavtnID=",ea="https://zarvichdemo.localto.net/getReservationBydate?selectDate=",ta=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value))},n.handleSearchChangeByName=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value)),""===e.target.value?n.setState({displayeventsedit:""}):n.filterItemsByName()},n.handleSearchChangeByNumber=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value)),""===e.target.value?n.setState({displayeventsedit:""}):n.filterItemsByPhone()},n.handleSearchChangeByDate=function(e){n.setState({searchByDate:e}),setTimeout(function(){if(""===n.state.searchByDate)n.setState({displayeventsedit:""});else{var e=k()(n.state.searchByDate).format("YYYY-DD-MMM");fetch("".concat(ea).concat(e),{method:"GET"}).then(function(e){return e.json()}).then(function(e){n.setState({displayeventsedit:e})})}},1e3)},n.handleroomData2=function(e){var t;n.setState((t={},Object(h.a)(t,e.target.name,e.target.value),Object(h.a)(t,"allDay",!0),t))},n.renderEvents=function(e){if(e)return e.sort(function(e,t){return new Date(e.start)-new Date(t.start)}),e.map(function(e){var t=k()(e.start).format("YYYY-DD-MMM"),a=k()(e.end).format("YYYY-DD-MMM"),o=k()(e.Tdate).format("YYYY-DD-MMM");return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:e._id},s.a.createElement("td",{className:"table-light table-striped adjust2xxxx"},t),s.a.createElement("td",{className:"table-light table-striped adjust2xxxx"},a),s.a.createElement("td",{className:"table-light table-striped adjust2xxxx"},o),s.a.createElement("td",{className:"table-light table-striped adjust2xxxx"},e.fname),s.a.createElement("td",{className:"table-light table-striped adjust2xxxx"},e.lname),s.a.createElement("td",{className:"table-light table-striped adjust2xxxx"},e.phone),s.a.createElement("td",{className:"table-light table-striped adjust2xxxx"},e.room),s.a.createElement("td",{className:"table-light table-striped adjust2xxxx"},e.rsvAmount),s.a.createElement("td",{className:"table-light table-striped adjust2xxxx"},e.memo),s.a.createElement("td",{className:"table-light table-stripedadjust10"},s.a.createElement("button",{className:"btn btn-primary textcolor",onMouseOver:function(){return sessionStorage.setItem("getRsID",e.resID)},onClick:function(){n.onOpenModaledit()}},"Edit")),s.a.createElement("td",{className:"table-light table-stripedadjust10"},s.a.createElement("button",{className:"btn btn-primary textcolor",onMouseOver:function(){return sessionStorage.setItem("getRsID",e.resID)},onClick:function(){n.deletRSV()}},"Cancel")),s.a.createElement("td",{className:"table-light table-striped adjust10"},s.a.createElement("button",{className:"btn btn-primary textcolor",onMouseOver:function(){sessionStorage.setItem("getRoomNum",e.room),sessionStorage.setItem("getrsvAmount",e.rsvAmount),sessionStorage.setItem("getrsvCode",e.resID)},onClick:function(){n.onOpenModalcheckin()}},"Check in"))))})},console.log(">>> inside ERsvCobtructor",e),n.state={eventsedit:[],displayeventsedit:[],displaysearch:"",searchByName:"",searchByDate:"",searchByNumber:"",displayAllRoomNums:"",edit:!1,checkIn:!1,_id:"",resID:"",fname:"",lname:"",allDay:"",end:"",start:"",room:"",title:"",start2:"",end2:"",phone:"",rsvAmount:"",loginDetails:"",name:localStorage.getItem("userInfo"),login:"",Blogin:""},n.starthandleChange=n.starthandleChange.bind(Object(f.a)(n)),n.endhandleChange=n.endhandleChange.bind(Object(f.a)(n)),n}return Object(p.a)(a,[{key:"logout",value:function(){localStorage.removeItem("userInfo"),this.setState({login:!0})}},{key:"onOpenModaledit",value:function(){var e=this;this.setState({edit:!0}),fetch("".concat($t).concat(sessionStorage.getItem("getRsID")),{method:"GET"}).then(function(e){return e.json()}).then(function(t){t.map(function(t){var a=k()(t.start).format("YYYY-DD-MMM"),n=k()(t.end).format("YYYY-DD-MMM");return e.setState({_id:t._id,resID:t.resID,fname:t.fname,lname:t.lname,allDay:t.allDay,end:n,start:a,room:t.room,phone:t.phone}),"ok"})})}},{key:"onOpenModalcheckin",value:function(){var e=this,t=sessionStorage.getItem("getRoomNum");fetch("".concat("https://zarvichdemo.localto.net/newRoomStat?wrtRmNum=").concat(t),{method:"GET"}).then(function(e){return e.json()}).then(function(t){t.map(function(t){return(t.fname||t.lname||"green"!==t.roomStatus)&&(alert("Room "+t.roomNumbers+" is currently occupied or needs cleaning"),e.props.history.push("/EditReservation")),"green"===t.roomStatus&&e.props.history.push("/form/".concat(sessionStorage.getItem("getRoomNum"))),"ok"})})}},{key:"onCloseModaledit",value:function(){var e=this;this.setState({edit:!1}),fetch("".concat($t),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({eventsedit:t})})}},{key:"onCloseModalcheckin",value:function(){this.setState({checkIn:!1})}},{key:"starthandleChange",value:function(e){this.setState({start2:e}),""===this.state.searchByDate?this.setState({displayeventsedit:""}):this.filterItemsByDate()}},{key:"renderstartDate",value:function(){return s.a.createElement("div",null,s.a.createElement(y.a,{selected:this.state.start2,onChange:this.starthandleChange,minDate:new Date,maxDate:Object(N.default)(new Date,26),dropdownMode:"select",dateFormat:"MMM/d/ yyyy",className:"form-control mb-3 formsize53",placeholderText:"Edit Arrival"}))}},{key:"renderstartDateSearch",value:function(){return s.a.createElement("div",null,s.a.createElement(y.a,{selected:this.state.searchByDate,onChange:this.handleSearchChangeByDate,dropdownMode:"select",dateFormat:"yyyy-dd-MMM",className:"form-control mb-3 formsize53",placeholderText:"Search by Date"}))}},{key:"filterItemsByName",value:function(){var e=this.state.eventsedit,t=this.state.searchByName,a=e.filter(function(e){return e.fname.toLowerCase().includes(t.toLowerCase())||e.lname.toLowerCase().includes(t.toLowerCase())});this.setState({displayeventsedit:a})}},{key:"filterItemsByPhone",value:function(){var e=this.state.eventsedit,t=this.state.searchByNumber,a=e.filter(function(e){return e.phone.toLowerCase().includes(t.toLowerCase())});this.setState({displayeventsedit:a})}},{key:"handleChange2",value:function(){if(""!==this.state.room||""!==this.state.fname){var e=this.state.room+" "+this.state.fname+" "+this.state.lname+" "+this.state.phone;this.setState({title:e})}if(""===this.state.start2&&""===this.state.end2){var t=new Date(this.state.start),a=new Date(this.state.end);this.setState({start2:t,end2:a})}}},{key:"endhandleChange",value:function(e){this.setState({end2:e})}},{key:"renderendDate",value:function(){return s.a.createElement("div",null,s.a.createElement(y.a,{selected:this.state.end2,onChange:this.endhandleChange,minDate:Object(N.default)(this.state.start2,1),maxDate:Object(N.default)(new Date,31),dropdownMode:"select",dateFormat:"MMM/d/ yyyy",className:"form-control mb-3 formsize53 moveagain",placeholderText:"Edit Departure"}))}},{key:"handleResvUpdate",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=sessionStorage.getItem("getRsID"),a={resID:"".concat(this.state.resID),fname:"".concat(this.state.fname),lname:"".concat(this.state.lname),allDay:"".concat(this.state.allDay),end:k()("".concat(this.state.end2)).format("YYYY-DD-MMM"),start:k()("".concat(this.state.start2)).format("YYYY-DD-MMM"),title:"".concat(this.state.title),phone:"".concat(this.state.phone),room:"".concat(this.state.room)},e.next=5,fetch("".concat("https://zarvichdemo.localto.net/reservatn","/").concat(t),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(a)});case 5:n=e.sent,console.log("result>  "+n),alert("Reservation updated for Room "+this.state.title),this.setState({fname:"",_id:"",lname:"",allDay:!0,start:"",end:"",end2:"",start2:"",room:"",title:"",phone:"",displayAllRoomNums:"",eventsedit:""}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}},e,this,[[0,11]])}));return function(){return e.apply(this,arguments)}}()},{key:"renderVacantRooms",value:function(e){if(e)return e.sort(function(e,t){return e.roomNumbers-t.roomNumbers}),e.map(function(e,t){return"green"===e.roomStatus?s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{key:t,value:e.roomNumbers},e.roomNumbers," - ",e.roomtypeName)):s.a.createElement(s.a.Fragment,null)})}},{key:"deletRSV",value:function(){var e=sessionStorage.getItem("getRsID");fetch("".concat("https://zarvichdemo.localto.net/resvntdel","/").concat(e),{method:"delete"}),alert("Reservation Cancelled")}},{key:"render",value:function(){var e=this;return console.log(">>> Inside ERsvdetails",this.state),null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement(T,null)):s.a.createElement("div",{className:"background993"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-3"},s.a.createElement("h4",{style:{color:"silver",marginLeft:"50px",marginBottom:"-50px"}},"Hotel Reservation ")),s.a.createElement("div",{className:"col-6"},s.a.createElement("h6",{style:{color:"purple",marginLeft:"480px",marginBottom:"-50px"}},"Welcome, ",localStorage.getItem("userInfo").split(" ")[0]," ")),s.a.createElement("div",{className:"col-3"},s.a.createElement("h6",{type:"button",style:{color:"yellow",marginLeft:"180",textAlign:"left",marginBottom:"-50px"},onClick:function(){return e.logout()}},"Logout "))),s.a.createElement("h4",{style:{color:"rgb(23, 23, 71)",marginLeft:"50px",marginBottom:"-40px"}}," "),s.a.createElement("div",{className:"formdesign510"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-2"},s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize51",name:"searchByName",require:!0,placeholder:"Search By Name",value:this.state.searchByName,onChange:this.handleSearchChangeByName})),s.a.createElement("div",{className:"col-2"},s.a.createElement("input",{type:"number",className:"form-control mb-3 formsize51",name:"searchByNumber",require:!0,placeholder:"Search By Phone",value:this.state.searchByNumber,onChange:this.handleSearchChangeByNumber})),s.a.createElement("div",{className:"col-2"},s.a.createElement("label",null,this.renderstartDateSearch(this.state.searchByDate)))),s.a.createElement("div",null,s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust5"},"Arrival Date"),s.a.createElement("th",{className:"adjust5"},"Departure Date"),s.a.createElement("th",{className:"adjust5"},"Reservation Date"),s.a.createElement("th",{className:"adjust5"},"Firstname"),s.a.createElement("th",{className:"adjust5"},"Surname"),s.a.createElement("th",{className:"adjust5"},"Phone Num"),s.a.createElement("th",{className:"adjust5"},"Room Num"),s.a.createElement("th",{className:"adjust5"},"Amount"),s.a.createElement("th",{className:"adjust5nwww"},"Comment"),s.a.createElement("th",{className:"adjust5"},"Edit"),s.a.createElement("th",{className:"adjust5"},"Cancel"),s.a.createElement("th",{className:"adjust5"},"Check in"))),s.a.createElement("tbody",{className:"table table-hover"},this.renderEvents(this.state.displayeventsedit))))),s.a.createElement("br",null),s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-danger",onClick:function(){sessionStorage.removeItem("getrsvAmount"),localStorage.removeItem("rsvpNwDte"),e.props.history.push("/Reservation")}},"Close")),s.a.createElement(v.a,{open:this.state.edit,onClose:function(){return e.onCloseModaledit()}},s.a.createElement("div",{className:"background591"},s.a.createElement("h4",{style:{color:"silver",marginLeft:"50px",marginBottom:"-70px"}},"Edit Reservation"),s.a.createElement("div",{className:"formdesign511"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-3"},s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize53",name:"fname",value:this.state.fname,onChange:this.handleroomData2})),s.a.createElement("div",{className:"col-3"},s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize53",name:"lname",value:this.state.lname,onChange:this.handleChange})),s.a.createElement("div",{className:"col-3"},s.a.createElement("input",{type:"number",className:"form-control mb-3 formsize53",name:"phone",value:this.state.phone,onChange:this.handleChange})),s.a.createElement("div",{className:"col-3"},s.a.createElement("input",{type:"number",className:"form-control mb-3 formsize53",name:"rsvAmount",value:this.state.rsvAmount,onChange:this.handleChange})),s.a.createElement("select",{className:"form-select  mb-3 formsize53",name:"room",onChange:this.handleChange},s.a.createElement("option",{defaultValue:""},this.state.room),this.renderVacantRooms(this.state.displayAllRoomNums)),s.a.createElement("div",{className:"col-3"},s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize53 adjustText",name:"start",value:k()(this.state.start).format("YYYY-DD-MMM"),readOnly:!0})),s.a.createElement("div",{className:"col-3"},s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize53 adjustText",name:"end",value:k()(this.state.end).format("YYYY-DD-MMM"),readOnly:!0})),s.a.createElement("div",{className:"col-3"},s.a.createElement("label",null,this.renderstartDate(this.state.start2))),s.a.createElement("div",{className:"col-3"},s.a.createElement("label",null,this.renderendDate(this.state.end2))))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("center",null,s.a.createElement("span",null,s.a.createElement("button",{className:"btn btn-warning space2",onMouseOver:function(){return e.handleChange2()},onClick:function(){return e.handleResvUpdate()}},"Save"),s.a.createElement("button",{className:"btn btn-danger space3",onClick:function(){e.onCloseModaledit(),e.props.history.push("/EditReservation")}},"close"))),s.a.createElement("br",null))))}},{key:"componentDidMount",value:function(){var e=this;console.log(">>> Inside ERsvDidMount",this.state),localStorage.getItem("rsvpNwDte")?this.setState({searchByDate:new Date(localStorage.getItem("rsvpNwDte"))}):this.setState({searchByDate:""}),fetch("".concat($t),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({eventsedit:t})}),this.myTimer=setInterval(function(){fetch("".concat($t),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({eventsedit:t})})},6e4),fetch("".concat("https://zarvichdemo.localto.net/getrmstatus"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({displayAllRoomNums:t})}),fetch("".concat("https://zarvichdemo.localto.net/fofUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({loginDetails:t})}),this.myTimer=setTimeout(function(){var t=e.state.loginDetails,a=e.state.name;t.some(function(e){return e.name===a})?e.setState({Blogin:!0}):e.setState({Blogin:!1})},1e3)}}]),a}(n.Component),aa=ta,na=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),n=t.call(this,e),console.log(">>>Inside ROConstructor"),n.state={occuppancyData:"",occuppancySearch:"",date:"",percentOcc:"",NumOccuppied:"",NumAllRms:"",AllRms:"",percentCalculated:"",loginDetails:"",name:localStorage.getItem("userInfo"),login:"",Blogin:"",Hotelname:"",Hoteladdress:"",Hotelphone:""},n.checkinhandleChange=n.checkinhandleChange.bind(Object(f.a)(n)),n}return Object(p.a)(a,[{key:"checkinhandleChange",value:function(e){this.setState({date:e})}},{key:"renderDate",value:function(){return s.a.createElement("div",null,s.a.createElement(y.a,{selected:this.state.date,onChange:this.checkinhandleChange,maxDate:Object(N.default)(new Date,0),dropdownMode:"select",dateFormat:"MMM/d/ yyyy",className:"form-control mb-3 formsize printing alignText112",placeholderText:"Select Start Date"}))}},{key:"findOccuppancySearch",value:function(){var e=this,t=k()(this.state.date).format("MMM DD YYYY");this.setState({occuppancyData:""}),fetch("".concat("https://zarvichdemo.localto.net/getDailyOccuppancy?","occuppancyToday=").concat(t),{method:"GET"}).then(function(e){return e.json()}).then(function(t){t.map(function(t){return e.setState({occuppancyData:t.OccuppancyData}),"ok"})})}},{key:"resetOccupancy",value:function(){var e=this;this.setState({occuppancyData:"",date:""}),fetch("".concat("https://zarvichdemo.localto.net/checkin"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({occuppancyData:t})})}},{key:"renderOccupancyData",value:function(e){return e?(e.sort(function(e,t){return e.roomNumbers-t.roomNumbers}),e.map(function(e){var t=k()(e.arrivalDate).format("YYYY-DD-MMM"),a=k()(e.departureDate).format("YYYY-DD-MMM");return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:e._id},s.a.createElement("td",{className:"table-light table-striped adjust225"},e.fname," ",e.lname),s.a.createElement("td",{className:"table-light table-striped adjust222"},e.roomNumbers),s.a.createElement("td",{className:"table-light table-striped adjust225"},e.roomtypeName),s.a.createElement("td",{className:"table-light table-striped adjust20"},s.a.createElement(E.a,{value:e.roomRate,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust222"},e.discounType),s.a.createElement("td",{className:"table-light table-striped adjust20"},s.a.createElement(E.a,{value:e.discountAmount,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust20"},s.a.createElement(E.a,{value:e.dailyRate,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2"},t),s.a.createElement("td",{className:"table-light table-striped adjust2"},a)))})):s.a.createElement(s.a.Fragment,null,s.a.createElement(At.a,{animation:"border",variant:"primary"}),s.a.createElement(At.a,{animation:"border",variant:"danger"}),s.a.createElement(At.a,{animation:"border",variant:"warning"}))}},{key:"render",value:function(){var e=this;return console.log(">>> Inside ROtrender",this.state),null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement(T,null)):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"container"},s.a.createElement("div",null,s.a.createElement("img",{src:"https://i.ibb.co/pP1xN03/Orange-Groove2.png",className:"alignImg2",style:{width:"100px",height:"70px"},alt:"companylogo"})),s.a.createElement("center",null,s.a.createElement("h6",null,this.state.Hotelname),s.a.createElement("p",{className:"textSize"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSize"},this.state.Hotelphone)),s.a.createElement("br",null),s.a.createElement("center",null,s.a.createElement("h5",null,"Room Occupancy Report"),s.a.createElement("div",null,s.a.createElement("span",null,s.a.createElement("label",null,this.renderDate(this.state.startdate))),s.a.createElement("span",null,s.a.createElement("button",{className:"btn btn-primary space btnadjuster printing",onClick:function(){return e.findOccuppancySearch()}},"Find Past"),s.a.createElement("button",{className:"btn btn-primary space btnadjuster printing",onClick:function(){return e.resetOccupancy()}},"Reset")))),s.a.createElement("br",null),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust5"},"Names"),s.a.createElement("th",{className:"adjust5"},"Room Num"),s.a.createElement("th",{className:"adjust5"},"Room Type"),s.a.createElement("th",{className:"adjust5"},"Room Rate(NGN)"),s.a.createElement("th",{className:"adjust5"},"Discount Type"),s.a.createElement("th",{className:"adjust5"},"Discount Amount"),s.a.createElement("th",{className:"adjust5"},"Daily Rate(NGN)"),s.a.createElement("th",{className:"adjust5"},"Arrival Date"),s.a.createElement("th",{className:"adjust5"},"Departure Date"))),s.a.createElement("tbody",{className:"table table-hover"},this.renderOccupancyData(this.state.occuppancyData)),s.a.createElement("br",null)),s.a.createElement("div",{className:"row"},s.a.createElement("h6",null,"Occupancy Summary:"),s.a.createElement("hr",null),s.a.createElement("div",{className:"col-4"},s.a.createElement("p",null,s.a.createElement("span",{className:"textSize30"},"No. of Occupied Rooms:"),s.a.createElement("span",{className:"textSize31"}," ",this.state.NumOccuppied))),s.a.createElement("div",{className:"col-4"},s.a.createElement("p",null,s.a.createElement("span",{className:"textSize30"},"Total Num of Rooms:"),s.a.createElement("span",{className:"textSize31"}," ",this.state.NumAllRms))),s.a.createElement("div",{className:"col-4"},s.a.createElement("p",null,s.a.createElement("span",{className:"textSize30"},"Percentage Occupancy:"),s.a.createElement("span",{className:"textSize31"}," ",this.state.percentCalculated," %"))),s.a.createElement("hr",null)),s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-warning printing",onClick:function(){return window.print()}},"Print"),s.a.createElement("button",{className:"btn btn-danger printing space",onClick:function(){return e.props.history.push("/ReceptionMenu")}},"Close"))))}},{key:"componentDidMount",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log(">>> Inside ROdidMount"),fetch("".concat("https://zarvichdemo.localto.net/checkin"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({occuppancyData:e})}),fetch("".concat("https://zarvichdemo.localto.net/getrmstatus"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({percentOcc:e.map(function(e){return e.roomStatus}).filter(function(e){return"green"!==e&&"black"!==e}),AllRms:e.map(function(e){return e.roomStatus}).filter(function(e){return e})});var a=t.state.percentOcc.length;t.setState({NumOccuppied:a});var n=t.state.AllRms,s=parseInt(n.length);t.setState({NumAllRms:s});var o=0;o+=parseFloat(t.state.NumOccuppied)/parseFloat(t.state.NumAllRms)*100,t.setState({percentCalculated:o.toFixed(2)})}),fetch("".concat("https://zarvichdemo.localto.net/fofUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({loginDetails:e})}),fetch("".concat("https://zarvichdemo.localto.net/hoteladdress"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return t.setState({Hotelname:e.HotelName,Hoteladdress:e.Address,Hotelphone:e.Phone}),"ok"})}),this.myTimer=setTimeout(function(){var e=t.state.loginDetails,a=t.state.name;e.some(function(e){return e.name===a})?t.setState({Blogin:!0}):t.setState({Blogin:!1})},1e3);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),a}(n.Component),sa=na,oa=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),n=t.call(this,e),console.log(">>>Inside ROConstructor"),n.state={occuppancyData:"",percentOcc:"",NumOccuppied:"",NumAllRms:"",AllRms:"",percentCalculated:"",loginDetails:"",name:localStorage.getItem("userInfo"),login:"",Blogin:"",Hotelname:"",Hoteladdress:"",Hotelphone:""},n}return Object(p.a)(a,[{key:"renderOccupancyData",value:function(e){if(e)return e.sort(function(e,t){return new Date(e.roomNumbers)-new Date(t.roomNumbers)}),e.map(function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:e._id},s.a.createElement("td",{className:"table-light table-striped adjust2"},e.roomNumbers),s.a.createElement("td",{className:"table-light table-striped adjust2"},e.roomtypeName)))})}},{key:"render",value:function(){var e=this;return console.log(">>> Inside ROtrender",this.state),null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement(T,null)):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"container"},s.a.createElement("div",null,s.a.createElement("img",{src:"https://i.ibb.co/pP1xN03/Orange-Groove2.png",className:"alignImg2",style:{width:"100px",height:"70px"},alt:"companylogo"})),s.a.createElement("center",null,s.a.createElement("h6",null,this.state.Hotelname),s.a.createElement("p",{className:"textSize"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSize"},this.state.Hotelphone)),s.a.createElement("br",null),s.a.createElement("center",null,s.a.createElement("h5",null,"Housekeeping Print")),s.a.createElement("br",null),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust5"},"Room Num"),s.a.createElement("th",{className:"adjust5"},"Room Type"))),s.a.createElement("tbody",{className:"table table-hover"},this.renderOccupancyData(this.state.occuppancyData)),s.a.createElement("br",null)),s.a.createElement("div",{className:"row"},s.a.createElement("h6",null,"Occupancy Summary:"),s.a.createElement("hr",null),s.a.createElement("div",{className:"col-4"},s.a.createElement("p",null,s.a.createElement("span",{className:"textSize30"},"No. of Occupied Rooms:"),s.a.createElement("span",{className:"textSize31"}," ",this.state.NumOccuppied))),s.a.createElement("div",{className:"col-4"},s.a.createElement("p",null,s.a.createElement("span",{className:"textSize30"},"Total Num of Rooms:"),s.a.createElement("span",{className:"textSize31"}," ",this.state.NumAllRms))),s.a.createElement("div",{className:"col-4"},s.a.createElement("p",null,s.a.createElement("span",{className:"textSize30"},"Percentage Occupancy:"),s.a.createElement("span",{className:"textSize31"}," ",this.state.percentCalculated," %"))),s.a.createElement("hr",null)),s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-warning printing",onClick:function(){return window.print()}},"Print"),s.a.createElement("button",{className:"btn btn-danger printing space",onClick:function(){return e.props.history.push("/ReceptionMenu")}},"Close"))))}},{key:"componentDidMount",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log(">>> Inside ROdidMount"),fetch("".concat("https://zarvichdemo.localto.net/checkin"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({occuppancyData:e})}),fetch("".concat("https://zarvichdemo.localto.net/getrmstatus"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({percentOcc:e.map(function(e){return e.roomStatus}).filter(function(e){return"green"!==e&&"black"!==e}),AllRms:e.map(function(e){return e.roomStatus}).filter(function(e){return e})});var a=t.state.percentOcc.length;t.setState({NumOccuppied:a});var n=t.state.AllRms,s=parseInt(n.length);t.setState({NumAllRms:s});var o=0;o+=parseFloat(t.state.NumOccuppied)/parseFloat(t.state.NumAllRms)*100,t.setState({percentCalculated:o.toFixed(2)})}),fetch("".concat("https://zarvichdemo.localto.net/fofUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({loginDetails:e})}),fetch("".concat("https://zarvichdemo.localto.net/hoteladdress"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return t.setState({Hotelname:e.HotelName,Hoteladdress:e.Address,Hotelphone:e.Phone}),"ok"})}),this.myTimer=setTimeout(function(){var e=t.state.loginDetails,a=t.state.name;e.some(function(e){return e.name===a})?t.setState({Blogin:!0}):t.setState({Blogin:!1})},1e3);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),a}(n.Component),ra=oa,la=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),n=t.call(this,e),console.log(">>>Inside ROConstructor"),n.state={roomchangereportdata:"",CountRooms:"",counted:"",loginDetails:"",name:localStorage.getItem("userInfo"),login:"",Blogin:"",Hotelname:"",Hoteladdress:"",Hotelphone:""},n}return Object(p.a)(a,[{key:"renderRoomChReport",value:function(e){if(e)return e.sort(function(e,t){return e.OldRoomNum-t.OldRoomNum}),e.map(function(e){var t=k()(e.date).format("YYYY-DD-MMM");return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:e._id},s.a.createElement("td",{className:"table-light table-striped adjust2"},t),s.a.createElement("td",{className:"table-light table-striped adjust2"},e.OldRoomNum),s.a.createElement("td",{className:"table-light table-striped adjust2"},e.NewRoomNum),s.a.createElement("td",{className:"table-light table-striped adjust2"},e.Reason)))})}},{key:"render",value:function(){var e=this;return console.log(">>> Inside ROtrender",this.state),null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement(T,null)):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"container"},s.a.createElement("div",null,s.a.createElement("img",{src:"https://i.ibb.co/pP1xN03/Orange-Groove2.png",className:"alignImg2",style:{width:"100px",height:"70px"},alt:"companylogo"})),s.a.createElement("center",null,s.a.createElement("h6",null,this.state.Hotelname),s.a.createElement("p",{className:"textSize"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSize"},this.state.Hotelphone)),s.a.createElement("br",null),s.a.createElement("center",null,s.a.createElement("h5",null,"Room Change Report")),s.a.createElement("br",null),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust5"},"Date"),s.a.createElement("th",{className:"adjust5"},"Old Room"),s.a.createElement("th",{className:"adjust5"},"New Room"),s.a.createElement("th",{className:"adjust5"},"Reason"))),s.a.createElement("tbody",{className:"table table-hover"},this.renderRoomChReport(this.state.roomchangereportdata)),s.a.createElement("br",null)),s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("p",null,s.a.createElement("span",{className:"textSize30"},"Room Change Summary:  No. of Rooms Changed:"),s.a.createElement("span",{className:"textSize31"},"   ",this.state.counted))),s.a.createElement("hr",null)),s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-warning printing",onClick:function(){return window.print()}},"Print"),s.a.createElement("button",{className:"btn btn-danger printing space",onClick:function(){return e.props.history.push("/ReceptionMenu")}},"Close"))))}},{key:"componentDidMount",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log(">>> Inside ROdidMount"),fetch("".concat("https://zarvichdemo.localto.net/getRoomChangeReason"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({roomchangereportdata:e,CountRooms:e.map(function(e){return e.NewRoomNum}).filter(function(e){return e})});var a=t.state.CountRooms.length;t.setState({counted:a})}),fetch("".concat("https://zarvichdemo.localto.net/fofUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({loginDetails:e})}),fetch("".concat("https://zarvichdemo.localto.net/hoteladdress"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return t.setState({Hotelname:e.HotelName,Hoteladdress:e.Address,Hotelphone:e.Phone}),"ok"})}),this.myTimer=setTimeout(function(){var e=t.state.loginDetails,a=t.state.name;e.some(function(e){return e.name===a})?t.setState({Blogin:!0}):t.setState({Blogin:!1})},1e3);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),a}(n.Component),ca=la,ia=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),n=t.call(this,e),console.log(">>>Inside ROConstructor"),n.state={PoliceRepData:"",occuppancySearch:"",date:"",total:"",counted:"",loginDetails:"",name:localStorage.getItem("userInfo"),login:"",Blogin:"",Hotelname:"",Hoteladdress:"",Hotelphone:""},n.checkinhandleChange=n.checkinhandleChange.bind(Object(f.a)(n)),n}return Object(p.a)(a,[{key:"checkinhandleChange",value:function(e){this.setState({date:e})}},{key:"renderDate",value:function(){return s.a.createElement("div",null,s.a.createElement(y.a,{selected:this.state.date,onChange:this.checkinhandleChange,maxDate:Object(N.default)(new Date,0),dropdownMode:"select",dateFormat:"MMM/d/ yyyy",className:"form-control mb-3 formsize printing alignText112",placeholderText:"Select Start Date"}))}},{key:"findOccuppancySearch",value:function(){var e=this,t=k()(this.state.date).format("MMM DD YYYY");this.setState({PoliceRepData:""}),fetch("".concat("https://zarvichdemo.localto.net/getDailyOccuppancy?","occuppancyToday=").concat(t),{method:"GET"}).then(function(e){return e.json()}).then(function(t){t.map(function(t){return e.setState({PoliceRepData:t.OccuppancyData}),"ok"})})}},{key:"resetOccupancy",value:function(){var e=this;this.setState({PoliceRepData:"",date:""}),fetch("".concat("https://zarvichdemo.localto.net/checkin"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({PoliceRepData:t})})}},{key:"renderpoliceReport",value:function(e){return e?e.map(function(e){var t=k()(e.arrivalDate).format("YYYY-DD-MMM"),a=k()(e.departureDate).format("YYYY-DD-MMM");return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:e._id},s.a.createElement("td",{className:"table-light table-striped adjust2"},e.title,". ",e.fname," ",e.lname),s.a.createElement("td",{className:"table-light table-striped adjust2"},e.phone),s.a.createElement("td",{className:"table-light table-striped adjust2"},e.email),s.a.createElement("td",{className:"table-light table-striped adjust2"},e.occupation),s.a.createElement("td",{className:"table-light table-striped adjust2"},t),s.a.createElement("td",{className:"table-light table-striped adjust2"},a),s.a.createElement("td",{className:"table-light table-striped adjust2"},e.comingFrom),s.a.createElement("td",{className:"table-light table-striped adjust2"},e.goingTo),s.a.createElement("td",{className:"table-light table-striped adjust2"},e.POV)))}):s.a.createElement(s.a.Fragment,null,s.a.createElement(At.a,{animation:"border",variant:"primary"}),s.a.createElement(At.a,{animation:"border",variant:"danger"}),s.a.createElement(At.a,{animation:"border",variant:"warning"}))}},{key:"render",value:function(){var e=this;if(console.log(">>> Inside ROtrender",this.state),null==localStorage.getItem("userInfo")||!1===this.state.Blogin)return s.a.createElement(s.a.Fragment,null,s.a.createElement(T,null));var t=this.state.PoliceRepData.length;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"container"},s.a.createElement("div",null,s.a.createElement("img",{src:"https://i.ibb.co/pP1xN03/Orange-Groove2.png",className:"alignImg2",style:{width:"100px",height:"70px"},alt:"companylogo"})),s.a.createElement("center",null,s.a.createElement("h6",null,this.state.Hotelname),s.a.createElement("p",{className:"textSize"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSize"},this.state.Hotelphone)),s.a.createElement("br",null),s.a.createElement("center",null,s.a.createElement("h5",null,"Police Report"),s.a.createElement("div",null,s.a.createElement("span",null,s.a.createElement("label",null,this.renderDate(this.state.startdate))),s.a.createElement("span",null,s.a.createElement("button",{className:"btn btn-primary space btnadjuster printing",onClick:function(){return e.findOccuppancySearch()}},"Find Past"),s.a.createElement("button",{className:"btn btn-primary space btnadjuster printing",onClick:function(){return e.resetOccupancy()}},"Reset")))),s.a.createElement("br",null),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust5"},"Names"),s.a.createElement("th",{className:"adjust5"},"Phone"),s.a.createElement("th",{className:"adjust5"},"Email"),s.a.createElement("th",{className:"adjust5"},"Occupation"),s.a.createElement("th",{className:"adjust5"},"Arrival Date"),s.a.createElement("th",{className:"adjust5"},"Departure Date"),s.a.createElement("th",{className:"adjust5"},"Coming From"),s.a.createElement("th",{className:"adjust5"},"Going To"),s.a.createElement("th",{className:"adjust5"},"Purpose of Visit"))),s.a.createElement("tbody",{className:"table table-hover"},this.renderpoliceReport(this.state.PoliceRepData)),s.a.createElement("br",null)),s.a.createElement("div",{className:"row"},s.a.createElement("h6",null,"Police Report Summary:"),s.a.createElement("hr",null),s.a.createElement("div",{className:"col-4"},s.a.createElement("p",null,s.a.createElement("span",{className:"textSize30"},"No. of Guests:"),s.a.createElement("span",{className:"textSize31"}," ",t," Guests"))),s.a.createElement("hr",null)),s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-warning printing",onClick:function(){return window.print()}},"Print"),s.a.createElement("button",{className:"btn btn-danger printing space",onClick:function(){return e.props.history.push("/ReceptionMenu")}},"Close"))))}},{key:"componentDidMount",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log(">>> Inside ROdidMount"),fetch("".concat("https://zarvichdemo.localto.net/checkin"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({PoliceRepData:e})}),fetch("".concat("https://zarvichdemo.localto.net/fofUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({loginDetails:e})}),fetch("".concat("https://zarvichdemo.localto.net/hoteladdress"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return t.setState({Hotelname:e.HotelName,Hoteladdress:e.Address,Hotelphone:e.Phone}),"ok"})}),this.myTimer=setTimeout(function(){var e=t.state.loginDetails,a=t.state.name;e.some(function(e){return e.name===a})?t.setState({Blogin:!0}):t.setState({Blogin:!1})},1e3);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),a}(n.Component),ma=ia,ua=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),n=t.call(this,e),console.log(">>>Inside ROConstructor"),n.state={checkoutData:"",total:"",counted:"",loginDetails:"",name:localStorage.getItem("userInfo"),login:"",Blogin:"",Hotelname:"",Hoteladdress:"",Hotelphone:""},n}return Object(p.a)(a,[{key:"rendercheckout",value:function(e){if(e)return e.sort(function(e,t){return e.roomNumbers-t.roomNumbers}),e.map(function(e){var t=k()(e.arrivalDate).format("YYYY-DD-MMM"),a=k()(e.departureDate).format("YYYY-DD-MMM");return a===sessionStorage.getItem("chkOutDate")?s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:e._id},s.a.createElement("td",{className:"table-light table-striped adjust2"},e.title,". ",e.fname," ",e.lname),s.a.createElement("td",{className:"table-light table-striped adjust2"},e.roomNumbers),s.a.createElement("td",{className:"table-light table-striped adjust2"},e.roomtypeName),s.a.createElement("td",{className:"table-light table-striped adjust20"},s.a.createElement(E.a,{value:e.roomRate,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2"},e.discounType),s.a.createElement("td",{className:"table-light table-striped adjust20"},s.a.createElement(E.a,{value:e.discountAmount,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust20"},s.a.createElement(E.a,{value:e.dailyRate,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2"},t),s.a.createElement("td",{className:"table-light table-striped adjust2"},a))):s.a.createElement(s.a.Fragment,null)})}},{key:"render",value:function(){var e=this;if(console.log(">>> Inside ROtrender",this.state),null==localStorage.getItem("userInfo")||!1===this.state.Blogin)return s.a.createElement(s.a.Fragment,null,s.a.createElement(T,null));var t=this.state.total.length;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"container"},s.a.createElement("div",null,s.a.createElement("img",{src:"https://i.ibb.co/pP1xN03/Orange-Groove2.png",className:"alignImg2",style:{width:"100px",height:"70px"},alt:"companylogo"})),s.a.createElement("center",null,s.a.createElement("h6",null,this.state.Hotelname),s.a.createElement("p",{className:"textSize"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSize"},this.state.Hotelphone)),s.a.createElement("br",null),s.a.createElement("center",null,s.a.createElement("h5",null,"Daily Check Out Report")),s.a.createElement("center",null,s.a.createElement("p",{className:"textSize"},"As at ",sessionStorage.getItem("chkOutDate"))),s.a.createElement("br",null),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust5"},"Names"),s.a.createElement("th",{className:"adjust5"},"Room Num"),s.a.createElement("th",{className:"adjust5"},"Room Type"),s.a.createElement("th",{className:"adjust5"},"Room Rate(NGN)"),s.a.createElement("th",{className:"adjust5"},"Discount Type"),s.a.createElement("th",{className:"adjust5"},"Discount Amount"),s.a.createElement("th",{className:"adjust5"},"Daily Rate(NGN)"),s.a.createElement("th",{className:"adjust5"},"Arrival Date"),s.a.createElement("th",{className:"adjust5"},"Departure Date"))),s.a.createElement("tbody",{className:"table table-hover"},this.rendercheckout(this.state.checkoutData)),s.a.createElement("br",null)),s.a.createElement("div",{className:"row"},s.a.createElement("h6",null,"Check Out Summary:"),s.a.createElement("hr",null),s.a.createElement("div",{className:"col-4"},s.a.createElement("p",null,s.a.createElement("span",{className:"textSize30"},"Total Check Out Rooms:"),s.a.createElement("span",{className:"textSize31"}," ",t," Rooms"))),s.a.createElement("hr",null)),s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-warning printing",onClick:function(){return window.print()}},"Print"),s.a.createElement("button",{className:"btn btn-danger printing space",onClick:function(){return e.props.history.push("/ReceptionMenu")}},"Close"))))}},{key:"componentDidMount",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log(">>> Inside ROdidMount"),fetch("".concat("https://zarvichdemo.localto.net/checkedout"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({checkoutData:e,total:e.map(function(e){return e._id}).filter(function(e){return e})})}),fetch("".concat("https://zarvichdemo.localto.net/fofUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({loginDetails:e})}),fetch("".concat("https://zarvichdemo.localto.net/hoteladdress"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return t.setState({Hotelname:e.HotelName,Hoteladdress:e.Address,Hotelphone:e.Phone}),"ok"})}),this.myTimer=setTimeout(function(){var e=t.state.loginDetails,a=t.state.name;e.some(function(e){return e.name===a})?t.setState({Blogin:!0}):t.setState({Blogin:!1})},1e3);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),a}(n.Component),ha=ua,da="https://zarvichdemo.localto.net/org",pa=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value))},console.log(">>> inside GrpCobtructor",e),n.state={groupData:"",class:"Corporate",orgAddress:"",orgEmail:"",orgName:"",orgPhone:"",_id:Math.floor(1e4*Math.random()),edit:!1,loginDetails:"",name:localStorage.getItem("userInfo"),login:"",Blogin:""},n}return Object(p.a)(a,[{key:"logout",value:function(){localStorage.removeItem("userInfo"),this.setState({login:!0})}},{key:"onOpenModaledit",value:function(){var e=this;this.setState({edit:!0}),fetch("".concat("https://zarvichdemo.localto.net/org?groupID=").concat(sessionStorage.getItem("getorgID")),{method:"GET"}).then(function(e){return e.json()}).then(function(t){t.map(function(t){return e.setState({_id:t._id,orgAddress:t.orgAddress,orgEmail:t.orgEmail,orgName:t.orgName,orgPhone:t.orgPhone,class:t.class}),"ok"})})}},{key:"deleteOrg",value:function(){var e=this;fetch("".concat("https://zarvichdemo.localto.net/delorg","/").concat(sessionStorage.getItem("getgrpID")),{method:"delete"}),this.myTimer=setTimeout(function(){fetch("".concat(da),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({groupData:t})})},1e3)}},{key:"onCloseModaledit",value:function(){var e=this;this.setState({class:"Corporate",orgAddress:"",orgEmail:"",orgName:"",orgPhone:"",_id:""}),fetch("".concat(da),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({groupData:t})}),this.setState({edit:!1})}},{key:"handleSubmit",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={class:"".concat(this.state.class),orgName:"".concat(this.state.orgName),orgAddress:"".concat(this.state.orgAddress),orgEmail:"".concat(this.state.orgEmail),orgPhone:"".concat(this.state.orgPhone),_id:"".concat(this.state._id),orgID:"".concat(this.state._id)},e.next=4,fetch("".concat("https://zarvichdemo.localto.net/postOrg"),{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)});case 4:a=e.sent,console.log("result>  "+a),alert("Group Add"),this.setState({class:"Corporate",orgAddress:"",orgEmail:"",orgName:"",orgPhone:"",_id:""}),fetch("".concat(da),{method:"GET"}).then(function(e){return e.json()}).then(function(e){n.setState({groupData:e})}),this.myTimer=setTimeout(function(){n.setState({_id:Math.floor(1e4*Math.random())})},1e3),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}},e,this,[[0,12]])}));return function(){return e.apply(this,arguments)}}()},{key:"groupUpdate",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=sessionStorage.getItem("getorgID"),a={class:"Corporate",orgName:"".concat(this.state.orgName),orgAddress:"".concat(this.state.orgAddress),orgEmail:"".concat(this.state.orgEmail),orgPhone:"".concat(this.state.orgPhone),orgID:"".concat(this.state._id)},e.next=5,fetch("".concat("https://zarvichdemo.localto.net/putOrg","/").concat(t),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(a)});case 5:n=e.sent,console.log("result>  "+n),this.setState({class:"Corporate",orgAddress:"",orgEmail:"",orgName:"",orgPhone:"",_id:""}),fetch("".concat(da),{method:"GET"}).then(function(e){return e.json()}).then(function(e){s.setState({groupData:e})}),this.myTimer=setTimeout(function(){s.setState({_id:Math.floor(1e4*Math.random())})},1e3),alert("Group Data updated"),this.setState({edit:!1}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}},e,this,[[0,14]])}));return function(){return e.apply(this,arguments)}}()},{key:"renderGroup",value:function(e){var t=this;if(e)return e.map(function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:e._id},s.a.createElement("td",{className:"table-light table-striped adjust2"},e.orgAddress),s.a.createElement("td",{className:"table-light table-striped adjust2"},e.orgEmail),s.a.createElement("td",{className:"table-light table-striped adjust2"},e.orgName),s.a.createElement("td",{className:"table-light table-striped adjust2"},e.orgPhone),s.a.createElement("td",{className:"table-light table-striped adjust10"},s.a.createElement("button",{className:"btn btn-primary textcolor",onMouseOver:function(){return sessionStorage.setItem("getorgID",e.orgID)},onClick:function(){t.onOpenModaledit()}},"Edit")),s.a.createElement("td",{className:"table-light table-striped adjust10"},s.a.createElement("button",{className:"btn btn-danger textcolor",onMouseOver:function(){return sessionStorage.setItem("getgrpID",e._id)},onDoubleClick:function(){t.deleteOrg()}},"Delete"))))})}},{key:"render",value:function(){var e=this;return console.log(">>> Inside Grpdetails",this.state),null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement(T,null)):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"background990"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-3"},s.a.createElement("h4",{style:{color:"silver",marginLeft:"50px",marginBottom:"-50px"}},"Register Group ")),s.a.createElement("div",{className:"col-6"},s.a.createElement("h6",{style:{color:"purple",marginLeft:"480px",marginBottom:"-50px"}},"Welcome, ",localStorage.getItem("userInfo").split(" ")[0]," ")),s.a.createElement("div",{className:"col-3"},s.a.createElement("h6",{type:"button",style:{color:"yellow",marginLeft:"180",textAlign:"left",marginBottom:"-50px"},onClick:function(){return e.logout()}},"Logout "))),s.a.createElement("h4",{style:{color:"rgb(23, 23, 71)",marginLeft:"50px",marginBottom:"-40px"}}," "),s.a.createElement("div",{className:"formdesign510b"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-3"},s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize51",name:"orgName",require:!0,placeholder:"Name",value:this.state.orgName,onChange:this.handleChange})),s.a.createElement("div",{className:"col-3"},s.a.createElement("textarea",{row:"4",className:"form-control mb-3 formsize51",name:"orgAddress",require:!0,placeholder:"Address",value:this.state.orgAddress,onChange:this.handleChange})),s.a.createElement("div",{className:"col-3"},s.a.createElement("input",{type:"email",className:"form-control mb-3 formsize51",name:"orgEmail",require:!0,placeholder:"Email",value:this.state.orgEmail,onChange:this.handleChange})),s.a.createElement("div",{className:"col-3"},s.a.createElement("input",{type:"number",className:"form-control mb-3 formsize51",name:"orgPhone",require:!0,placeholder:"Phone",value:this.state.orgPhone,onChange:this.handleChange})),s.a.createElement("center",null,s.a.createElement("br",null),s.a.createElement("span",null,s.a.createElement("button",{disabled:""===this.state.orgName||""===this.state.orgPhone,className:"btn btn-warning",onClick:function(){return e.handleSubmit()}},"Add Group"),s.a.createElement("button",{className:"btn btn-danger gap",onClick:function(){return e.props.history.push("/roomchart")}},"Close")))),s.a.createElement("br",null),s.a.createElement("div",null,s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust5"},"Address"),s.a.createElement("th",{className:"adjust5"},"Email"),s.a.createElement("th",{className:"adjust5"},"Name"),s.a.createElement("th",{className:"adjust5"},"Phone"),s.a.createElement("th",{className:"adjust5"},"Action"),s.a.createElement("th",{className:"adjust5"}," "))),s.a.createElement("tbody",{className:"table table-hover"},this.renderGroup(this.state.groupData))),s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-danger gap mb-3",onClick:function(){return e.props.history.push("/roomchart")}},"Close"))))),s.a.createElement(v.a,{open:this.state.edit,onClose:function(){return e.onCloseModaledit()}},s.a.createElement("div",{className:"background591"},s.a.createElement("h4",{style:{color:"silver",marginLeft:"50px",marginBottom:"-70px"}},"Edit Group"),s.a.createElement("div",{className:"formdesign511"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-3"},s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize53",name:"orgName",value:this.state.orgName,onChange:this.handleChange})),s.a.createElement("div",{className:"col-3"},s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize53",name:"orgAddress",value:this.state.orgAddress,onChange:this.handleChange})),s.a.createElement("div",{className:"col-3"},s.a.createElement("input",{type:"email",className:"form-control mb-3 formsize53",name:"orgEmail",value:this.state.orgEmail,onChange:this.handleChange})),s.a.createElement("div",{className:"col-3"},s.a.createElement("input",{type:"number",className:"form-control mb-3 formsize53",name:"orgPhone",value:this.state.orgPhone,onChange:this.handleChange})))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("center",null,s.a.createElement("span",null,s.a.createElement("button",{className:"btn btn-warning space2",onClick:function(){return e.groupUpdate()}},"Save"),s.a.createElement("button",{className:"btn btn-danger space3",onClick:function(){e.onCloseModaledit()}},"close"))),s.a.createElement("br",null))))}},{key:"componentDidMount",value:function(){var e=this;console.log(">>> Inside GrpDidMount",this.state),fetch("".concat(da),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({groupData:t})}),fetch("".concat("https://zarvichdemo.localto.net/fofUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({loginDetails:t})}),this.myTimer=setTimeout(function(){var t=e.state.loginDetails,a=e.state.name;t.some(function(e){return e.name===a})?e.setState({Blogin:!0}):e.setState({Blogin:!1})},1e3)}}]),a}(n.Component),fa=pa,ba=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),n=t.call(this,e),console.log(">>>Inside ROConstructor"),n.state={checkoutData:"",total:"",counted:"",loginDetails:"",name:localStorage.getItem("userInfo"),login:"",Blogin:"",Hotelname:"",Hoteladdress:"",Hotelphone:""},n}return Object(p.a)(a,[{key:"rendercheckout",value:function(e){if(e)return e.sort(function(e,t){return e.roomNumbers-t.roomNumbers}),e.map(function(e){var t=k()(e.arrivalDate).format("YYYY-DD-MMM"),a=k()(e.departureDate).format("YYYY-DD-MMM");return t===sessionStorage.getItem("chkOutDate")?s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:e._id},s.a.createElement("td",{className:"table-light table-striped adjust2"},e.title,". ",e.fname," ",e.lname),s.a.createElement("td",{className:"table-light table-striped adjust2"},e.roomNumbers),s.a.createElement("td",{className:"table-light table-striped adjust2"},e.roomtypeName),s.a.createElement("td",{className:"table-light table-striped adjust20"},s.a.createElement(E.a,{value:e.roomRate,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2"},e.discounType),s.a.createElement("td",{className:"table-light table-striped adjust20"},s.a.createElement(E.a,{value:e.discountAmount,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust20"},s.a.createElement(E.a,{value:e.dailyRate,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2"},t),s.a.createElement("td",{className:"table-light table-striped adjust2"},a))):s.a.createElement(s.a.Fragment,null)})}},{key:"render",value:function(){var e=this;if(console.log(">>> Inside ROtrender",this.state),null==localStorage.getItem("userInfo")||!1===this.state.Blogin)return s.a.createElement(s.a.Fragment,null,s.a.createElement(T,null));var t=this.state.total.length;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"container"},s.a.createElement("div",null,s.a.createElement("img",{src:"https://i.ibb.co/pP1xN03/Orange-Groove2.png",className:"alignImg2",style:{width:"100px",height:"70px"},alt:"companylogo"})),s.a.createElement("center",null,s.a.createElement("h6",null,this.state.Hotelname),s.a.createElement("p",{className:"textSize"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSize"},this.state.Hotelphone)),s.a.createElement("br",null),s.a.createElement("center",null,s.a.createElement("h5",null,"Daily Check In Report")),s.a.createElement("center",null,s.a.createElement("p",{className:"textSize"},"As at ",sessionStorage.getItem("chkOutDate"))),s.a.createElement("br",null),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust5"},"Names"),s.a.createElement("th",{className:"adjust5"},"Room Num"),s.a.createElement("th",{className:"adjust5"},"Room Type"),s.a.createElement("th",{className:"adjust5"},"Room Rate(NGN)"),s.a.createElement("th",{className:"adjust5"},"Discount Type"),s.a.createElement("th",{className:"adjust5"},"Discount Amount"),s.a.createElement("th",{className:"adjust5"},"Daily Rate(NGN)"),s.a.createElement("th",{className:"adjust5"},"Arrival Date"),s.a.createElement("th",{className:"adjust5"},"Departure Date"))),s.a.createElement("tbody",{className:"table table-hover"},this.rendercheckout(this.state.checkoutData)),s.a.createElement("br",null)),s.a.createElement("div",{className:"row"},s.a.createElement("h6",null,"Check In Summary:"),s.a.createElement("hr",null),s.a.createElement("div",{className:"col-4"},s.a.createElement("p",null,s.a.createElement("span",{className:"textSize30"},"Total Check In:"),s.a.createElement("span",{className:"textSize31"}," ",t," Rooms"))),s.a.createElement("hr",null)),s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-warning printing",onClick:function(){return window.print()}},"Print"),s.a.createElement("button",{className:"btn btn-danger printing space",onClick:function(){return e.props.history.push("/ReceptionMenu")}},"Close"))))}},{key:"componentDidMount",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log(">>> Inside ROdidMount"),fetch("".concat(":https://zarvichdemo.localto.net/checkin"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({checkoutData:e,total:e.map(function(e){return e._id}).filter(function(e){return e})})}),fetch("".concat("https://zarvichdemo.localto.net/fofUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({loginDetails:e})}),fetch("".concat("https://zarvichdemo.localto.net/hoteladdress"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return t.setState({Hotelname:e.HotelName,Hoteladdress:e.Address,Hotelphone:e.Phone}),"ok"})}),this.myTimer=setTimeout(function(){var e=t.state.loginDetails,a=t.state.name;e.some(function(e){return e.name===a})?t.setState({Blogin:!0}):t.setState({Blogin:!1})},1e3);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),a}(n.Component),ga=ba,Ea=a(3),Sa="https://zarvichdemo.localto.net/add",ya="https://zarvichdemo.localto.net/barUserInfo",Na="https://zarvichdemo.localto.net/fofUserInfo",va="https://zarvichdemo.localto.net/poolUserInfo",Da="https://zarvichdemo.localto.net/restUserInfo",Ta="https://zarvichdemo.localto.net/billingUserInfo",Ca="https://zarvichdemo.localto.net/fandbUserInfo",ka="https://zarvichdemo.localto.net/clubUserInfo",Ia=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value))},console.log(">>>Inside GstConstructor",e),n.state={bar:"",staff:"",barstaff:"",receptionStaff:"",poolbarStaff:"",restaurantStaff:"",billingStaff:"",fandbstaff:"",clubStaff:"",name:"",Cash:"",POS:"",Room:"",Transfer:"",Complimentary:"",TotalSales:"",date:"",checkPool:"",checkDeposit:"",PoolRemaininPosts:"",PoolTempSales:"",ClubRemaininPosts:"",ClubTempSales:"",loginDetails:"",name2:localStorage.getItem("userInfo"),shift:"",login:"",Blogin:"",printBTN:"Print",Baredit:!1,PoolBaredit:!1,Clubedit:!1,Restedit:!1,Laundryedit:!1,depositedit:!1,othersedit:!1,functionedit:!1,Hotelname:"",Hoteladdress:"",Hotelphone:""},n}return Object(p.a)(a,[{key:"onOpenBarModal",value:function(){this.setState({Baredit:!0})}},{key:"onOpenRestModal",value:function(){this.setState({Restedit:!0})}},{key:"onOpenLaundryModal",value:function(){this.setState({Laundryedit:!0})}},{key:"onCloseRestModal",value:function(){this.setState({Restedit:!1})}},{key:"onCloseLaundryModal",value:function(){this.setState({Laundryedit:!1})}},{key:"onOpenPoolBarModal",value:function(){this.setState({PoolBaredit:!0})}},{key:"onOpenClubModal",value:function(){this.setState({Clubedit:!0})}},{key:"onCloseBarModal",value:function(){this.setState({Baredit:!1})}},{key:"onClosePoolBarModal",value:function(){this.setState({PoolBaredit:!1})}},{key:"onCloseClubModal",value:function(){this.setState({Clubedit:!1})}},{key:"onCloseDepModal",value:function(){this.setState({depositedit:!1})}},{key:"onOpenDepModal",value:function(){this.setState({depositedit:!0})}},{key:"onCloseOthrspModal",value:function(){this.setState({othersedit:!1})}},{key:"onOpenOthrsModal",value:function(){this.setState({othersedit:!0})}},{key:"onCloseFunctnModal",value:function(){this.setState({functionedit:!1})}},{key:"onOpenFunctnModal",value:function(){this.setState({functionedit:!0})}},{key:"sendtoprinter2",value:function(){"Print"===this.state.printBTN?(window.print(),this.setState({printBTN:"Close"})):"Close"===this.state.printBTN&&(this.setState({Baredit:!1}),this.setState({printBTN:"Print"}),this.handleSubmitForBar())}},{key:"sendtoprinterPool",value:function(){"Print"===this.state.printBTN?(window.print(),this.setState({printBTN:"Close"})):"Close"===this.state.printBTN&&(this.setState({PoolBaredit:!1}),this.setState({printBTN:"Print"}),this.handlePoolSubmit())}},{key:"sendtoprinterClub",value:function(){"Print"===this.state.printBTN?(window.print(),this.setState({printBTN:"Close"})):"Close"===this.state.printBTN&&(this.setState({Clubedit:!1}),this.setState({printBTN:"Print"}),this.handleClubSubmit())}},{key:"sendtoprinterRest",value:function(){"Print"===this.state.printBTN?(window.print(),this.setState({printBTN:"Close"})):"Close"===this.state.printBTN&&(this.setState({Restedit:!1}),this.setState({printBTN:"Print"}),this.handleRestSubmit())}},{key:"sendtoprinterLaundry",value:function(){"Print"===this.state.printBTN?(window.print(),this.setState({printBTN:"Close"})):"Close"===this.state.printBTN&&(this.setState({Laundryedit:!1}),this.setState({printBTN:"Print"}),this.handleLaundrySubmit())}},{key:"sendtoprinterDep",value:function(){"Print"===this.state.printBTN?(window.print(),this.setState({printBTN:"Close"})):"Close"===this.state.printBTN&&(this.setState({depositedit:!1}),this.setState({printBTN:"Print"}),this.handleRoomDepositSubmit())}},{key:"sendtoprinterOthrs",value:function(){"Print"===this.state.printBTN?(window.print(),this.setState({printBTN:"Close"})):"Close"===this.state.printBTN&&(this.setState({othersedit:!1}),this.setState({printBTN:"Print"}),this.handleOtherSalesSubmit())}},{key:"sendtoprinterFunctn",value:function(){"Print"===this.state.printBTN?(window.print(),this.setState({printBTN:"Close"})):"Close"===this.state.printBTN&&(this.setState({functionedit:!1}),this.setState({printBTN:"Print"}),this.handleFunctionDepositSubmit())}},{key:"getSales",value:function(){var e=this;fetch("".concat("https://zarvichdemo.localto.net/barSales?staff=").concat(this.state.name),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({bar:t}),e.state.bar.length>0&&t.map(function(t){var a=[];return a.push(t.shift),e.setState({shift:a}),"ok"});var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({POS:a});var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({Cash:parseInt(n)});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({Transfer:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({Complimentary:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);e.setState({Room:r});var l=0+e.state.Cash+e.state.POS+e.state.Transfer+e.state.Room;e.setState({TotalSales:l})})}},{key:"getRestSales",value:function(){var e=this;fetch("".concat("https://zarvichdemo.localto.net/restaurantSales?Rstaff=").concat(this.state.name),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({bar:t}),e.state.bar.length>0&&t.map(function(t){var a=[];return a.push(t.shift),e.setState({shift:a}),"ok"});var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({POS:a});var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({Cash:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({Transfer:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({Complimentary:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);e.setState({Room:r});var l=0+e.state.Cash+e.state.POS+e.state.Transfer+e.state.Room;e.setState({TotalSales:l})})}},{key:"getLaundrySales",value:function(){var e=this;fetch("".concat("https://zarvichdemo.localto.net/alllaundrySales?Lstaff=").concat(this.state.name),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({bar:t}),e.state.bar.length>0&&t.map(function(t){var a=[];return a.push(t.shift),e.setState({shift:a}),"ok"});var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({POS:a});var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({Cash:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({Transfer:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({Complimentary:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);e.setState({Room:r});var l=0+e.state.Cash+e.state.POS+e.state.Transfer+e.state.Room;e.setState({TotalSales:l})})}},{key:"getPoolSales",value:function(){var e=this;fetch("".concat("https://zarvichdemo.localto.net/poolbarSales?Pstaff=").concat(this.state.name),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({bar:t}),e.state.bar.length>0&&t.map(function(t){var a=[];return a.push(t.shift),e.setState({shift:a}),"ok"});var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({POS:a});var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({Cash:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({Transfer:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({Complimentary:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);e.setState({Room:r});var l=0+e.state.Cash+e.state.POS+e.state.Transfer+e.state.Room;e.setState({TotalSales:l})})}},{key:"getClubSales",value:function(){var e=this;fetch("".concat("https://zarvichdemo.localto.net/clubSales?Cstaff=").concat(this.state.name),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({bar:t}),e.state.bar.length>0&&t.map(function(t){var a=[];return a.push(t.shift),e.setState({shift:a}),"ok"});var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({POS:a});var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({Cash:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({Transfer:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({Complimentary:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);e.setState({Room:r});var l=0+e.state.Cash+e.state.POS+e.state.Transfer+e.state.Room;e.setState({TotalSales:l})})}},{key:"getOtherSales",value:function(){var e=this;fetch("".concat("https://zarvichdemo.localto.net/otherSalesPoints?Fostaff=").concat(this.state.name),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({bar:t}),e.state.bar.length>0&&t.map(function(t){var a=[];return a.push(t.shift),e.setState({shift:a}),"ok"});var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({POS:a});var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({Cash:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({Transfer:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({Complimentary:o}),e.setState({Room:0});var r=0+e.state.Cash+e.state.POS+e.state.Transfer+e.state.Room;e.setState({TotalSales:r})})}},{key:"getDeposits",value:function(){var e=this;fetch("".concat("https://zarvichdemo.localto.net/GetTmpRmDep?Bstaff=").concat(this.state.name),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({bar:t}),e.state.bar.length>0&&t.map(function(t){var a=[];return a.push(t.shift),e.setState({shift:a}),"ok"});var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({POS:a});var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({Cash:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({Transfer:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({Complimentary:o}),e.setState({Room:0});var r=0+e.state.Cash+e.state.POS+e.state.Transfer+e.state.Room;e.setState({TotalSales:r})})}},{key:"getFunctionDeposits",value:function(){var e=this;fetch("".concat("https://zarvichdemo.localto.net/functionDep?Fnstaff=").concat(this.state.name),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({bar:t}),e.state.bar.length>0&&t.map(function(t){var a=[];return a.push(t.shift),e.setState({shift:a}),"ok"});var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({POS:a});var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({Cash:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({Transfer:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({Complimentary:o}),e.setState({Room:0});var r=0+e.state.Cash+e.state.POS+e.state.Transfer+e.state.Room;e.setState({TotalSales:r})})}},{key:"logout",value:function(){localStorage.removeItem("userInfo"),this.setState({login:!0}),localStorage.removeItem("shift")}},{key:"renderUsers",value:function(e){if(e)return e.map(function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{key:e._id,value:e.name},e.name))})}},{key:"handleSubmitForBar",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o,r=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=this.state.bar,a={_id:"DSR"+Math.floor(1e4*Math.random()),description:"Bar Sales",department:"Bar Sales",date:k()("".concat(this.state.date)).format("MMM DD YYYY"),POS:"".concat(this.state.POS),Cash:"".concat(this.state.Cash),Room:"".concat(this.state.Room),Transfer:"".concat(this.state.Transfer),Complimentary:"".concat(this.state.Complimentary),user:"".concat(this.state.name),shift:"".concat(this.state.shift)},0!==t.length){e.next=7;break}alert("Bar Data is not available"),e.next=36;break;case 7:return e.next=9,fetch(Sa,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(a)});case 9:return n=e.sent,console.log("dailyPost>  "+n),e.next=13,fetch("https://zarvichdemo.localto.net/retireBar",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t.map(function(e){return e}))});case 13:s=e.sent,console.log("warePost>  "+s),o=fetch("".concat("https://zarvichdemo.localto.net/delBar","/").concat(this.state.name),{method:"delete",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(this.state.bar)}),console.log("delBarD>  "+o),alert("Sales Retired"),this.setState({name:""}),this.setState({Cash:""}),this.setState({POS:""}),this.setState({Room:""}),this.setState({Transfer:""}),this.setState({Complimentary:""}),this.setState({TotalSales:""}),this.setState({bar:""}),this.setState({staff:""}),this.setState({shift:""}),fetch("".concat(ya),{method:"GET"}).then(function(e){return e.json()}).then(function(e){r.setState({barstaff:e})}),fetch("".concat(Na),{method:"GET"}).then(function(e){return e.json()}).then(function(e){r.setState({receptionStaff:e})}),fetch("".concat(va),{method:"GET"}).then(function(e){return e.json()}).then(function(e){r.setState({poolbarStaff:e})}),fetch("".concat(ka),{method:"GET"}).then(function(e){return e.json()}).then(function(e){r.setState({clubStaff:e})}),fetch("".concat(Da),{method:"GET"}).then(function(e){return e.json()}).then(function(e){r.setState({restaurantStaff:e})}),fetch("".concat(Ta),{method:"GET"}).then(function(e){return e.json()}).then(function(e){r.setState({billingStaff:e})}),fetch("".concat(Ca),{method:"GET"}).then(function(e){return e.json()}).then(function(e){r.setState({fandbstaff:e})}),this.myTimer=setTimeout(function(){var e=r.state.barstaff,t=r.state.receptionStaff,a=r.state.poolbarStaff,n=r.state.clubStaff,s=r.state.restaurantStaff,o=r.state.billingStaff,l=r.state.fandbstaff;r.setState({staff:[].concat(Object(Ea.a)(e),Object(Ea.a)(t),Object(Ea.a)(a),Object(Ea.a)(s),Object(Ea.a)(o),Object(Ea.a)(l),Object(Ea.a)(n))})},2e3);case 36:e.next=41;break;case 38:e.prev=38,e.t0=e.catch(0),console.log(e.t0);case 41:case"end":return e.stop()}},e,this,[[0,38]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleRestSubmit",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o,r=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=this.state.bar,a={_id:"DSR"+Math.floor(1e4*Math.random()),description:"Restaurant Sales",department:"Restaurant Sales",date:k()("".concat(this.state.date)).format("MMM DD YYYY"),POS:"".concat(this.state.POS),Cash:"".concat(this.state.Cash),Room:"".concat(this.state.Room),Transfer:"".concat(this.state.Transfer),Complimentary:"".concat(this.state.Complimentary),user:"".concat(this.state.name),shift:"".concat(this.state.shift)},0!==t.length){e.next=7;break}alert("Restaurant Data is not available"),e.next=36;break;case 7:return e.next=9,fetch(Sa,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(a)});case 9:return n=e.sent,console.log("result5>  "+n),e.next=13,fetch("https://zarvichdemo.localto.net/retireRest",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t.map(function(e){return e}))});case 13:s=e.sent,console.log("result4>  "+s),o=fetch("".concat("https://zarvichdemo.localto.net/delRest","/").concat(this.state.name),{method:"delete",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(this.state.bar)}),console.log("result3>  "+o),alert("Sales Retired"),this.setState({name:""}),this.setState({Cash:""}),this.setState({POS:""}),this.setState({Room:""}),this.setState({Transfer:""}),this.setState({Complimentary:""}),this.setState({TotalSales:""}),this.setState({bar:""}),this.setState({staff:""}),this.setState({shift:""}),fetch("".concat(ya),{method:"GET"}).then(function(e){return e.json()}).then(function(e){r.setState({barstaff:e})}),fetch("".concat(Na),{method:"GET"}).then(function(e){return e.json()}).then(function(e){r.setState({receptionStaff:e})}),fetch("".concat(va),{method:"GET"}).then(function(e){return e.json()}).then(function(e){r.setState({poolbarStaff:e})}),fetch("".concat(ka),{method:"GET"}).then(function(e){return e.json()}).then(function(e){r.setState({clubStaff:e})}),fetch("".concat(Da),{method:"GET"}).then(function(e){return e.json()}).then(function(e){r.setState({restaurantStaff:e})}),fetch("".concat(Ta),{method:"GET"}).then(function(e){return e.json()}).then(function(e){r.setState({billingStaff:e})}),fetch("".concat(Ca),{method:"GET"}).then(function(e){return e.json()}).then(function(e){r.setState({fandbstaff:e})}),this.myTimer=setTimeout(function(){var e=r.state.barstaff,t=r.state.receptionStaff,a=r.state.poolbarStaff,n=r.state.clubStaff,s=r.state.restaurantStaff,o=r.state.billingStaff,l=r.state.fandbstaff;r.setState({staff:[].concat(Object(Ea.a)(e),Object(Ea.a)(t),Object(Ea.a)(a),Object(Ea.a)(s),Object(Ea.a)(o),Object(Ea.a)(l),Object(Ea.a)(n))})},2e3);case 36:e.next=41;break;case 38:e.prev=38,e.t0=e.catch(0),console.log(e.t0);case 41:case"end":return e.stop()}},e,this,[[0,38]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleLaundrySubmit",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o,r=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=this.state.bar,a={_id:"DSR"+Math.floor(1e4*Math.random()),description:"Laundry Sales",department:"Laundry Sales",date:k()("".concat(this.state.date)).format("MMM DD YYYY"),POS:"".concat(this.state.POS),Cash:"".concat(this.state.Cash),Room:"".concat(this.state.Room),Transfer:"".concat(this.state.Transfer),Complimentary:"".concat(this.state.Complimentary),user:"".concat(this.state.name),shift:"".concat(this.state.shift)},0!==t.length){e.next=7;break}alert("Laundry Data is not available"),e.next=36;break;case 7:return e.next=9,fetch(Sa,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(a)});case 9:return n=e.sent,console.log("result5>  "+n),e.next=13,fetch("https://zarvichdemo.localto.net/retireLaundry",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t.map(function(e){return e}))});case 13:s=e.sent,console.log("result4>  "+s),o=fetch("".concat("https://zarvichdemo.localto.net/delLaund","/").concat(this.state.name),{method:"delete",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(this.state.bar)}),console.log("result3>  "+o),alert("Sales Retired"),this.setState({name:""}),this.setState({Cash:""}),this.setState({POS:""}),this.setState({Room:""}),this.setState({Transfer:""}),this.setState({Complimentary:""}),this.setState({TotalSales:""}),this.setState({bar:""}),this.setState({staff:""}),this.setState({shift:""}),fetch("".concat(ya),{method:"GET"}).then(function(e){return e.json()}).then(function(e){r.setState({barstaff:e})}),fetch("".concat(Na),{method:"GET"}).then(function(e){return e.json()}).then(function(e){r.setState({receptionStaff:e})}),fetch("".concat(va),{method:"GET"}).then(function(e){return e.json()}).then(function(e){r.setState({poolbarStaff:e})}),fetch("".concat(ka),{method:"GET"}).then(function(e){return e.json()}).then(function(e){r.setState({clubStaff:e})}),fetch("".concat(Da),{method:"GET"}).then(function(e){return e.json()}).then(function(e){r.setState({restaurantStaff:e})}),fetch("".concat(Ta),{method:"GET"}).then(function(e){return e.json()}).then(function(e){r.setState({billingStaff:e})}),fetch("".concat(Ca),{method:"GET"}).then(function(e){return e.json()}).then(function(e){r.setState({fandbstaff:e})}),this.myTimer=setTimeout(function(){var e=r.state.barstaff,t=r.state.receptionStaff,a=r.state.poolbarStaff,n=r.state.clubStaff,s=r.state.restaurantStaff,o=r.state.billingStaff,l=r.state.fandbstaff;r.setState({staff:[].concat(Object(Ea.a)(e),Object(Ea.a)(t),Object(Ea.a)(a),Object(Ea.a)(s),Object(Ea.a)(o),Object(Ea.a)(l),Object(Ea.a)(n))})},2e3);case 36:e.next=41;break;case 38:e.prev=38,e.t0=e.catch(0),console.log(e.t0);case 41:case"end":return e.stop()}},e,this,[[0,38]])}));return function(){return e.apply(this,arguments)}}()},{key:"handlePoolSubmit",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o,r=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=this.state.bar,a={_id:"DSR"+Math.floor(1e8*Math.random()),description:"Pool Bar Sales",department:"Pool Bar Sales",date:k()("".concat(this.state.date)).format("MMM DD YYYY"),POS:"".concat(this.state.POS),Cash:"".concat(this.state.Cash),Room:"".concat(this.state.Room),Transfer:"".concat(this.state.Transfer),Complimentary:"".concat(this.state.Complimentary),user:"".concat(this.state.name),shift:"".concat(this.state.shift)},0!==t.length){e.next=7;break}alert("Pool Data is not available"),e.next=38;break;case 7:return e.next=9,fetch("https://zarvichdemo.localto.net/retirepoolBar",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t.map(function(e){return e}))});case 9:return n=e.sent,console.log("result4>  "+n),e.next=13,fetch(Sa,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(a)});case 13:s=e.sent,console.log("result2>  "+s),o=fetch("".concat("https://zarvichdemo.localto.net/delpoolBar","/").concat(this.state.name),{method:"delete",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(this.state.bar)}),console.log("result3>  "+o),this.setState({name:""}),this.setState({Cash:""}),this.setState({POS:""}),this.setState({Room:""}),this.setState({Transfer:""}),this.setState({Complimentary:""}),this.setState({TotalSales:""}),this.setState({bar:""}),this.setState({staff:""}),this.setState({shift:""}),fetch("".concat(ya),{method:"GET"}).then(function(e){return e.json()}).then(function(e){r.setState({barstaff:e})}),fetch("".concat(Na),{method:"GET"}).then(function(e){return e.json()}).then(function(e){r.setState({receptionStaff:e})}),fetch("".concat(va),{method:"GET"}).then(function(e){return e.json()}).then(function(e){r.setState({poolbarStaff:e})}),fetch("".concat(ka),{method:"GET"}).then(function(e){return e.json()}).then(function(e){r.setState({clubStaff:e})}),fetch("".concat(Da),{method:"GET"}).then(function(e){return e.json()}).then(function(e){r.setState({restaurantStaff:e})}),fetch("".concat(Ta),{method:"GET"}).then(function(e){return e.json()}).then(function(e){r.setState({billingStaff:e})}),fetch("".concat(Ca),{method:"GET"}).then(function(e){return e.json()}).then(function(e){r.setState({fandbstaff:e})}),this.myTimer=setTimeout(function(){var e=r.state.barstaff,t=r.state.receptionStaff,a=r.state.poolbarStaff,n=r.state.clubStaff,s=r.state.restaurantStaff,o=r.state.billingStaff,l=r.state.fandbstaff;r.setState({staff:[].concat(Object(Ea.a)(e),Object(Ea.a)(t),Object(Ea.a)(a),Object(Ea.a)(s),Object(Ea.a)(o),Object(Ea.a)(l),Object(Ea.a)(n))})},2e3),fetch("".concat("https://zarvichdemo.localto.net/GetpoolBarTemp"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){r.setState({PoolTempSales:e})}),fetch("".concat("https://zarvichdemo.localto.net/poolbarSales"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){r.setState({PoolRemaininPosts:e}),r.myTimer=setTimeout(function(){0===r.state.PoolRemaininPosts.length&&r.setState({checkPool:0})},3e3)}),alert("Pool Sales Added Successfully");case 38:e.next=43;break;case 40:e.prev=40,e.t0=e.catch(0),console.log(e.t0);case 43:case"end":return e.stop()}},e,this,[[0,40]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleClubSubmit",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o,r=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=this.state.bar,a={_id:"DSR"+Math.floor(1e8*Math.random()),description:"Reservation",department:"Reservation",date:k()("".concat(this.state.date)).format("MMM DD YYYY"),POS:"".concat(this.state.POS),Cash:"".concat(this.state.Cash),Room:"".concat(this.state.Room),Transfer:"".concat(this.state.Transfer),Complimentary:"".concat(this.state.Complimentary),user:"".concat(this.state.name),shift:"".concat(this.state.shift)},0!==t.length){e.next=7;break}alert("Reservation Data is not available"),e.next=38;break;case 7:return e.next=9,fetch("https://zarvichdemo.localto.net/retireClub",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t.map(function(e){return e}))});case 9:return n=e.sent,console.log("result4>  "+n),e.next=13,fetch(Sa,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(a)});case 13:s=e.sent,console.log("result2>  "+s),o=fetch("".concat("https://zarvichdemo.localto.net/delClub","/").concat(this.state.name),{method:"delete",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(this.state.bar)}),console.log("result3>  "+o),this.setState({name:""}),this.setState({Cash:""}),this.setState({POS:""}),this.setState({Room:""}),this.setState({Transfer:""}),this.setState({Complimentary:""}),this.setState({TotalSales:""}),this.setState({bar:""}),this.setState({staff:""}),this.setState({shift:""}),fetch("".concat(ya),{method:"GET"}).then(function(e){return e.json()}).then(function(e){r.setState({barstaff:e})}),fetch("".concat(Na),{method:"GET"}).then(function(e){return e.json()}).then(function(e){r.setState({receptionStaff:e})}),fetch("".concat(va),{method:"GET"}).then(function(e){return e.json()}).then(function(e){r.setState({poolbarStaff:e})}),fetch("".concat(ka),{method:"GET"}).then(function(e){return e.json()}).then(function(e){r.setState({clubStaff:e})}),fetch("".concat(Da),{method:"GET"}).then(function(e){return e.json()}).then(function(e){r.setState({restaurantStaff:e})}),fetch("".concat(Ta),{method:"GET"}).then(function(e){return e.json()}).then(function(e){r.setState({billingStaff:e})}),fetch("".concat(Ca),{method:"GET"}).then(function(e){return e.json()}).then(function(e){r.setState({fandbstaff:e})}),this.myTimer=setTimeout(function(){var e=r.state.barstaff,t=r.state.receptionStaff,a=r.state.poolbarStaff,n=r.state.clubStaff,s=r.state.restaurantStaff,o=r.state.billingStaff,l=r.state.fandbstaff;r.setState({staff:[].concat(Object(Ea.a)(e),Object(Ea.a)(t),Object(Ea.a)(a),Object(Ea.a)(s),Object(Ea.a)(o),Object(Ea.a)(l),Object(Ea.a)(n))})},2e3),fetch("".concat("https://zarvichdemo.localto.net/GetclubTemp"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){r.setState({ClubTempSales:e})}),fetch("".concat("https://zarvichdemo.localto.net/clubSales"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){r.setState({ClubRemaininPosts:e}),r.myTimer=setTimeout(function(){0===r.state.ClubRemaininPosts.length&&r.setState({checkPool:0})},3e3)}),alert("Reservation Sales Added Successfully");case 38:e.next=43;break;case 40:e.prev=40,e.t0=e.catch(0),console.log(e.t0);case 43:case"end":return e.stop()}},e,this,[[0,40]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleRetirePoolSubmit",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{0===this.state.PoolTempSales.length?alert("Pool Data is not available"):(t=this.state.PoolTempSales,a=fetch("https://zarvichdemo.localto.net/addMany",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t.map(function(e){return e}))}),console.log("result5>  "+a),n=fetch("".concat("https://zarvichdemo.localto.net/delpoolBarTemp"),{method:"delete",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(this.state.PoolTempSales)}),console.log("result13>  "+n),alert("Sales Retired"),this.setState({name:""}),this.setState({Cash:""}),this.setState({POS:""}),this.setState({Room:""}),this.setState({Transfer:""}),this.setState({Complimentary:""}),this.setState({TotalSales:""}),this.setState({bar:""}),this.setState({staff:""}),this.setState({checkPool:""}),fetch("".concat(ya),{method:"GET"}).then(function(e){return e.json()}).then(function(e){s.setState({barstaff:e})}),fetch("".concat(Na),{method:"GET"}).then(function(e){return e.json()}).then(function(e){s.setState({receptionStaff:e})}),fetch("".concat(va),{method:"GET"}).then(function(e){return e.json()}).then(function(e){s.setState({poolbarStaff:e})}),fetch("".concat(ka),{method:"GET"}).then(function(e){return e.json()}).then(function(e){s.setState({clubStaff:e})}),fetch("".concat(Da),{method:"GET"}).then(function(e){return e.json()}).then(function(e){s.setState({restaurantStaff:e})}),fetch("".concat(Ta),{method:"GET"}).then(function(e){return e.json()}).then(function(e){s.setState({billingStaff:e})}),fetch("".concat(Ca),{method:"GET"}).then(function(e){return e.json()}).then(function(e){s.setState({fandbstaff:e})}),this.myTimer=setTimeout(function(){var e=s.state.barstaff,t=s.state.receptionStaff,a=s.state.poolbarStaff,n=s.state.clubStaff,o=s.state.restaurantStaff,r=s.state.billingStaff,l=s.state.fandbstaff;s.setState({staff:[].concat(Object(Ea.a)(e),Object(Ea.a)(t),Object(Ea.a)(a),Object(Ea.a)(o),Object(Ea.a)(r),Object(Ea.a)(l),Object(Ea.a)(n))})},2e3))}catch(o){console.log(o)}case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleRetireClubSubmit",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{0===this.state.ClubTempSales.length?alert("Pool Data is not available"):(t=this.state.ClubTempSales,a=fetch("https://zarvichdemo.localto.net/addManyClub",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t.map(function(e){return e}))}),console.log("result5>  "+a),n=fetch("".concat("https://zarvichdemo.localto.net/delclubTemp"),{method:"delete",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(this.state.ClubTempSales)}),console.log("result13>  "+n),alert("Sales Retired"),this.setState({name:""}),this.setState({Cash:""}),this.setState({POS:""}),this.setState({Room:""}),this.setState({Transfer:""}),this.setState({Complimentary:""}),this.setState({TotalSales:""}),this.setState({bar:""}),this.setState({staff:""}),this.setState({checkPool:""}),fetch("".concat(ya),{method:"GET"}).then(function(e){return e.json()}).then(function(e){s.setState({barstaff:e})}),fetch("".concat(Na),{method:"GET"}).then(function(e){return e.json()}).then(function(e){s.setState({receptionStaff:e})}),fetch("".concat(va),{method:"GET"}).then(function(e){return e.json()}).then(function(e){s.setState({poolbarStaff:e})}),fetch("".concat(ka),{method:"GET"}).then(function(e){return e.json()}).then(function(e){s.setState({clubStaff:e})}),fetch("".concat(Da),{method:"GET"}).then(function(e){return e.json()}).then(function(e){s.setState({restaurantStaff:e})}),fetch("".concat(Ta),{method:"GET"}).then(function(e){return e.json()}).then(function(e){s.setState({billingStaff:e})}),fetch("".concat(Ca),{method:"GET"}).then(function(e){return e.json()}).then(function(e){s.setState({fandbstaff:e})}),this.myTimer=setTimeout(function(){var e=s.state.barstaff,t=s.state.receptionStaff,a=s.state.poolbarStaff,n=s.state.clubStaff,o=s.state.restaurantStaff,r=s.state.billingStaff,l=s.state.fandbstaff;s.setState({staff:[].concat(Object(Ea.a)(e),Object(Ea.a)(t),Object(Ea.a)(a),Object(Ea.a)(o),Object(Ea.a)(r),Object(Ea.a)(l),Object(Ea.a)(n))})},2e3))}catch(o){console.log(o)}case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleOtherSalesSubmit",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o,r=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=this.state.bar,a={_id:"DSR"+Math.floor(1e4*Math.random()),description:"Other Sales",department:"Other Sales",date:k()("".concat(this.state.date)).format("MMM DD YYYY"),POS:"".concat(this.state.POS),Cash:"".concat(this.state.Cash),Room:"".concat(this.state.Room),Transfer:"".concat(this.state.Transfer),Complimentary:"".concat(this.state.Complimentary),user:"".concat(this.state.name),shift:"".concat(this.state.shift)},0!==t.length){e.next=7;break}alert("Other Sales Data is not available"),e.next=36;break;case 7:return e.next=9,fetch(Sa,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(a)});case 9:return n=e.sent,console.log("result5>  "+n),e.next=13,fetch("https://zarvichdemo.localto.net/postRWarehouse",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t.map(function(e){return e}))});case 13:s=e.sent,console.log("result4>  "+s),o=fetch("".concat("https://zarvichdemo.localto.net/delOtherrevenue","/").concat(this.state.name),{method:"delete",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(this.state.bar)}),console.log("result3>  "+o),alert("Sales Retired"),this.setState({name:""}),this.setState({Cash:""}),this.setState({POS:""}),this.setState({Room:""}),this.setState({Transfer:""}),this.setState({Complimentary:""}),this.setState({TotalSales:""}),this.setState({bar:""}),this.setState({staff:""}),this.setState({shift:""}),fetch("".concat(ya),{method:"GET"}).then(function(e){return e.json()}).then(function(e){r.setState({barstaff:e})}),fetch("".concat(Na),{method:"GET"}).then(function(e){return e.json()}).then(function(e){r.setState({receptionStaff:e})}),fetch("".concat(va),{method:"GET"}).then(function(e){return e.json()}).then(function(e){r.setState({poolbarStaff:e})}),fetch("".concat(ka),{method:"GET"}).then(function(e){return e.json()}).then(function(e){r.setState({clubStaff:e})}),fetch("".concat(Da),{method:"GET"}).then(function(e){return e.json()}).then(function(e){r.setState({restaurantStaff:e})}),fetch("".concat(Ta),{method:"GET"}).then(function(e){return e.json()}).then(function(e){r.setState({billingStaff:e})}),fetch("".concat(Ca),{method:"GET"}).then(function(e){return e.json()}).then(function(e){r.setState({fandbstaff:e})}),this.myTimer=setTimeout(function(){var e=r.state.barstaff,t=r.state.receptionStaff,a=r.state.poolbarStaff,n=r.state.clubStaff,s=r.state.restaurantStaff,o=r.state.billingStaff,l=r.state.fandbstaff;r.setState({staff:[].concat(Object(Ea.a)(e),Object(Ea.a)(t),Object(Ea.a)(a),Object(Ea.a)(s),Object(Ea.a)(o),Object(Ea.a)(l),Object(Ea.a)(n))})},2e3);case 36:e.next=41;break;case 38:e.prev=38,e.t0=e.catch(0),console.log(e.t0);case 41:case"end":return e.stop()}},e,this,[[0,38]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleRoomDepositSubmit",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o,r=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=this.state.bar,a={_id:"DSR"+Math.floor(1e4*Math.random()),description:"Accommodation Deposits",department:"Accommodation Deposits",date:k()("".concat(this.state.date)).format("MMM DD YYYY"),POS:"".concat(this.state.POS),Cash:"".concat(this.state.Cash),Room:"".concat(this.state.Room),Transfer:"".concat(this.state.Transfer),Complimentary:"".concat(this.state.Complimentary),user:"".concat(this.state.name),shift:"".concat(this.state.shift)},0!==t.length){e.next=7;break}alert("Room Deposit Data is not available"),e.next=38;break;case 7:return e.next=9,fetch(Sa,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(a)});case 9:return n=e.sent,console.log("result5>  "+n),e.next=13,fetch("https://zarvichdemo.localto.net/postRWarehouse",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t.map(function(e){return e}))});case 13:return s=e.sent,console.log("result4>  "+s),e.next=17,fetch("https://zarvichdemo.localto.net/delTmpRmDep",{method:"delete",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t.map(function(e){return e}))});case 17:o=e.sent,console.log("result9>  "+o),alert("Sales Retired"),this.setState({name:""}),this.setState({Cash:""}),this.setState({POS:""}),this.setState({Room:""}),this.setState({Transfer:""}),this.setState({Complimentary:""}),this.setState({TotalSales:""}),this.setState({bar:""}),this.setState({staff:""}),this.setState({shift:""}),fetch("".concat(ya),{method:"GET"}).then(function(e){return e.json()}).then(function(e){r.setState({barstaff:e})}),fetch("".concat(Na),{method:"GET"}).then(function(e){return e.json()}).then(function(e){r.setState({receptionStaff:e})}),fetch("".concat(va),{method:"GET"}).then(function(e){return e.json()}).then(function(e){r.setState({poolbarStaff:e})}),fetch("".concat(ka),{method:"GET"}).then(function(e){return e.json()}).then(function(e){r.setState({clubStaff:e})}),fetch("".concat(Da),{method:"GET"}).then(function(e){return e.json()}).then(function(e){r.setState({restaurantStaff:e})}),fetch("".concat(Ta),{method:"GET"}).then(function(e){return e.json()}).then(function(e){r.setState({billingStaff:e})}),fetch("".concat(Ca),{method:"GET"}).then(function(e){return e.json()}).then(function(e){r.setState({fandbstaff:e})}),this.myTimer=setTimeout(function(){var e=r.state.barstaff,t=r.state.receptionStaff,a=r.state.poolbarStaff,n=r.state.clubStaff,s=r.state.restaurantStaff,o=r.state.billingStaff,l=r.state.fandbstaff;r.setState({staff:[].concat(Object(Ea.a)(e),Object(Ea.a)(t),Object(Ea.a)(a),Object(Ea.a)(s),Object(Ea.a)(o),Object(Ea.a)(l),Object(Ea.a)(n))})},2e3);case 38:e.next=43;break;case 40:e.prev=40,e.t0=e.catch(0),console.log(e.t0);case 43:case"end":return e.stop()}},e,this,[[0,40]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleFunctionDepositSubmit",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=this.state.bar,a={_id:"DSR"+Math.floor(1e4*Math.random()),description:"Function Deposits",department:"Function Deposits",date:k()("".concat(this.state.date)).format("MMM DD YYYY"),POS:"".concat(this.state.POS),Cash:"".concat(this.state.Cash),Room:"".concat(this.state.Room),Transfer:"".concat(this.state.Transfer),Complimentary:"".concat(this.state.Complimentary),user:"".concat(this.state.name),shift:"".concat(this.state.shift)},0!==t.length){e.next=7;break}alert("Function Deposit Data is not available"),e.next=34;break;case 7:return e.next=9,fetch(Sa,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(a)});case 9:return n=e.sent,console.log("result6>  "+n),e.next=13,fetch("https://zarvichdemo.localto.net/delTempFunctionBills",{method:"delete",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t.map(function(e){return e}))});case 13:s=e.sent,console.log("result9>  "+s),alert("Sales Retired"),this.setState({name:""}),this.setState({Cash:""}),this.setState({POS:""}),this.setState({Room:""}),this.setState({Transfer:""}),this.setState({Complimentary:""}),this.setState({TotalSales:""}),this.setState({bar:""}),this.setState({staff:""}),this.setState({shift:""}),fetch("".concat(ya),{method:"GET"}).then(function(e){return e.json()}).then(function(e){o.setState({barstaff:e})}),fetch("".concat(Na),{method:"GET"}).then(function(e){return e.json()}).then(function(e){o.setState({receptionStaff:e})}),fetch("".concat(va),{method:"GET"}).then(function(e){return e.json()}).then(function(e){o.setState({poolbarStaff:e})}),fetch("".concat(ka),{method:"GET"}).then(function(e){return e.json()}).then(function(e){o.setState({clubStaff:e})}),fetch("".concat(Da),{method:"GET"}).then(function(e){return e.json()}).then(function(e){o.setState({restaurantStaff:e})}),fetch("".concat(Ta),{method:"GET"}).then(function(e){return e.json()}).then(function(e){o.setState({billingStaff:e})}),fetch("".concat(Ca),{method:"GET"}).then(function(e){return e.json()}).then(function(e){o.setState({fandbstaff:e})}),this.myTimer=setTimeout(function(){var e=o.state.barstaff,t=o.state.receptionStaff,a=o.state.poolbarStaff,n=o.state.clubStaff,s=o.state.restaurantStaff,r=o.state.billingStaff,l=o.state.fandbstaff;o.setState({staff:[].concat(Object(Ea.a)(e),Object(Ea.a)(t),Object(Ea.a)(a),Object(Ea.a)(s),Object(Ea.a)(r),Object(Ea.a)(l),Object(Ea.a)(n))})},2e3);case 34:e.next=39;break;case 36:e.prev=36,e.t0=e.catch(0),console.log(e.t0);case 39:case"end":return e.stop()}},e,this,[[0,36]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;console.log(">>> Inside Grpdetails",this.state);var t=k()("".concat(this.state.date)).format("MMM DD YYYY");return null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement(et,null)):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"background990 printing"},s.a.createElement("br",null),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-3"},s.a.createElement("h4",{style:{color:"silver",marginLeft:"50px",marginBottom:"-50px"}},"Retire All Sales Points ")),s.a.createElement("div",{className:"col-6"},s.a.createElement("h6",{style:{color:"purple",marginLeft:"480px",marginBottom:"-50px"}},"Welcome, ",localStorage.getItem("userInfo").split(" ")[0]," ")),s.a.createElement("div",{className:"col-3"},s.a.createElement("h6",{type:"button",style:{color:"yellow",marginLeft:"180",textAlign:"left",marginBottom:"-50px"},onClick:function(){return e.logout()}},"Logout "))),s.a.createElement("h4",{style:{color:"rgb(23, 23, 71)",marginLeft:"50px",marginBottom:"-40px"}}," "),s.a.createElement("div",{className:"formdesign510b"},s.a.createElement(s.a.Fragment,null,s.a.createElement("span",null,s.a.createElement("select",{className:"form-select formsizezzzAA mb-3 headingspace",name:"name",onChange:this.handleChange},s.a.createElement("option",{defaultValue:""},"Select User"),this.renderUsers(this.state.staff))),s.a.createElement("span",null,s.a.createElement("button",{disabled:""===this.state.name,className:"btn btn-primary setthis4",onClick:function(){return e.getSales()}},"Get Bar"),s.a.createElement("button",{disabled:""===this.state.name,className:"btn btn-primary setthis3",onClick:function(){return e.getPoolSales()}},"Get Pool"),s.a.createElement("button",{disabled:""===this.state.name,className:"btn btn-primary setthis3",onClick:function(){return e.getClubSales()}},"Get Reservations"),s.a.createElement("button",{disabled:""===this.state.name,className:"btn btn-primary setthis5",onClick:function(){return e.getRestSales()}},"Get Rest"),s.a.createElement("button",{disabled:""===this.state.name,className:"btn btn-primary setthis6",onClick:function(){return e.getOtherSales()}},"Get Others"),s.a.createElement("button",{disabled:""===this.state.name,className:"btn btn-primary setthis6",onClick:function(){return e.getDeposits()}},"Get Deposits"),s.a.createElement("button",{disabled:""===this.state.name,className:"btn btn-primary setthis6",onClick:function(){return e.getLaundrySales()}},"Get Laundry"))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-4"},s.a.createElement("label",{className:"form-label bodyspace"},"Cash"),s.a.createElement("p",{className:"form-control mb-3 formsizeAA bodyspace"},s.a.createElement(E.a,{value:this.state.Cash,thousandSeparator:!0,displayType:"text",prefix:"NGN"}))),s.a.createElement("div",{className:"col-4"},s.a.createElement("label",{className:"form-label innerspace"},"POS"),s.a.createElement("p",{className:"form-control mb-3 formsizeAA innerspace"},s.a.createElement(E.a,{value:this.state.POS,thousandSeparator:!0,displayType:"text",prefix:"NGN"}))),s.a.createElement("div",{className:"col-4"},s.a.createElement("label",{className:"form-label innerspace"},"Transfer"),s.a.createElement("p",{className:"form-control mb-3 formsizeAA innerspace"},s.a.createElement(E.a,{value:this.state.Transfer,thousandSeparator:!0,displayType:"text",prefix:"NGN"})))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-4"},s.a.createElement("label",{className:"form-label bodyspace"},"Room"),s.a.createElement("p",{className:"form-control mb-3 formsizeAA bodyspace"},s.a.createElement(E.a,{value:this.state.Room,thousandSeparator:!0,displayType:"text",prefix:"NGN"}))),s.a.createElement("div",{className:"col-4"},s.a.createElement("label",{className:"form-label innerspace"},"Complimentary/Reservation Transfer"),s.a.createElement("p",{className:"form-control mb-3 formsizeAA innerspace"},s.a.createElement(E.a,{value:this.state.Complimentary,thousandSeparator:!0,displayType:"text",prefix:"NGN"}))),s.a.createElement("div",{className:"col-4"},s.a.createElement("label",{className:"form-label innerspace"},"TOTAL SALES"),s.a.createElement("p",{className:"form-control mb-3 formsizeAA innerspace"},s.a.createElement(E.a,{value:this.state.TotalSales,thousandSeparator:!0,displayType:"text",prefix:"NGN"})))),s.a.createElement("center",null,s.a.createElement("br",null),s.a.createElement("span",null,s.a.createElement("button",{className:"btn btn-primary",onClick:function(){e.onOpenBarModal()}},"Retire Bar"),s.a.createElement("button",{className:"btn btn-primary space",onClick:function(){return e.onOpenPoolBarModal()}},"Retire Pool"),s.a.createElement("button",{className:"btn btn-primary space",onClick:function(){return e.onOpenClubModal()}},"Retire Reservation"),s.a.createElement("button",{className:"btn btn-primary space",onClick:function(){return e.onOpenRestModal()}},"Retire Restaurant"),s.a.createElement("button",{className:"btn btn-primary space",onClick:function(){return e.onOpenOthrsModal()}},"Retire Other Sales"),s.a.createElement("button",{className:"btn btn-primary space",onClick:function(){return e.onOpenDepModal()}},"Retire Room Deposits"),s.a.createElement("button",{className:"btn btn-primary space",onClick:function(){return e.onOpenLaundryModal()}},"Retire Laundry"))),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-danger mt-3",onClick:function(){return e.props.history.push("/BillingMenu")}},"Close"))),s.a.createElement("br",null)),s.a.createElement("br",null),s.a.createElement("center",null,s.a.createElement("h6",{style:{color:"yellow"}},"Active Shift: ",localStorage.getItem("shift")," "))),s.a.createElement(v.a,{open:this.state.Baredit},s.a.createElement("div",{className:"backgroundRetRep"},s.a.createElement("center",null,s.a.createElement("h6",null,this.state.Hotelname),s.a.createElement("p",{className:"textSize"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSize"},this.state.Hotelphone),s.a.createElement("h5",null,"Bar Collection Receipt"),s.a.createElement("p",{className:"textSize"},"Date: ",t))),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust50"},"NAME"),s.a.createElement("th",{className:"adjust50"},"POS (NGN)"),s.a.createElement("th",{className:"adjust50"},"Cash(NGN)"),s.a.createElement("th",{className:"adjust50"},"Transfer(NGN)"),s.a.createElement("th",{className:"adjust50"},"Compl(NGN)"),s.a.createElement("th",{className:"adjust50"},"Room(NGN)"),s.a.createElement("th",{className:"adjust50"},"Total(NGN)"))),s.a.createElement("tbody",{className:"table table-hover"},s.a.createElement("tr",null,s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,this.state.name)),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.POS),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.Cash),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.Transfer),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.Complimentary),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.Room),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null," ",s.a.createElement(E.a,{value:this.state.TotalSales,thousandSeparator:!0,displayType:"text"})))))),s.a.createElement("div",{className:"printing"},s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-primary",style:{height:"40px"},onClick:function(){e.sendtoprinter2()}},s.a.createElement("p",null,this.state.printBTN))))),s.a.createElement(v.a,{open:this.state.PoolBaredit},s.a.createElement("div",{className:"backgroundRetRep"},s.a.createElement("center",null,s.a.createElement("h6",null,this.state.Hotelname),s.a.createElement("p",{className:"textSize"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSize"},this.state.Hotelphone),s.a.createElement("h5",null,"PoolBar Collection Receipt"),s.a.createElement("p",{className:"textSize"},"Date: ",t))),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust50"},"NAME"),s.a.createElement("th",{className:"adjust50"},"POS (NGN)"),s.a.createElement("th",{className:"adjust50"},"Cash(NGN)"),s.a.createElement("th",{className:"adjust50"},"Transfer(NGN)"),s.a.createElement("th",{className:"adjust50"},"Compl(NGN)"),s.a.createElement("th",{className:"adjust50"},"Room(NGN)"),s.a.createElement("th",{className:"adjust50"},"Total(NGN)"))),s.a.createElement("tbody",{className:"table table-hover"},s.a.createElement("tr",null,s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,this.state.name)),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.POS),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.Cash),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.Transfer),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.Complimentary),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.Room),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null," ",s.a.createElement(E.a,{value:this.state.TotalSales,thousandSeparator:!0,displayType:"text"})))))),s.a.createElement("div",{className:"printing"},s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-primary",style:{height:"40px"},onClick:function(){e.sendtoprinterPool()}},s.a.createElement("p",null,this.state.printBTN))))),s.a.createElement(v.a,{open:this.state.Clubedit},s.a.createElement("div",{className:"backgroundRetRep"},s.a.createElement("center",null,s.a.createElement("h6",null,this.state.Hotelname),s.a.createElement("p",{className:"textSize"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSize"},this.state.Hotelphone),s.a.createElement("h5",null,"Reservation Collection Receipt"),s.a.createElement("p",{className:"textSize"},"Date: ",t))),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust50"},"NAME"),s.a.createElement("th",{className:"adjust50"},"POS (NGN)"),s.a.createElement("th",{className:"adjust50"},"Cash(NGN)"),s.a.createElement("th",{className:"adjust50"},"Transfer(NGN)"),s.a.createElement("th",{className:"adjust50"},"Compl(NGN)"),s.a.createElement("th",{className:"adjust50"},"Room(NGN)"),s.a.createElement("th",{className:"adjust50"},"Total(NGN)"))),s.a.createElement("tbody",{className:"table table-hover"},s.a.createElement("tr",null,s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,this.state.name)),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.POS),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.Cash),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.Transfer),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.Complimentary),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.Room),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null," ",s.a.createElement(E.a,{value:this.state.TotalSales,thousandSeparator:!0,displayType:"text"})))))),s.a.createElement("div",{className:"printing"},s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-primary",style:{height:"40px"},onClick:function(){e.sendtoprinterClub()}},s.a.createElement("p",null,this.state.printBTN))))),s.a.createElement(v.a,{open:this.state.Restedit},s.a.createElement("div",{className:"backgroundRetRep"},s.a.createElement("center",null,s.a.createElement("h6",null,this.state.Hotelname),s.a.createElement("p",{className:"textSize"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSize"},this.state.Hotelphone),s.a.createElement("h5",null,"Restaurant Collection Receipt"),s.a.createElement("p",{className:"textSize"},"Date: ",t))),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust50"},"NAME"),s.a.createElement("th",{className:"adjust50"},"POS (NGN)"),s.a.createElement("th",{className:"adjust50"},"Cash(NGN)"),s.a.createElement("th",{className:"adjust50"},"Transfer(NGN)"),s.a.createElement("th",{className:"adjust50"},"Compl(NGN)"),s.a.createElement("th",{className:"adjust50"},"Room(NGN)"),s.a.createElement("th",{className:"adjust50"},"Total(NGN)"))),s.a.createElement("tbody",{className:"table table-hover"},s.a.createElement("tr",null,s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,this.state.name)),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.POS),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.Cash),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.Transfer),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.Complimentary),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.Room),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null," ",s.a.createElement(E.a,{value:this.state.TotalSales,thousandSeparator:!0,displayType:"text"})))))),s.a.createElement("div",{className:"printing"},s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-primary",style:{height:"40px"},onClick:function(){e.sendtoprinterRest()}},s.a.createElement("p",null,this.state.printBTN))))),s.a.createElement(v.a,{open:this.state.Laundryedit},s.a.createElement("div",{className:"backgroundRetRep"},s.a.createElement("center",null,s.a.createElement("h6",null,this.state.Hotelname),s.a.createElement("p",{className:"textSize"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSize"},this.state.Hotelphone),s.a.createElement("h5",null,"Laundry Collection Receipt"),s.a.createElement("p",{className:"textSize"},"Date: ",t))),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust50"},"NAME"),s.a.createElement("th",{className:"adjust50"},"POS (NGN)"),s.a.createElement("th",{className:"adjust50"},"Cash(NGN)"),s.a.createElement("th",{className:"adjust50"},"Transfer(NGN)"),s.a.createElement("th",{className:"adjust50"},"Compl(NGN)"),s.a.createElement("th",{className:"adjust50"},"Room(NGN)"),s.a.createElement("th",{className:"adjust50"},"Total(NGN)"))),s.a.createElement("tbody",{className:"table table-hover"},s.a.createElement("tr",null,s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,this.state.name)),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.POS),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.Cash),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.Transfer),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.Complimentary),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.Room),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null," ",s.a.createElement(E.a,{value:this.state.TotalSales,thousandSeparator:!0,displayType:"text"})))))),s.a.createElement("div",{className:"printing"},s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-primary",style:{height:"40px"},onClick:function(){e.sendtoprinterLaundry()}},s.a.createElement("p",null,this.state.printBTN))))),s.a.createElement(v.a,{open:this.state.depositedit},s.a.createElement("div",{className:"backgroundRetRep"},s.a.createElement("center",null,s.a.createElement("h6",null,this.state.Hotelname),s.a.createElement("p",{className:"textSize"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSize"},this.state.Hotelphone),s.a.createElement("h5",null,"Deposits Collection Receipt"),s.a.createElement("p",{className:"textSize"},"Date: ",t))),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust50"},"NAME"),s.a.createElement("th",{className:"adjust50"},"POS (NGN)"),s.a.createElement("th",{className:"adjust50"},"Cash(NGN)"),s.a.createElement("th",{className:"adjust50"},"Transfer(NGN)"),s.a.createElement("th",{className:"adjust50"},"Compl(NGN)"),s.a.createElement("th",{className:"adjust50"},"Room(NGN)"),s.a.createElement("th",{className:"adjust50"},"Total(NGN)"))),s.a.createElement("tbody",{className:"table table-hover"},s.a.createElement("tr",null,s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,this.state.name)),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.POS),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.Cash),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.Transfer),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.Complimentary),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.Room),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null," ",s.a.createElement(E.a,{value:this.state.TotalSales,thousandSeparator:!0,displayType:"text"})))))),s.a.createElement("div",{className:"printing"},s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-primary",style:{height:"40px"},onClick:function(){e.sendtoprinterDep()}},s.a.createElement("p",null,this.state.printBTN))))),s.a.createElement(v.a,{open:this.state.othersedit},s.a.createElement("div",{className:"backgroundRetRep"},s.a.createElement("center",null,s.a.createElement("h6",null,this.state.Hotelname),s.a.createElement("p",{className:"textSize"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSize"},this.state.Hotelphone),s.a.createElement("h5",null,"Other Sales Collection Receipt"),s.a.createElement("p",{className:"textSize"},"Date: ",t))),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust50"},"NAME"),s.a.createElement("th",{className:"adjust50"},"POS (NGN)"),s.a.createElement("th",{className:"adjust50"},"Cash(NGN)"),s.a.createElement("th",{className:"adjust50"},"Transfer(NGN)"),s.a.createElement("th",{className:"adjust50"},"Compl(NGN)"),s.a.createElement("th",{className:"adjust50"},"Room(NGN)"),s.a.createElement("th",{className:"adjust50"},"Total(NGN)"))),s.a.createElement("tbody",{className:"table table-hover"},s.a.createElement("tr",null,s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,this.state.name)),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.POS),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.Cash),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.Transfer),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.Complimentary),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.Room),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null," ",s.a.createElement(E.a,{value:this.state.TotalSales,thousandSeparator:!0,displayType:"text"})))))),s.a.createElement("div",{className:"printing"},s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-primary",style:{height:"40px"},onClick:function(){e.sendtoprinterOthrs()}},s.a.createElement("p",null,this.state.printBTN))))),s.a.createElement(v.a,{open:this.state.functionedit},s.a.createElement("div",{className:"backgroundRetRep"},s.a.createElement("center",null,s.a.createElement("h6",null,this.state.Hotelname),s.a.createElement("p",{className:"textSize"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSize"},this.state.Hotelphone),s.a.createElement("h5",null,"Other Sales Collection Receipt"),s.a.createElement("p",{className:"textSize"},"Date: ",t))),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust50"},"NAME"),s.a.createElement("th",{className:"adjust50"},"POS (NGN)"),s.a.createElement("th",{className:"adjust50"},"Cash(NGN)"),s.a.createElement("th",{className:"adjust50"},"Transfer(NGN)"),s.a.createElement("th",{className:"adjust50"},"Compl(NGN)"),s.a.createElement("th",{className:"adjust50"},"Room(NGN)"),s.a.createElement("th",{className:"adjust50"},"Total(NGN)"))),s.a.createElement("tbody",{className:"table table-hover"},s.a.createElement("tr",null,s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,this.state.name)),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.POS),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.Cash),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.Transfer),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.Complimentary),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.Room),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null," ",s.a.createElement(E.a,{value:this.state.TotalSales,thousandSeparator:!0,displayType:"text"})))))),s.a.createElement("div",{className:"printing"},s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-primary",style:{height:"40px"},onClick:function(){e.sendtoprinterFunctn()}},s.a.createElement("p",null,this.state.printBTN))))))}},{key:"componentDidMount",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(">>> Inside GstDidMount",this.state),fetch("".concat(ya),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({barstaff:e})}),fetch("".concat(Na),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({receptionStaff:e})}),fetch("".concat(va),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({poolbarStaff:e})}),fetch("".concat(ka),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({clubStaff:e})}),fetch("".concat(Da),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({restaurantStaff:e})}),fetch("".concat(Ta),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({billingStaff:e})}),fetch("".concat(Ca),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({fandbstaff:e})}),this.myTimer=setTimeout(function(){var e=t.state.barstaff,a=t.state.receptionStaff,n=t.state.poolbarStaff,s=t.state.restaurantStaff,o=t.state.billingStaff,r=t.state.fandbstaff,l=t.state.clubStaff;t.setState({staff:[].concat(Object(Ea.a)(e),Object(Ea.a)(a),Object(Ea.a)(n),Object(Ea.a)(s),Object(Ea.a)(o),Object(Ea.a)(r),Object(Ea.a)(l))})},2e3),fetch("".concat("https://zarvichdemo.localto.net/GetpoolBarTemp"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({PoolTempSales:e})}),fetch("".concat("https://zarvichdemo.localto.net/GetclubTemp"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({ClubTempSales:e})}),fetch("".concat("https://zarvichdemo.localto.net/poolbarSales"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({PoolRemaininPosts:e}),t.myTimer=setTimeout(function(){0===t.state.PoolRemaininPosts.length&&t.setState({checkPool:0})},3e3)}),fetch("".concat("https://zarvichdemo.localto.net/clubSales"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({ClubRemaininPosts:e}),t.myTimer=setTimeout(function(){0===t.state.ClubRemaininPosts.length&&t.setState({checkPool:0})},3e3)}),fetch("".concat("https://zarvichdemo.localto.net/hoteladdress"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return t.setState({Hotelname:e.HotelName,Hoteladdress:e.Address,Hotelphone:e.Phone}),"ok"})}),e.next=16,fetch("".concat("https://zarvichdemo.localto.net/getActive"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return t.setState({date:e.date}),"ok"})});case 16:this.myTimer=setTimeout(function(){fetch("".concat("https://zarvichdemo.localto.net/getActive"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return t.setState({date:e.date}),"ok"})})},1e3),fetch("".concat("https://zarvichdemo.localto.net/billingUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({loginDetails:e})}),this.myTimer=setTimeout(function(){var e=t.state.loginDetails,a=t.state.name2;e.some(function(e){return e.name===a})?t.setState({Blogin:!0}):t.setState({Blogin:!1})},1e3);case 19:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),a}(n.Component),ja=Ia,xa="https://zarvichdemo.localto.net/poolbar",Ma="https://zarvichdemo.localto.net/restaurant",Oa="https://zarvichdemo.localto.net/checkin?docket=Yes",wa="https://zarvichdemo.localto.net/checkin?roomNumID=",Pa="https://zarvichdemo.localto.net/paymentMethods",Ra="https://zarvichdemo.localto.net/poolbarTablePost",Aa="https://zarvichdemo.localto.net/poolbarTable",za="https://zarvichdemo.localto.net/poolWaitersCost?TotwaiterTabID=",Ba="https://zarvichdemo.localto.net/poolwaitersSD",Ga="https://zarvichdemo.localto.net/getPoolBarStore2",Ya="https://zarvichdemo.localto.net/getPoolBarSalesQty",Fa="https://zarvichdemo.localto.net/postWaitersSales",Ua="https://zarvichdemo.localto.net/splitPayments",Ha="https://zarvichdemo.localto.net/poolWaitersData",qa="https://zarvichdemo.localto.net/poolCredit",La=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleCost=function(e){if(null!==n.state.selected){var t=e.reduce(function(e,t){return e+t.mealPrice*t.qty},0);n.setState({cost:t})}null!==n.state.cost&&(fetch("".concat(Oa),{method:"GET"}).then(function(e){return e.json()}).then(function(e){n.setState({displayRoomNums:e})}),fetch("".concat(Pa),{method:"GET"}).then(function(e){return e.json()}).then(function(e){n.setState({displayPaymentMethods:e})}),localStorage.removeItem("btnCntrl"),localStorage.removeItem("delcntrl"))},n.addqty=function(){var e=n.state.selected.map(function(e){return parseInt(e.qty+1)});n.setState({selected:e})},n.removeAll=function(e){var t=n.state.selected.filter(function(t){return t.id===e});n.setState({selected:t}),n.setState({cost:0}),n.setState({roomNumbers:""}),n.setState({amountPaid:""}),n.setState({displayRoomNums:""}),n.setState({paymentMethod:""}),n.setState({displayPaymentMethods:""}),n.setState({displayPaymentMethods:"",DrinkStore:0,DrinkSalesQty:0,stockBal:0})},n.handleChange=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value))},n.handleChangeComp=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value))},n.handleChange3=function(e){""===n.state.Newmeal&&""===n.state.Newprice&&""===n.state.Newid||n.setState(Object(h.a)({},e.target.name,e.target.value))},n.handleChange2=function(e){console.log("inside handle",n.props),n.setState(Object(h.a)({},e.target.name,e.target.value)),fetch("".concat(wa).concat(e.target.value),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return n.setState({guestInhouseID:e.refID,group:e.group}),"ok"})})},console.log(">>>Inside RESConstructor",e),n.state={Newmeal:"",Newprice:"",Newqty:0,Newid:"",edit:!1,edit2:!1,waitersTD:!1,editreceipt:!1,compModal:!1,report:!1,printStop:0,docketFirst:0,printBTN:"Print",print:0,blockTable:0,IDfound:[],menu:"",RestMenu:"",meal:"",mealPrice:"",mealQuantity:"",mealId:Math.floor(1e4*Math.random()),guestInhouseID:"",selected:[],printSelection:[],menuID:"",menulist:"",Restmenulist:"",cost:0,amountPaid:"",roomNumbers:"",paymentMethod:"",displayPaymentMethods:"",displayRoomNums:"",transactionDate:"",tables:"",newTable:"",NewtableNum:0,group:"",loginDetails:"",name:localStorage.getItem("userInfo"),Blogin:"",login:"",shiftcolor:"",shift:localStorage.getItem("shift"),waitersFName:"",waiterLName:"",LoadWaiters:"",findWaiter:"",WaitersData:"",waitersCost:"",waiterTableData:"",totalbicost:0,DrinkstoreData:[],DrinkSalesQtyData:[],DrinkStore:0,DrinkSalesQty:0,stockBal:0,DrinkSalesQtyReportData:"",useReportName:"",useReportShift:"",useReportDate:"",totalSales:0,Stockbtn:"Add",creditSales:"",TotalCredit:0,creditPaid:0,payNwMeth:"",TotalCreditPaid:0,splitBal:[],Hotelname:"",Hoteladdress:"",Hotelphone:"",pass:"",pword:!1,pword2:!1,waiters:!1,selectWaiter:!1,selectWaiterNew:!1,split:!1,showRestaurant:"hidden",showPoolBar:"visible",showPoolPos:"visible",showRestaurantPos:"hidden",showSalesTable:"visible",showWaitersTable:"hidden",toggle:"hidden",posting:0,Resteditreceipt:!1,editsplitreceipt:!1,Resteditreceipt2:!1,RestRmcompModal:!1},n}return Object(p.a)(a,[{key:"onOpenPword",value:function(){"Credit"===this.state.paymentMethod?this.setState({pword:!0}):(this.setState({pword:!1}),this.onOpenModalreceipt(),this.postQty())}},{key:"showRest",value:function(){this.setState({showRestaurant:"visible",showPoolBar:"hidden",showPoolPos:"hidden",showRestaurantPos:"visible"})}},{key:"showPool",value:function(){this.setState({showRestaurant:"hidden",showPoolBar:"visible",showPoolPos:"visible",showRestaurantPos:"hidden"})}},{key:"showAllTab",value:function(){this.setState({showSalesTable:"visible",showWaitersTable:"hidden",toggle:"hidden",posting:0})}},{key:"showAllTab2",value:function(){window.location.reload(),this.setState({waitersCost:0,posting:0})}},{key:"showWaitrsTab",value:function(){this.setState({showSalesTable:"hidden",showWaitersTable:"visible",toggle:"visible",posting:1})}},{key:"onClosePword",value:function(){this.setState({pword:!1})}},{key:"AllowRefund",value:function(){"6849"===this.state.pass?(this.onOpenModalreceipt(),this.postQty(),this.onClosePword()):alert("Access Denied")}},{key:"onOpenModaltoprint",value:function(){this.setState({edit:!0})}},{key:"onOpenModaltoprint2",value:function(){this.setState({edit2:!0})}},{key:"onOpenModalsplitreceipt",value:function(){this.setState({editsplitreceipt:!0})}},{key:"onCloseModalsplitreceipt",value:function(){this.setState({editsplitreceipt:!1})}},{key:"onCloseModaltoprint2",value:function(){this.setState({edit2:!1})}},{key:"onOpenCompModal",value:function(){this.setState({compModal:!0})}},{key:"onCloseModalCredit",value:function(){this.setState({credit:!1,creditPaid:0})}},{key:"onCloseCompModal",value:function(){this.setState({compModal:!1})}},{key:"onOpenCompRestRoomModal",value:function(){this.setState({RestRmcompModal:!0})}},{key:"onCloseCompRestRoomModal",value:function(){this.setState({RestRmcompModal:!1})}},{key:"onCloseRestModalreceipt",value:function(){this.setState({Resteditreceipt:!1})}},{key:"onOpenRestModalreceipt",value:function(){this.setState({Resteditreceipt:!0})}},{key:"onOpenRestModalreceipt2",value:function(){this.setState({Resteditreceipt2:!0})}},{key:"onCloseRestModalreceipt2",value:function(){this.setState({Resteditreceipt2:!1})}},{key:"onCloseModaltoprint",value:function(){this.setState({edit:!1})}},{key:"onOpenModalreceipt",value:function(){this.setState({editreceipt:!0})}},{key:"onOpenSplit",value:function(){this.setState({split:!0})}},{key:"onCloseSplit",value:function(){var e=this;this.setState({selected:[]}),this.setState({cost:0}),this.setState({amountPaid:""}),this.setState({displayRoomNums:""}),this.setState({roomNumbers:""}),this.setState({paymentMethod:""}),this.setState({displayPaymentMethods:""}),this.setState({group:"",NewtableNum:0,shift:"",Newmeal:"",Newprice:"",Newqty:0,Newid:"",DrinkstoreData:[],DrinkSalesQtyData:[]}),sessionStorage.removeItem("stockBal"),localStorage.removeItem("delcntrl"),localStorage.setItem("btnCntrl",!0),sessionStorage.removeItem("tableNumber3"),fetch("".concat(Ga),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({DrinkstoreData:t})}),fetch("".concat(Ya),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({DrinkSalesQtyData:t})}),fetch("".concat(Aa),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({tables:t})}),fetch("".concat(Aa),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({tables:t})}),this.setState({split:!1}),fetch("".concat("https://zarvichdemo.localto.net/delsplitpay"),{method:"delete"})}},{key:"onCloseModalreceipt",value:function(){this.setState({editreceipt:!1})}},{key:"onOpenModalreport",value:function(){this.setState({report:!0})}},{key:"onCloseModalreport",value:function(){this.setState({report:!1})}},{key:"handleReport",value:function(){var e=this,t=k()(new Date).format("MMM DD YYYY"),a=localStorage.getItem("userInfo"),n="".concat(Ya,"?useDate=").concat(t,"&&useshift=").concat(this.state.shift,"&&userstaff=").concat(a);fetch("".concat(n),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({DrinkSalesQtyReportData:t})}),this.myTimer=setTimeout(function(){if(e.state.DrinkSalesQtyReportData.length>0){var t=e.state.DrinkSalesQtyReportData,n=t.find(function(e){return e.user===a}),s=[];s.push(n),e.setState({useReportName:s.map(function(e){return e.user})}),e.setState({useReportShift:s.map(function(e){return e.shift})}),e.setState({useReportDate:s.map(function(e){return e.tranDate})});var o=t.reduce(function(e,t){return e+parseInt(t.productPrice*t.Quantity)},0);e.setState({totalSales:o}),e.onOpenModalreport()}else alert("No Sales was posted by "+a)},1e3)}},{key:"handleStock",value:function(){var e=this;if(this.state.DrinkstoreData.length>0){var t=sessionStorage.getItem("meal"),a=this.state.DrinkstoreData.filter(function(e){return e.productName.includes(t)}).reduce(function(e,t){return e+parseInt(t.piecesOut)},0);this.setState({DrinkStore:a});var n=this.state.DrinkSalesQtyData.filter(function(e){return e.productName.includes(t)}).reduce(function(e,t){return e+parseInt(t.Quantity)},0);this.setState({DrinkSalesQty:n}),this.myTimer=setTimeout(function(){var t=0+e.state.DrinkStore-e.state.DrinkSalesQty;e.setState({stockBal:t}),(t<0||t<-1)&&e.setState({stockBal:0}),0===e.state.stockBal?e.setState({Stockbtn:"Finished"}):e.setState({Stockbtn:"Add"})},1e3)}}},{key:"ComputeAmtPaid",value:function(){var e=this;fetch("".concat("https://zarvichdemo.localto.net/getSplits"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseFloat(t.Amounts)},0);e.setState({splitBal:a,amountPaid:""})})}},{key:"addToTable",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o,r,l,c,i=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=sessionStorage.getItem("tableNumber3"),a=this.state.selected,n={selected:a.map(function(e){return e}),billCost:this.state.cost,tableNum:sessionStorage.getItem("tableNumber3"),user:localStorage.getItem("userInfo")},s=this.state.printSelection,o=s.reduce(function(e,t){return e+t.mealPrice*t.qty},0),r={_id:Math.floor(1e4*Math.random()),waiterselection:s.map(function(e){return e}),billCost:o,tableNum:sessionStorage.getItem("tableNumber3"),waiter:this.state.findWaiter},e.next=9,fetch("".concat(Fa),{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(r)});case 9:return l=e.sent,console.log("waiterresult>  "+l),this.onOpenModaltoprint(),e.next=14,fetch("".concat(Ra,"/").concat(t),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)});case 14:c=e.sent,console.log("result>  "+c),this.setState({selected:[]}),localStorage.setItem("btnCntrl",!0),this.setState({cost:0}),this.setState({roomNumbers:""}),this.setState({displayRoomNums:""}),this.setState({displayPaymentMethods:""}),this.setState({paymentMethod:""}),this.setState({printStop:0}),localStorage.removeItem("delcntrl"),sessionStorage.removeItem("tableNumber3"),fetch("".concat(Aa),{method:"GET"}).then(function(e){return e.json()}).then(function(e){i.setState({tables:e})}),this.handleGetWaitListClose(),this.getWaitersC(),e.next=34;break;case 31:e.prev=31,e.t0=e.catch(0),console.log(e.t0);case 34:case"end":return e.stop()}},e,this,[[0,31]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleCredit",value:function(){var e=this,t=localStorage.getItem("userInfo");fetch("".concat("https://zarvichdemo.localto.net/poolCreditSales?PCstaff=").concat(t),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({creditSales:t}),t.map(function(a){var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.creditAmount)},0);e.setState({TotalCredit:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.creditPaid)},0);return e.setState({TotalCreditPaid:s}),"ok"})}),this.myTimer=setTimeout(function(){e.setState({credit:!0})},1e3)}},{key:"handleGetWaitListOpen",value:function(){var e=this;this.getWaitersNow(),this.myTimer=setTimeout(function(){e.setState({selectWaiter:!0})},1e3)}},{key:"handleGetWaitListClose",value:function(){this.setState({selectWaiter:!1})}},{key:"handleGetWaitListOpenNew",value:function(){var e=this;0===this.state.cost?alert("If you click table Number again without an order, I will slap you!"):(this.getWaitersNow(),this.myTimer=setTimeout(function(){e.setState({selectWaiterNew:!0})},1e3))}},{key:"handleGetWaitListCloseNew",value:function(){this.setState({selectWaiterNew:!1})}},{key:"NewTable",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o,r,l,c=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=sessionStorage.getItem("tableNumber3"),a=this.state.selected,n={selected:a.map(function(e){return e}),billCost:this.state.cost,tableNum:t},s=this.state.printSelection,o={_id:Math.floor(1e4*Math.random()),waiterselection:s.map(function(e){return e}),billCost:this.state.cost,tableNum:sessionStorage.getItem("tableNumber3"),waiter:this.state.findWaiter},e.next=8,fetch("".concat(Fa),{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(o)});case 8:if(r=e.sent,console.log("waiterresult2>  "+r),0!==this.state.cost){e.next=15;break}alert("If you click table Number again without an order, I will slap you!"),sessionStorage.removeItem("tableNumber"),e.next=31;break;case 15:return e.next=17,fetch("".concat(Ra,"/").concat(t),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)});case 17:l=e.sent,console.log("result>  "+l),this.setState({selected:[]}),localStorage.setItem("btnCntrl",!0),this.setState({cost:0}),this.setState({roomNumbers:""}),this.setState({displayRoomNums:""}),this.setState({displayPaymentMethods:""}),this.setState({paymentMethod:""}),localStorage.removeItem("delcntrl"),this.setState({newTable:""}),this.handleGetWaitListCloseNew(),fetch("".concat(Aa),{method:"GET"}).then(function(e){return e.json()}).then(function(e){c.setState({tables:e})}),this.onOpenModaltoprint();case 31:e.next=36;break;case 33:e.prev=33,e.t0=e.catch(0),console.log(e.t0);case 36:case"end":return e.stop()}},e,this,[[0,33]])}));return function(){return e.apply(this,arguments)}}()},{key:"getTableP",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{t=sessionStorage.getItem("tableNumber3"),fetch("".concat("https://zarvichdemo.localto.net/poolbarTable?tableID=").concat(t),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return a.setState({selected:e.selected,cost:e.billCost,NewtableNum:1}),"ok"}),localStorage.removeItem("btnCntrl")}),fetch("".concat(Oa),{method:"GET"}).then(function(e){return e.json()}).then(function(e){a.setState({displayRoomNums:e})}),fetch("".concat(Pa),{method:"GET"}).then(function(e){return e.json()}).then(function(e){a.setState({displayPaymentMethods:e})}),localStorage.setItem("delcntrl",!0),this.setState({printStop:1})}catch(n){console.log(n)}case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getWSC",value:function(){var e=this;this.setState({waitersCost:0});var t=sessionStorage.getItem("waitersTabNum");fetch("".concat(za).concat(t),{method:"GET"}).then(function(e){return e.json()}).then(function(t){var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseFloat(t.billCost)},0);e.setState({waitersCost:a}),t.map(function(e){return sessionStorage.setItem("getWSID",e._id),"ok"})})}},{key:"getTablewrtW",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{t=sessionStorage.getItem("wtwrtid"),fetch("".concat("https://zarvichdemo.localto.net/poolbarWaitersTable?waiterTabID=").concat(t),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return a.setState({selected:e.waiterselection,cost:e.billCost}),"ok"}),localStorage.removeItem("btnCntrl")}),fetch("".concat(Oa),{method:"GET"}).then(function(e){return e.json()}).then(function(e){a.setState({displayRoomNums:e})}),fetch("".concat(Pa),{method:"GET"}).then(function(e){return e.json()}).then(function(e){a.setState({displayPaymentMethods:e})}),localStorage.setItem("delcntrl",!0),this.setState({printStop:1})}catch(n){console.log(n)}case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"postQty",value:function(){var e=this;try{this.state.selected.map(function(t){var a=t.meal,n=t.mealPrice,s=t.qty,o={id:t.tranID,productName:a,productPrice:n,Quantity:parseInt(s),user:localStorage.getItem("userInfo"),tranDate:k()(new Date).format("MMM DD YYYY"),shift:localStorage.getItem("shift")},r=fetch("".concat("https://zarvichdemo.localto.net/postPoolBarSalesQty"),{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(o)});return console.log("result>  "+r),e.setState({Newmeal:"",Newprice:"",Newqty:0,Newid:"",DrinkstoreData:[],DrinkSalesQtyData:[]}),e.myTimer=setTimeout(function(){fetch("".concat(Ga),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({DrinkstoreData:t})}),fetch("".concat(Ya),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({DrinkSalesQtyData:t})})},1e3),"ok"})}catch(t){console.log(t)}}},{key:"buttonClick",value:function(){var e=this;fetch("".concat("https://zarvichdemo.localto.net/drinkitems?drinktypes=").concat(this.state.menuID),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({menulist:t})})}},{key:"RestbuttonClick",value:function(){var e=this;fetch("".concat("https://zarvichdemo.localto.net/menuitems?mealtypes=").concat(this.state.menuID),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({Restmenulist:t})})}},{key:"sendtoprinter",value:function(){window.print()}},{key:"sendtoprinter2",value:function(){"Print"===this.state.printBTN?(window.print(),this.setState({printSelection:[]}),this.setState({printBTN:"Close"}),this.getWaitersC()):"Close"===this.state.printBTN&&(this.setState({edit:!1}),this.setState({printBTN:"Print"}),this.setState({print:0,printStop:0,DrinkSalesQty:0,stockBal:0,blockTable:0}))}},{key:"sendtoprinterNew",value:function(){"Print"===this.state.printBTN?(window.print(),this.setState({selected:[]}),this.setState({printBTN:"Close"}),this.getWaitersC()):"Close"===this.state.printBTN&&(this.setState({edit2:!1}),this.setState({printBTN:"Print"}),this.setState({print:0,printStop:0,DrinkSalesQty:0,stockBal:0,blockTable:0}))}},{key:"handleSubmit",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o,r,l,c,i,u,h,d,p,f,b,g=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=sessionStorage.getItem("tableNumber3"),a=sessionStorage.getItem("wtwrtid"),n={selected:[],billCost:"",tableNum:sessionStorage.getItem("tableNumber3")},"POS"!==this.state.paymentMethod){e.next=10;break}return s={docketNum:"Bar"+Math.floor(1e4*Math.random()),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),cost:"".concat(this.state.cost),POSAmount:"".concat(this.state.amountPaid),CashAmount:0,TransferAmount:0,CompDebit:0,roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod),description:"PoolBar Sales",department:"PoolBar Sales",docketDetails:this.state.selected,group:"".concat(this.state.group),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=8,fetch(xa,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(s)});case 8:o=e.sent,console.log("result5>  "+o);case 10:if("Cash"!==this.state.paymentMethod){e.next=16;break}return r={docketNum:"Bar"+Math.floor(1e4*Math.random()),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),cost:"".concat(this.state.cost),CashAmount:"".concat(this.state.amountPaid),POSAmount:0,TransferAmount:0,CompDebit:0,roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod),description:"PoolBar Sales",department:"PoolBar Sales",docketDetails:this.state.selected,group:"".concat(this.state.group),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=14,fetch(xa,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(r)});case 14:l=e.sent,console.log("result4>  "+l);case 16:if("Transfer"!==this.state.paymentMethod){e.next=22;break}return c={docketNum:"Bar"+Math.floor(1e4*Math.random()),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),cost:"".concat(this.state.cost),TransferAmount:"".concat(this.state.amountPaid),POSAmount:0,CashAmount:0,CompDebit:0,roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod),description:"PoolBar Sales",department:"PoolBar Sales",docketDetails:this.state.selected,group:"".concat(this.state.group),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=20,fetch(xa,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(c)});case 20:i=e.sent,console.log("result3>  "+i);case 22:if("Complimentary"!==this.state.paymentMethod){e.next=28;break}return u={docketNum:"Bar"+Math.floor(1e4*Math.random()),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),cost:"".concat(this.state.cost),amountPaid:"".concat(this.state.amountPaid),CompDebit:"".concat(this.state.cost),POSAmount:0,CashAmount:0,TransferAmount:0,roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod),description:"PoolBar Sales",department:"PoolBar Sales",docketDetails:this.state.selected,group:"".concat(this.state.group),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=26,fetch(xa,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(u)});case 26:h=e.sent,console.log("result2>  "+h);case 28:if("Credit"!==this.state.paymentMethod){e.next=34;break}return d={docketNum:"Bar"+Math.floor(1e4*Math.random()),date:k()(this.state.transactionDate).format("MMM DD YYYY"),cost:"".concat(this.state.cost),creditAmount:"".concat(this.state.amountPaid),paymentMethod:"".concat(this.state.paymentMethod),description:"PoolBar Credit",department:"PoolBar Credit",docketDetails:this.state.selected,group:"".concat(this.state.group),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift"),creditPaid:"".concat(this.state.creditPaid)},e.next=32,fetch(qa,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(d)});case 32:p=e.sent,console.log("result2>  "+p);case 34:return e.next=36,fetch("".concat(Ra,"/").concat(t),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)});case 36:return f=e.sent,console.log("result12>  "+f),e.next=40,fetch("".concat(Ba,"/").concat(a),{method:"delete"});case 40:b=e.sent,console.log("wscdata>  "+b),this.getWT(),alert("Sales Posted"),this.setState({selected:[]}),this.setState({cost:0}),this.setState({amountPaid:""}),this.setState({displayRoomNums:""}),this.setState({roomNumbers:""}),this.setState({paymentMethod:""}),this.setState({displayPaymentMethods:""}),this.setState({group:"",NewtableNum:0,shift:"",Newmeal:"",Newprice:"",Newqty:0,Newid:"",DrinkstoreData:[],DrinkSalesQtyData:[]}),sessionStorage.removeItem("stockBal"),localStorage.removeItem("delcntrl"),localStorage.setItem("btnCntrl",!0),sessionStorage.removeItem("tableNumber"),fetch("".concat(Ga),{method:"GET"}).then(function(e){return e.json()}).then(function(e){g.setState({DrinkstoreData:e})}),fetch("".concat(Ya),{method:"GET"}).then(function(e){return e.json()}).then(function(e){g.setState({DrinkSalesQtyData:e})}),fetch("".concat(Aa),{method:"GET"}).then(function(e){return e.json()}).then(function(e){g.setState({tables:e})}),fetch("".concat(Aa),{method:"GET"}).then(function(e){return e.json()}).then(function(e){g.setState({tables:e})}),e.next=65;break;case 62:e.prev=62,e.t0=e.catch(0),console.log(e.t0);case 65:case"end":return e.stop()}},e,this,[[0,62]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleRestSubmit",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o,r,l,c,i,u,h,d,p,f,b,g=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=sessionStorage.getItem("tableNumber3"),a={selected:[],billCost:"",tableNum:sessionStorage.getItem("tableNumber3")},n={Amounts:this.state.amountPaid},e.next=6,fetch(Ua,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)});case 6:if(s=e.sent,console.log("splitPs>  "+s),"POS"!==this.state.paymentMethod){e.next=14;break}return o={docketNum:"Rest"+Math.floor(1e4*Math.random()),date:k()(this.state.transactionDate).format("MMM DD YYYY"),cost:"".concat(this.state.cost),POSAmount:"".concat(this.state.amountPaid),CashAmount:0,TransferAmount:0,CompDebit:0,roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod),description:"Restaurant Sales",department:"Restaurant Sales",docketDetails:this.state.selected,group:"".concat(this.state.group),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=12,fetch(Ma,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(o)});case 12:r=e.sent,console.log("result5>  "+r);case 14:if("Cash"!==this.state.paymentMethod){e.next=20;break}return l={docketNum:"Rest"+Math.floor(1e4*Math.random()),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),cost:"".concat(this.state.cost),CashAmount:"".concat(this.state.amountPaid),POSAmount:0,TransferAmount:0,CompDebit:0,roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod),description:"Restaurant Sales",department:"Restaurant Sales",docketDetails:this.state.selected,group:"".concat(this.state.group),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=18,fetch(Ma,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(l)});case 18:c=e.sent,console.log("result4>  "+c);case 20:if("Transfer"!==this.state.paymentMethod){e.next=26;break}return i={docketNum:"Rest"+Math.floor(1e4*Math.random()),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),cost:"".concat(this.state.cost),TransferAmount:"".concat(this.state.amountPaid),POSAmount:0,CashAmount:0,CompDebit:0,roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod),description:"Restaurant Sales",department:"Restaurant Sales",docketDetails:this.state.selected,group:"".concat(this.state.group),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=24,fetch(Ma,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(i)});case 24:u=e.sent,console.log("result3>  "+u);case 26:if("Complimentary"!==this.state.paymentMethod){e.next=32;break}return h={docketNum:"Rest"+Math.floor(1e4*Math.random()),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),cost:"".concat(this.state.cost),amountPaid:"".concat(this.state.amountPaid),CompDebit:"".concat(this.state.cost),POSAmount:0,CashAmount:0,TransferAmount:0,roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod),description:"Restaurant Sales",department:"Restaurant Sales",docketDetails:this.state.selected,group:"".concat(this.state.group),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=30,fetch(Ma,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(h)});case 30:d=e.sent,console.log("result2>  "+d);case 32:if("Credit"!==this.state.paymentMethod){e.next=38;break}return p={docketNum:"Rest"+Math.floor(1e4*Math.random()),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),cost:"".concat(this.state.cost),creditAmount:"".concat(this.state.amountPaid),paymentMethod:"".concat(this.state.paymentMethod),description:"Restaurant Credit",department:"Restaurant Credit",docketDetails:this.state.selected,group:"".concat(this.state.group),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift"),creditPaid:"".concat(this.state.creditPaid)},e.next=36,fetch(qa,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(p)});case 36:f=e.sent,console.log("result2>  "+f);case 38:return e.next=40,fetch("".concat(Ra,"/").concat(t),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(a)});case 40:b=e.sent,console.log("result12>  "+b),this.ComputeAmtPaid(),alert("Sales Posted"),fetch("".concat(Aa),{method:"GET"}).then(function(e){return e.json()}).then(function(e){g.setState({tables:e})}),e.next=50;break;case 47:e.prev=47,e.t0=e.catch(0),console.log(e.t0);case 50:case"end":return e.stop()}},e,this,[[0,47]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleRestSubmit2",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o,r,l,c,i,u,h,d,p,f,b,g,E,S=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=sessionStorage.getItem("tableNumber3"),a=sessionStorage.getItem("wtwrtid"),n={selected:[],billCost:"",tableNum:sessionStorage.getItem("tableNumber3")},s={Amounts:this.state.amountPaid},e.next=7,fetch(Ua,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(s)});case 7:if(o=e.sent,console.log("splitPs>  "+o),"POS"!==this.state.paymentMethod){e.next=15;break}return r={docketNum:"Rest"+Math.floor(1e4*Math.random()),date:k()(this.state.transactionDate).format("MMM DD YYYY"),cost:"".concat(this.state.cost),POSAmount:"".concat(this.state.amountPaid),CashAmount:0,TransferAmount:0,CompDebit:0,roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod),description:"Restaurant Sales",department:"Restaurant Sales",docketDetails:this.state.selected,group:"".concat(this.state.group),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=13,fetch(Ma,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(r)});case 13:l=e.sent,console.log("result5>  "+l);case 15:if("Cash"!==this.state.paymentMethod){e.next=21;break}return c={docketNum:"Rest"+Math.floor(1e4*Math.random()),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),cost:"".concat(this.state.cost),CashAmount:"".concat(this.state.amountPaid),POSAmount:0,TransferAmount:0,CompDebit:0,roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod),description:"Restaurant Sales",department:"Restaurant Sales",docketDetails:this.state.selected,group:"".concat(this.state.group),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=19,fetch(Ma,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(c)});case 19:i=e.sent,console.log("result4>  "+i);case 21:if("Transfer"!==this.state.paymentMethod){e.next=27;break}return u={docketNum:"Rest"+Math.floor(1e4*Math.random()),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),cost:"".concat(this.state.cost),TransferAmount:"".concat(this.state.amountPaid),POSAmount:0,CashAmount:0,CompDebit:0,roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod),description:"Restaurant Sales",department:"Restaurant Sales",docketDetails:this.state.selected,group:"".concat(this.state.group),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=25,fetch(Ma,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(u)});case 25:h=e.sent,console.log("result3>  "+h);case 27:if("Complimentary"!==this.state.paymentMethod){e.next=33;break}return d={docketNum:"Rest"+Math.floor(1e4*Math.random()),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),cost:"".concat(this.state.cost),amountPaid:"".concat(this.state.amountPaid),CompDebit:"".concat(this.state.cost),POSAmount:0,CashAmount:0,TransferAmount:0,roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod),description:"Restaurant Sales",department:"Restaurant Sales",docketDetails:this.state.selected,group:"".concat(this.state.group),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=31,fetch(Ma,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(d)});case 31:p=e.sent,console.log("result2>  "+p);case 33:if("Credit"!==this.state.paymentMethod){e.next=39;break}return f={docketNum:"Rest"+Math.floor(1e4*Math.random()),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),cost:"".concat(this.state.cost),creditAmount:"".concat(this.state.amountPaid),paymentMethod:"".concat(this.state.paymentMethod),description:"Restaurant Credit",department:"Restaurant Credit",docketDetails:this.state.selected,group:"".concat(this.state.group),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift"),creditPaid:"".concat(this.state.creditPaid)},e.next=37,fetch(qa,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(f)});case 37:b=e.sent,console.log("result2>  "+b);case 39:return e.next=41,fetch("".concat(Ra,"/").concat(t),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)});case 41:return g=e.sent,console.log("result12>  "+g),alert("Sales Posted"),e.next=46,fetch("".concat(Ba,"/").concat(a),{method:"delete"});case 46:E=e.sent,console.log("wscdata>  "+E),this.getWT(),this.setState({selected:[]}),this.setState({cost:0}),this.setState({amountPaid:""}),this.setState({displayRoomNums:""}),this.setState({roomNumbers:""}),this.setState({paymentMethod:""}),this.setState({displayPaymentMethods:""}),this.setState({group:""}),this.setState({shift:"",Newmeal:"",Newprice:"",Newqty:0,Newid:"",DrinkstoreData:[],DrinkSalesQtyData:[],NewtableNum:0}),localStorage.removeItem("delcntrl"),sessionStorage.removeItem("tableNumber3"),fetch("".concat(Aa),{method:"GET"}).then(function(e){return e.json()}).then(function(e){S.setState({tables:e})}),e.next=66;break;case 63:e.prev=63,e.t0=e.catch(0),console.log(e.t0);case 66:case"end":return e.stop()}},e,this,[[0,63]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleSplitSubmit",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o,r,l,c,i,u,h,d,p,f,b;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=sessionStorage.getItem("tableNumber3"),a={selected:[],billCost:"",tableNum:sessionStorage.getItem("tableNumber3")},n={Amounts:this.state.amountPaid},e.next=6,fetch(Ua,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)});case 6:if(s=e.sent,console.log("splitPs>  "+s),"POS"!==this.state.paymentMethod){e.next=14;break}return o={docketNum:"Bar"+Math.floor(1e4*Math.random()),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),cost:"".concat(this.state.cost),POSAmount:"".concat(this.state.amountPaid),CashAmount:0,TransferAmount:0,CompDebit:0,roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod),description:"PoolBar Sales",department:"PoolBar Sales",docketDetails:this.state.selected,group:"".concat(this.state.group),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=12,fetch(xa,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(o)});case 12:r=e.sent,console.log("result5>  "+r);case 14:if("Cash"!==this.state.paymentMethod){e.next=20;break}return l={docketNum:"Bar"+Math.floor(1e4*Math.random()),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),cost:"".concat(this.state.cost),CashAmount:"".concat(this.state.amountPaid),POSAmount:0,TransferAmount:0,CompDebit:0,roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod),description:"PoolBar Sales",department:"PoolBar Sales",docketDetails:this.state.selected,group:"".concat(this.state.group),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=18,fetch(xa,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(l)});case 18:c=e.sent,console.log("result4>  "+c);case 20:if("Transfer"!==this.state.paymentMethod){e.next=26;break}return i={docketNum:"Bar"+Math.floor(1e4*Math.random()),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),cost:"".concat(this.state.cost),TransferAmount:"".concat(this.state.amountPaid),POSAmount:0,CashAmount:0,CompDebit:0,roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod),description:"PoolBar Sales",department:"PoolBar Sales",docketDetails:this.state.selected,group:"".concat(this.state.group),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=24,fetch(xa,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(i)});case 24:u=e.sent,console.log("result3>  "+u);case 26:if("Complimentary"!==this.state.paymentMethod){e.next=32;break}return h={docketNum:"Bar"+Math.floor(1e4*Math.random()),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),cost:"".concat(this.state.cost),amountPaid:"".concat(this.state.amountPaid),CompDebit:"".concat(this.state.cost),POSAmount:0,CashAmount:0,TransferAmount:0,roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod),description:"PoolBar Sales",department:"PoolBar Sales",docketDetails:this.state.selected,group:"".concat(this.state.group),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=30,fetch(xa,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(h)});case 30:d=e.sent,console.log("result2>  "+d);case 32:if("Credit"!==this.state.paymentMethod){e.next=38;break}return p={docketNum:"Bar"+Math.floor(1e4*Math.random()),date:k()(this.state.transactionDate).format("MMM DD YYYY"),cost:"".concat(this.state.cost),creditAmount:"".concat(this.state.amountPaid),paymentMethod:"".concat(this.state.paymentMethod),description:"PoolBar Credit",department:"PoolBar Credit",docketDetails:this.state.selected,group:"".concat(this.state.group),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift"),creditPaid:"".concat(this.state.creditPaid)},e.next=36,fetch(qa,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(p)});case 36:f=e.sent,console.log("result2>  "+f);case 38:return e.next=40,fetch("".concat(Ra,"/").concat(t),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(a)});case 40:b=e.sent,console.log("result12>  "+b),this.ComputeAmtPaid(),alert("Sales Posted"),e.next=49;break;case 46:e.prev=46,e.t0=e.catch(0),console.log(e.t0);case 49:case"end":return e.stop()}},e,this,[[0,46]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleWaitersOpen",value:function(){this.setState({waiters:!0})}},{key:"handleWaitersClose",value:function(){this.setState({waiters:!1})}},{key:"getWaitersNow",value:function(){var e=this;fetch("".concat("https://zarvichdemo.localto.net/getWaiters"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){return e.setState({LoadWaiters:t}),"ok"})}},{key:"getWaitersData",value:function(){var e=this;fetch("".concat(Ha),{method:"GET"}).then(function(e){return e.json()}).then(function(t){return e.setState({WaitersData:t}),"ok"})}},{key:"getWaitersC",value:function(){var e=this;fetch("".concat(za),{method:"GET"}).then(function(e){return e.json()}).then(function(t){var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseFloat(t.billCost)},0);return e.setState({waitersCost:a}),"ok"})}},{key:"handleWaiters",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={WaiterID:"Waiters"+Math.floor(1e3*Math.random()),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),FirstName:"".concat(this.state.waitersFName),LastName:"".concat(this.state.waiterLName)},e.next=4,fetch("https://zarvichdemo.localto.net/poolWaiterslist",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)});case 4:a=e.sent,console.log("resultWaiter>  "+a),alert("".concat(this.state.waitersFName," was registered successfully")),this.setState({waitersFName:"",waiterLName:"",waitersID:"",waiters:!1}),this.myTimer=setTimeout(function(){n.getWaitersNow(),n.getWaitersData()},1e3),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}},e,this,[[0,11]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleRemoveWaiters",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://zarvichdemo.localto.net/delWaiters",{method:"delete"});case 3:return t=e.sent,console.log("resultdelWaiter>  "+t),e.next=7,fetch("https://zarvichdemo.localto.net/delWaitersSales",{method:"delete"});case 7:a=e.sent,console.log("resultdelWaiterSales>  "+a),this.getWaitersC(),this.getWT(),alert("Waiters List was  deleted successfully"),this.setState({LoadWaiters:""}),window.location.reload(),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}},e,this,[[0,16]])}));return function(){return e.apply(this,arguments)}}()},{key:"postCredit",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o,r,l,c;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={docketNum:"Bar"+Math.floor(1e4*Math.random()),date:k()(this.state.transactionDate).format("MMM DD YYYY"),cost:0,creditAmount:0,paymentMethod:"".concat(this.state.paymentMethod),description:"PoolBar Credit",department:"PoolBar Credit",docketDetails:this.state.selected,group:"".concat(this.state.group),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift"),creditPaid:"".concat(this.state.creditPaid)},e.next=4,fetch(qa,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)});case 4:if(a=e.sent,console.log("creditPay>  "+a),"POS"!==this.state.paymentMethod){e.next=12;break}return n={docketNum:"Bar"+Math.floor(1e4*Math.random()),date:k()(this.state.transactionDate).format("MMM DD YYYY"),cost:"".concat(this.state.cost),POSAmount:"".concat(this.state.creditPaid),CashAmount:0,TransferAmount:0,CompDebit:0,roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod),description:"PoolBar Credit",department:"PoolBar Sales",docketDetails:this.state.selected,group:"".concat(this.state.group),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=10,fetch(xa,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)});case 10:s=e.sent,console.log("result5>  "+s);case 12:if("Cash"!==this.state.paymentMethod){e.next=18;break}return o={docketNum:"Bar"+Math.floor(1e4*Math.random()),date:k()(this.state.transactionDate).format("MMM DD YYYY"),cost:"".concat(this.state.cost),CashAmount:"".concat(this.state.creditPaid),POSAmount:0,TransferAmount:0,CompDebit:0,roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod),description:"PoolBar Credit",department:"PoolBar Sales",docketDetails:this.state.selected,group:"".concat(this.state.group),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=16,fetch(xa,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(o)});case 16:r=e.sent,console.log("result4>  "+r);case 18:if("Transfer"!==this.state.paymentMethod){e.next=24;break}return l={docketNum:"Bar"+Math.floor(1e4*Math.random()),date:k()(this.state.transactionDate).format("MMM DD YYYY"),cost:"".concat(this.state.cost),TransferAmount:"".concat(this.state.creditPaid),POSAmount:0,CashAmount:0,CompDebit:0,roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod),description:"PoolBar Credit",department:"PoolBar Sales",docketDetails:this.state.selected,group:"".concat(this.state.group),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=22,fetch(xa,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(l)});case 22:c=e.sent,console.log("result3>  "+c);case 24:alert("Credit Posted"),this.setState({creditSales:"",TotalCredit:0,creditPaid:0,TotalCreditPaid:0}),e.next=31;break;case 28:e.prev=28,e.t0=e.catch(0),console.log(e.t0);case 31:case"end":return e.stop()}},e,this,[[0,28]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleRoomSubmit2",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o,r,l,c,i=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=sessionStorage.getItem("tableNumber3"),a=sessionStorage.getItem("wtwrtid"),n={selected:[],billCost:"",tableNum:sessionStorage.getItem("tableNumber3")},s={_id:Math.floor(1e4*Math.random()),docketNum:"Bar"+Math.floor(1e4*Math.random()),refID:"".concat(this.state.guestInhouseID),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),cost:"".concat(this.state.cost),amountPaid:"".concat(this.state.amountPaid),roomDebit:"".concat(this.state.cost),POSAmount:0,CashAmount:0,TransferAmount:0,CompDebit:0,paymentMethod:"".concat(this.state.paymentMethod),roomNumbers:"".concat(this.state.roomNumbers),description:"Restaurant Docket",department:"Restaurant Sales",docketDetails:this.state.selected,group:"".concat(this.state.group),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=7,fetch("https://zarvichdemo.localto.net/bill",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(s)});case 7:return o=e.sent,console.log("result>  "+o),e.next=11,fetch(Ma,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(s)});case 11:return r=e.sent,console.log("result2>  "+r),e.next=15,fetch("".concat(Ra,"/").concat(t),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)});case 15:return l=e.sent,console.log("result14>  "+l),e.next=19,fetch("".concat(Ba,"/").concat(a),{method:"delete"});case 19:c=e.sent,console.log("wscdata>  "+c),this.getWT(),alert("Docket Posted to Room "+this.state.roomNumbers),this.setState({selected:[]}),this.setState({cost:0}),this.setState({amountPaid:""}),this.setState({displayRoomNums:""}),this.setState({roomNumbers:""}),this.setState({paymentMethod:""}),this.setState({displayPaymentMethods:""}),this.setState({group:""}),this.setState({NewtableNum:0,shift:"",Newmeal:"",Newprice:"",Newqty:0,Newid:""}),sessionStorage.removeItem("stockBal"),localStorage.removeItem("delcntrl"),localStorage.setItem("btnCntrl",!0),sessionStorage.removeItem("tableNumber"),fetch("".concat(Aa),{method:"GET"}).then(function(e){return e.json()}).then(function(e){i.setState({tables:e})}),e.next=42;break;case 39:e.prev=39,e.t0=e.catch(0),console.log(e.t0);case 42:case"end":return e.stop()}},e,this,[[0,39]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleRoomSubmit",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o,r,l,c,i=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=sessionStorage.getItem("tableNumber3"),a=sessionStorage.getItem("wtwrtid"),n={selected:[],billCost:"",tableNum:sessionStorage.getItem("tableNumber3")},s={_id:Math.floor(1e4*Math.random()),docketNum:"Bar"+Math.floor(1e4*Math.random()),refID:"".concat(this.state.guestInhouseID),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),cost:"".concat(this.state.cost),amountPaid:"".concat(this.state.amountPaid),roomDebit:"".concat(this.state.cost),POSAmount:0,CashAmount:0,TransferAmount:0,CompDebit:0,paymentMethod:"".concat(this.state.paymentMethod),roomNumbers:"".concat(this.state.roomNumbers),description:"PoolBar Docket",department:"PoolBar Sales",docketDetails:this.state.selected,group:"".concat(this.state.group),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=7,fetch("https://zarvichdemo.localto.net/bill",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(s)});case 7:return o=e.sent,console.log("result>  "+o),e.next=11,fetch(xa,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(s)});case 11:return r=e.sent,console.log("result2>  "+r),e.next=15,fetch("".concat(Ra,"/").concat(t),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)});case 15:return l=e.sent,console.log("result14>  "+l),e.next=19,fetch("".concat(Ba,"/").concat(a),{method:"delete"});case 19:c=e.sent,console.log("wscdata>  "+c),this.getWT(),alert("Docket Posted to Room "+this.state.roomNumbers),this.setState({selected:[]}),this.setState({cost:0}),this.setState({amountPaid:""}),this.setState({displayRoomNums:""}),this.setState({roomNumbers:""}),this.setState({paymentMethod:""}),this.setState({displayPaymentMethods:""}),this.setState({group:""}),this.setState({NewtableNum:0,shift:"",Newmeal:"",Newprice:"",Newqty:0,Newid:"",DrinkstoreData:[],DrinkSalesQtyData:[]}),sessionStorage.removeItem("stockBal"),localStorage.removeItem("delcntrl"),localStorage.setItem("btnCntrl",!0),sessionStorage.removeItem("tableNumber"),fetch("".concat(Ga),{method:"GET"}).then(function(e){return e.json()}).then(function(e){i.setState({DrinkstoreData:e})}),fetch("".concat(Aa),{method:"GET"}).then(function(e){return e.json()}).then(function(e){i.setState({tables:e})}),e.next=43;break;case 40:e.prev=40,e.t0=e.catch(0),console.log(e.t0);case 43:case"end":return e.stop()}},e,this,[[0,40]])}));return function(){return e.apply(this,arguments)}}()},{key:"logout",value:function(){localStorage.removeItem("userInfo"),this.setState({login:!0}),localStorage.removeItem("shift")}},{key:"renderTables",value:function(e){var t=this;if(e)return e.sort(function(e,t){return e.tableNum-t.tableNum}),e.map(function(e){return""===e.billCost?s.a.createElement("div",{key:e._id},s.a.createElement("button",{className:"btn btn-success cartBtn3 alignroomsgreen2",disabled:1===t.state.NewtableNum,onClick:function(){sessionStorage.setItem("tableNumber3",e.tableNum),t.handleGetWaitListOpenNew(),t.setState({docketFirst:0})}},s.a.createElement("p",{className:"texted"},e.tableNum))):s.a.createElement("div",{key:e._id},s.a.createElement("button",{className:"btn btn-warning cartBtn3 alignroomsgreen2",onClick:function(){sessionStorage.setItem("tableNumber3",e.tableNum),t.getTableP(),t.setState({print:1})}},s.a.createElement("p",{className:"texted"},e.tableNum)))})}},{key:"renderWaitersTables",value:function(e){var t=this;if(e)return e.sort(function(e,t){return e.tableNum-t.tableNum}),e.map(function(e){return""!==e.billCost||0!==e.billCost?s.a.createElement("div",{key:e._id},s.a.createElement("button",{className:"btn btn-warning cartBtn3 alignroomsgreen2",onClick:function(){sessionStorage.setItem("wtwrtid",e._id),t.getTablewrtW(),t.setState({print:1})}},s.a.createElement("p",{className:"texted"},e.tableNum))):null})}},{key:"renderPayMeth",value:function(e){if(e)return e.map(function(e,t){return s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{key:t,value:e.method},e.method))})}},{key:"renderRooms",value:function(e){if(e)return e.sort(function(e,t){return e.roomNumbers-t.roomNumbers}),e.map(function(e,t){return s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{key:t,value:e.roomNumbers},e.roomNumbers," - ",e.fname," ",e.lname))})}},{key:"renderWaitersList",value:function(e){if(e)return e.map(function(e,t){return s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{key:t,value:e.FirstName},e.FirstName," ",e.LastName))})}},{key:"addMeal",value:function(){var e=this;this.state.menulist.map(function(t){return e.setState({Newmeal:t.mealName,Newprice:t.mealPrice,Newqty:parseInt(t.mealQt),Newid:t._id}),"ok"})}},{key:"RestaurantaddMeal",value:function(){var e=this;this.state.Restmenulist.map(function(t){return e.setState({Newmeal:t.mealName,Newprice:t.mealPrice,Newqty:parseInt(t.mealQt),Newid:t._id}),"ok"})}},{key:"increament",value:function(){0!==this.state.Newqty&&this.setState({Newqty:this.state.Newqty+1})}},{key:"decreament",value:function(){0!==this.state.Newqty&&this.setState({Newqty:this.state.Newqty-1})}},{key:"pushorder",value:function(){var e=this;this.pushToPrinter();var t=this.state.selected,a={};this.state.selected.length>0?(this.setState({blockTable:1}),a.id=this.state.Newid,a.meal=this.state.Newmeal,a.mealPrice=this.state.Newprice,a.qty=this.state.Newqty,a.tranID=Math.floor(1e4*Math.random()),t.push(a),this.setState({selected:t,printStop:0,DrinkStore:0,DrinkSalesQty:0,stockBal:0,Newmeal:"",Newprice:"",Newqty:0,Newid:""})):0===this.state.selected.length&&(this.setState({blockTable:0}),a.id=this.state.Newid,a.meal=this.state.Newmeal,a.mealPrice=this.state.Newprice,a.qty=this.state.Newqty,a.tranID=Math.floor(1e4*Math.random()),t.push(a),this.setState({selected:t,Newmeal:"",Newprice:"",Newqty:0,Newid:"",printStop:0,DrinkStore:0,DrinkSalesQty:0,stockBal:0})),this.myTimer=setTimeout(function(){if(e.state.selected.length>0){var a=t.reduce(function(e,t){return e+t.mealPrice*t.qty},0);e.setState({cost:a})}0!==e.state.cost&&(fetch("".concat(Oa),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({displayRoomNums:t})}),fetch("".concat(Pa),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({displayPaymentMethods:t})}),localStorage.removeItem("delcntrl"))},1e3)}},{key:"pushToPrinter",value:function(){var e=this.state.printSelection,t={};t.id=this.state.Newid,t.meal=this.state.Newmeal,t.mealPrice=this.state.Newprice,t.qty=this.state.Newqty,t.tranID=Math.floor(1e4*Math.random()),e.push(t)}},{key:"renderMenu",value:function(e){var t=this;if(e)return e.map(function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("div",{className:"card alignroomsgreen3",style:{backgroundColor:"orangered"},key:e.mealTypeID},s.a.createElement("button",{className:"btn btn-orangered buttnheightbtn",onMouseOver:function(){return sessionStorage.setItem("meal",e.mealName)},onClick:function(){t.setState({Newmeal:e.mealName,Newprice:e.mealPrice,Newqty:parseInt(e.mealQt),Newid:e._id,tranID2:Math.floor(1e4*Math.random())}),t.handleStock()}},s.a.createElement("p",{className:"card-title formatnew2"},e.mealName))))))})}},{key:"renderRestaurant",value:function(e){var t=this;if(e)return e.map(function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("div",{className:"card alignroomsgreen3",style:{backgroundColor:"orangered"},key:e.mealTypeID},s.a.createElement("button",{className:"btn btn-orangered buttnheightbtn",onMouseOver:function(){return sessionStorage.setItem("meal",e.mealName)},onClick:function(){t.setState({Newmeal:e.mealName,Newprice:e.mealPrice,Newqty:parseInt(e.mealQt),Newid:e._id,tranID2:Math.floor(1e4*Math.random())}),t.handleStock()}},s.a.createElement("p",{className:"card-title formatnew2"},e.mealName))))))})}},{key:"renderRestaurantPos",value:function(e){var t=this;if(e)return e.map(function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("div",{className:"card alignroomsgreen3",style:{backgroundColor:"blueviolet"},key:e.mealTypeID},s.a.createElement("button",{className:"btn btn-blueviolet buttnheightbtn",onMouseOver:function(){return t.setState({menuID:e.mealTypeID})},onClick:function(){return t.RestbuttonClick()}},s.a.createElement("p",{className:"card-title formatnew2"},e.mealType))))))})}},{key:"getWT",value:function(){var e=this,t=sessionStorage.getItem("waitersTabNum");fetch("".concat("https://zarvichdemo.localto.net/poolbarWaitersTable?waitersName=").concat(t),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({waiterTableData:t})}),this.myTimer=setInterval(function(){e.showWaitrsTab()},1e3),this.getWSC()}},{key:"renderWaitersData",value:function(e){var t=this;if(e)return e.map(function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("div",{className:"card alignroomsgreen3",style:{backgroundColor:"orangered"},key:e._id},s.a.createElement("button",{className:"btn btn-orangered buttnheightbtn",onMouseOver:function(){sessionStorage.setItem("waitersTabNum",e.FirstName)},onClick:function(){t.getWT()}},s.a.createElement("p",{className:"card-title formatnew2"},e.FirstName))))))})}},{key:"renderOders",value:function(e){if(e)return e.map(function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:e.id},s.a.createElement("td",{className:"texted8NwDescr"},e.meal),s.a.createElement("td",{className:"texted8NwQty"},e.qty),s.a.createElement("td",{className:"texted8NwPri"},s.a.createElement(E.a,{value:e.mealPrice,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"texted8NwPri"},s.a.createElement(E.a,{value:e.mealPrice*e.qty,thousandSeparator:!0,displayType:"text"}))))})}},{key:"renderSalesReport",value:function(e){if(e)return e.map(function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:e.id},s.a.createElement("td",{className:"table-light table-striped adjust texted8"},e.productName),s.a.createElement("td",{className:"table-light table-striped adjust texted8"},e.Quantity),s.a.createElement("td",{className:"table-light table-striped adjust texted8"},s.a.createElement(E.a,{value:e.productPrice,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust texted8"},s.a.createElement(E.a,{value:e.productPrice*e.Quantity,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust texted8"}," ")))})}},{key:"renderPos",value:function(e){var t=this;if(e)return e.map(function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("div",{className:"card alignroomsgreen3",style:{backgroundColor:"blueviolet"},key:e.mealTypeID},s.a.createElement("button",{className:"btn btn-blueviolet buttnheightbtn",onMouseOver:function(){return t.setState({menuID:e.mealTypeID})},onClick:function(){return t.buttonClick()}},s.a.createElement("p",{className:"card-title formatnew2"},e.mealType))))))})}},{key:"render",value:function(){var e=this;console.log(">>> Inside RESrender",this.state);var t=k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),a="Bar"+Math.floor(1e4*Math.random()),n=this.state.amountPaid;return""===this.state.amountPaid&&(n=0),null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement(Je,null)):s.a.createElement("div",{className:"posterminal"},s.a.createElement("br",null),s.a.createElement("div",{className:"row quantity displayback"},s.a.createElement("center",null,s.a.createElement("h6",{style:{color:"white"}},"Add Quantity")),s.a.createElement("div",null,s.a.createElement("div",{className:"row"},s.a.createElement("p",{className:"prices"},"Price: ",this.state.Newprice),s.a.createElement("p",{className:"prices2"},"Avail.Stock: ",this.state.stockBal),s.a.createElement("span",{className:"dcrbtn"},s.a.createElement("button",{className:"form-control mb-3 formsizeX1",onClick:function(){return e.decreament()}},s.a.createElement("p",{className:"sign"},"-"))),s.a.createElement("span",{className:"qtybtn"},s.a.createElement("input",{type:"number",className:"form-control2 mb-3 formsizeX",style:{textAlign:"center",fontStyle:"bold",color:"white",fontSize:"24px"},name:"Newqty",value:this.state.Newqty,onChange:this.handleChange3})),s.a.createElement("span",{className:"incbtn"},s.a.createElement("button",{className:"form-control mb-3 formsizeX1",onClick:function(){return e.increament()}},s.a.createElement("p",{className:"sign"},"+"))),s.a.createElement("div",{className:this.state.showPoolPos},s.a.createElement("button",{className:"btn btn-warning addbtn ",disabled:0===this.state.Newqty||0===this.state.stockBal,onClick:function(){e.pushorder(),e.setState({docketFirst:1})}},this.state.Stockbtn)),s.a.createElement("div",{className:this.state.showRestaurant},s.a.createElement("button",{className:"btn btn-warning addbtn",disabled:0===this.state.Newqty,onClick:function(){e.pushorder(),e.setState({docketFirst:1})}},"Add"))))),s.a.createElement("div",{className:"salesTable displayback"},s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust2"},"Menu"),s.a.createElement("th",{className:"adjust2"},"Qty"),s.a.createElement("th",{className:"adjust2"},"Price(=N)"),s.a.createElement("th",{className:"adjust2"},"Amount(=N)"))),s.a.createElement("tbody",{className:"table table-hover tableheight"},this.renderOders(this.state.selected)))),s.a.createElement("div",{className:"amountP displayback"},s.a.createElement("input",{type:"text",className:"form-control mb-3 formsizeA1 textedM",name:"amountPaid",require:!0,placeholder:"Enter Payment",value:this.state.amountPaid,onChange:this.handleChange})),s.a.createElement("div",{className:"method displayback"},s.a.createElement("select",{className:"form-select formsizeA1 textedM",name:"paymentMethod",onChange:this.handleChange},s.a.createElement("option",{selected:!0,value:""},"Payment Method"),this.renderPayMeth(this.state.displayPaymentMethods))),s.a.createElement("button",{disabled:0===this.state.cost||""===this.state.amountPaid||"Complimentary"===this.state.paymentMethod||1===this.state.docketFirst,className:"btn btn-primary cartBtn2 method222",onClick:function(){e.onOpenSplit(),e.postQty()}},s.a.createElement("p",{className:"texted"},"Split")),s.a.createElement("div",{className:"textAmount displayback"},s.a.createElement("p",{className:"fmtcost2",style:{color:"white"}},"Total: ",s.a.createElement(E.a,{value:this.state.cost,thousandSeparator:!0,displayType:"text"}),".00")),s.a.createElement("div",{className:"textAmount2 displayback"},s.a.createElement("p",{className:"fmtcost2",style:{color:"white"}},"Bal: ",s.a.createElement(E.a,{value:this.state.cost-parseFloat(n),thousandSeparator:!0,displayType:"text"}),".00")),s.a.createElement("div",{className:"operations displayback"},s.a.createElement("h4",{className:"texted4",style:{color:"white"}},"Operations"),s.a.createElement("button",{disabled:localStorage.getItem("delcntrl"),className:"btn btn-primary cartBtn2",onClick:function(){e.removeAll(),e.setState({docketFirst:0})}},s.a.createElement("p",{className:"texted"},"Delete")),s.a.createElement("button",{disabled:0===this.state.cost||""===this.state.amountPaid||this.state.amountPaid<this.state.cost||this.state.amountPaid>this.state.cost||""===this.state.paymentMethod||"Complimentary"===this.state.paymentMethod||1===this.state.docketFirst||0==this.state.posting,className:"btn btn-primary cartBtn2jjj",onClick:function(){e.onOpenModalreceipt(),e.postQty()}},s.a.createElement("p",{className:"texted"},"Post Drinks")),s.a.createElement("button",{disabled:0===this.state.cost||""===this.state.amountPaid||this.state.amountPaid<this.state.cost||this.state.amountPaid>this.state.cost||""===this.state.paymentMethod||"Complimentary"===this.state.paymentMethod||1===this.state.docketFirst||0==this.state.posting,className:"btn btn-primary cartBtn2jjj placerestbutton ",onClick:function(){e.onOpenRestModalreceipt2()}},s.a.createElement("p",{className:"texted"},"Post Food")),s.a.createElement("select",{type:"button",disabled:1===this.state.docketFirst,className:"form-select formsizeB mb-2 btn btn-primary texted",name:"roomNumbers",onChange:this.handleChange2},s.a.createElement("option",{selected:!0,value:""},"Rooms"),this.renderRooms(this.state.displayRoomNums)),s.a.createElement("button",{disabled:""===this.state.roomNumbers||""!==this.state.amountPaid||1===this.state.docketFirst||0==this.state.posting,className:"btn btn-primary cartBtn4444",onClick:function(){e.onOpenCompModal(),e.postQty()}},s.a.createElement("p",{className:"texted"},"Room Drinks Post")),s.a.createElement("button",{disabled:""===this.state.roomNumbers||""!==this.state.amountPaid||1===this.state.docketFirst||0==this.state.posting,className:"btn btn-primary cartBtn4444",onClick:function(){e.onOpenCompRestRoomModal(),e.postQty()}},s.a.createElement("p",{className:"texted"},"Room Food Post")),s.a.createElement("button",{disabled:"Complimentary"!==this.state.paymentMethod||""!==this.state.amountPaid||1===this.state.docketFirst,className:"btn btn-primary cartBtn2",onClick:function(){e.onOpenModalreceipt(),e.postQty()}},s.a.createElement("p",{className:"texted"},"Comp")),s.a.createElement("button",{disabled:1===this.state.docketFirst,className:"btn btn-primary cartBtn2x2",onClick:function(){e.handleReport()}},s.a.createElement("p",{className:"texted"},"Reports")),s.a.createElement("button",{disabled:localStorage.getItem("btnCntrl"),className:"btn btn-warning cartBtn12aaaa",onClick:function(){e.handleGetWaitListOpen(),e.setState({NewtableNum:0})}},s.a.createElement("p",{className:"texted"},"Add to Table ",sessionStorage.getItem("tableNumber3"))),s.a.createElement("button",{className:"btn btn-danger cartBtn20bbbb",onClick:function(){return e.logout()}},s.a.createElement("p",{className:"texted"},"Log Out ",localStorage.getItem("userInfo").split(" ")[0])),s.a.createElement("button",{className:"btn btn-primary cartBtn112",onClick:function(){e.handleWaitersOpen()}},s.a.createElement("p",{className:"texted"},"Register Waiters")),s.a.createElement("button",{className:"btn btn-warning cartBtn112aa",onClick:function(){return e.handleRemoveWaiters()}},s.a.createElement("p",{className:"texted"},"Remove Waiters")),s.a.createElement("button",{disabled:0===this.state.selected.length,className:"btn btn-warning setdktprnt",onClick:function(){e.onOpenModaltoprint2(),localStorage.setItem("delcntrl",!0)}},s.a.createElement("p",{className:"texted"},"Prnt Docket")),s.a.createElement("div",{className:this.state.toggle},s.a.createElement("button",{className:"btn btn-danger cartBtn112xxx",onClick:function(){e.showAllTab2()}},s.a.createElement("p",{className:"texted"},"Goto Sales"))),s.a.createElement("div",{className:this.state.toggle},s.a.createElement("button",{className:"btn btn-warning cartBtn112xxx2",onClick:function(){e.showAllTab2()}},s.a.createElement("p",null,"Total: ",s.a.createElement(E.a,{value:this.state.waitersCost-parseFloat(n),thousandSeparator:!0,displayType:"text"}),".00")))),s.a.createElement("div",{className:this.state.showSalesTable},s.a.createElement("div",{className:"tables displayback"},s.a.createElement("h5",{className:"texted2",style:{color:"white"}},"Get Table"),s.a.createElement("h5",{className:"texted2",style:{color:"yellow"}},"Work Date: ",t),s.a.createElement("div",null,this.renderTables(this.state.tables)),s.a.createElement("h6",{style:{color:"silver",textAlign:"right"}},"PoolBar App"),s.a.createElement("button",{className:"btn btn-danger texted",onClick:function(){e.props.history.push("/Dashboard")}},"Goto Dashboard"))),s.a.createElement("div",{className:this.state.showWaitersTable},s.a.createElement("div",{className:"tables displayback"},s.a.createElement("h5",{className:"texted2",style:{color:"white"}},"Get Table"),s.a.createElement("h5",{className:"texted2",style:{color:"yellow"}},"Work Date: ",t),s.a.createElement("div",null,this.renderWaitersTables(this.state.waiterTableData)),s.a.createElement("h6",{style:{color:"silver",textAlign:"right"}},"PoolBar App"),s.a.createElement("button",{className:"btn btn-danger texted",onClick:function(){e.props.history.push("/Dashboard")}},"Goto Dashboard"))),s.a.createElement("div",{className:this.state.showPoolPos},s.a.createElement("div",{className:"mainmenu displayback"},this.renderPos(this.state.menu))),s.a.createElement("div",{className:this.state.showPoolBar},s.a.createElement("div",{className:"menulistItems displayback"},this.renderMenu(this.state.menulist))),s.a.createElement("div",{className:this.state.showRestaurant},s.a.createElement("div",{className:"RestmenulistItems displayback"},this.renderRestaurant(this.state.Restmenulist))),s.a.createElement("div",{className:this.state.showRestaurantPos},s.a.createElement("div",{className:"mainmenu displayback"},this.renderRestaurantPos(this.state.RestMenu))),s.a.createElement("div",{className:"waitersData displayback"},this.renderWaitersData(this.state.WaitersData)),s.a.createElement("div",{className:"RestaurantData displayback"},s.a.createElement("button",{className:"btn btn-primary",onClick:function(){e.showRest()}},"Restaurant Menu")),s.a.createElement("div",{className:"PoolData displayback"},s.a.createElement("button",{className:"btn btn-primary",onClick:function(){e.showPool()}},"Pool Bar Menu")),s.a.createElement(v.a,{open:this.state.edit},s.a.createElement("div",{className:"papersizeNew"},s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized",style:{fontWeight:"bold",fontSize:"14px"}},this.state.Hotelname),s.a.createElement("p",{className:"textSized mb-3"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSizedNumber"},"+234 802 288 8776"),s.a.createElement("hr",null),s.a.createElement("p",{className:"textSized",style:{fontWeight:"bold",fontSize:"14px"}},"Pool Bar Docket"),s.a.createElement("p",{className:"textSized"},"Date: ",t),s.a.createElement("p",{className:"textSized mb-3"},"Docket Num: ",a)),s.a.createElement("hr",null),s.a.createElement("table",{className:"tableSettingsNow"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust2Nwrest"},"Menu"),s.a.createElement("th",{className:"adjust2Nwrest"},"Qty"),s.a.createElement("th",{className:"adjust2Nwrest"},"Rate"),s.a.createElement("th",{className:"adjust2Nwrest"},"Amt"))),s.a.createElement("tbody",{className:"tableSettingsNow"},this.renderOders(this.state.printSelection))),s.a.createElement("hr",null),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Total:",s.a.createElement(E.a,{value:this.state.cost,thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Amount Paid:",s.a.createElement(E.a,{value:n,thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Bal: ",s.a.createElement(E.a,{value:this.state.cost-parseFloat(n),thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Payment Method: ",this.state.paymentMethod),s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized"},"Waiter: ",this.state.findWaiter),s.a.createElement("p",{className:"textSized"},"Supervisor: ",localStorage.getItem("userInfo")),s.a.createElement("p",{style:{fontSize:"13px",fontWeight:"bold"}},"THANK YOU"),s.a.createElement("div",{className:"printing"},s.a.createElement("button",{className:this.state.shiftcolor,onClick:function(){e.sendtoprinter2()}},s.a.createElement("p",{className:"texted"},this.state.printBTN)))))),s.a.createElement(v.a,{open:this.state.edit2},s.a.createElement("div",{className:"papersizeNew"},s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized",style:{fontWeight:"bold",fontSize:"14px"}},this.state.Hotelname),s.a.createElement("p",{className:"textSized mb-3"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSizedNumber"},"+234 802 288 8776"),s.a.createElement("hr",null),s.a.createElement("p",{className:"textSized",style:{fontWeight:"bold",fontSize:"14px"}},"Pool Bar Docket"),s.a.createElement("p",{className:"textSized"},"Date: ",t),s.a.createElement("p",{className:"textSized mb-3"},"Docket Num: ",a)),s.a.createElement("hr",null),s.a.createElement("table",{className:"tableSettingsNow"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust2Nwrest"},"Menu"),s.a.createElement("th",{className:"adjust2Nwrest"},"Qty"),s.a.createElement("th",{className:"adjust2Nwrest"},"Rate"),s.a.createElement("th",{className:"adjust2Nwrest"},"Amt"))),s.a.createElement("tbody",{className:"tableSettingsNow"},this.renderOders(this.state.selected))),s.a.createElement("hr",null),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Total:",s.a.createElement(E.a,{value:this.state.cost,thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Amount Paid:",s.a.createElement(E.a,{value:n,thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Bal: ",s.a.createElement(E.a,{value:this.state.cost-parseFloat(n),thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Payment Method: ",this.state.paymentMethod),s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized"},"Waiter: ",this.state.findWaiter),s.a.createElement("p",{className:"textSized"},"Supervisor: ",localStorage.getItem("userInfo")),s.a.createElement("p",{style:{fontSize:"13px",fontWeight:"bold"}},"THANK YOU"),s.a.createElement("div",{className:"printing"},s.a.createElement("button",{className:this.state.shiftcolor,onClick:function(){e.sendtoprinterNew()}},s.a.createElement("p",{className:"texted"},this.state.printBTN)))))),s.a.createElement(v.a,{open:this.state.pword,onClose:function(){return e.onClosePword()},center:!0},s.a.createElement("div",null,s.a.createElement("div",{className:"formdesign152"},s.a.createElement("h6",{className:"mb-3"},"Access Required"),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("input",{type:"password",autoComplete:"off",className:"form-control mb-3 formsize51",name:"pass",require:!0,placeholder:"Enter Access Code",value:this.state.pass,onChange:this.handleChange}),s.a.createElement("button",{disabled:""===this.state.pass,className:"btn btn-warning formsize91",onClick:function(){return e.AllowRefund()}},"Login")))))),s.a.createElement(v.a,{open:this.state.waiters,onClose:function(){return e.handleWaitersClose()},center:!0},s.a.createElement("div",null,s.a.createElement("div",{className:"formdesign152"},s.a.createElement("h6",{className:"mb-3"},"Register A Waiter"),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("input",{type:"text",autoComplete:"off",className:"form-control mb-3 formsize51",name:"waitersFName",require:!0,placeholder:"Enter First Name",value:this.state.waitersFName,onChange:this.handleChange}),s.a.createElement("input",{type:"text",autoComplete:"off",className:"form-control mb-3 formsize51",name:"waiterLName",require:!0,placeholder:"Enter Last Name",value:this.state.waiterLName,onChange:this.handleChange}),s.a.createElement("button",{disabled:this.state.waitersFName&&""===this.state.waiterLName,className:"btn btn-warning formsize91",onClick:function(){return e.handleWaiters()}},"Register")))))),s.a.createElement(v.a,{open:this.state.selectWaiter,onClose:function(){return e.handleGetWaitListClose()},center:!0},s.a.createElement("div",null,s.a.createElement("div",{className:"formdesign152"},s.a.createElement("h6",{className:"mb-3"},"Select A Waiter"),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("select",{type:"button",className:"form-select mb-2 btn btn-primary",name:"findWaiter",onChange:this.handleChange},s.a.createElement("option",{selected:!0,value:""},"Click to Select"),this.renderWaitersList(this.state.LoadWaiters)),s.a.createElement("button",{disabled:""===this.state.LoadWaiters,className:"btn btn-warning formsize91",onClick:function(){return e.addToTable()}},"Post")))))),s.a.createElement(v.a,{open:this.state.selectWaiterNew,onClose:function(){return e.handleGetWaitListCloseNew()},center:!0},s.a.createElement("div",null,s.a.createElement("div",{className:"formdesign152"},s.a.createElement("h6",{className:"mb-3"},"Select A Waiter"),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("select",{type:"button",className:"form-select btn mb-2 btn-primary",name:"findWaiter",onChange:this.handleChange},s.a.createElement("option",{selected:!0,value:""},"Click to Select"),this.renderWaitersList(this.state.LoadWaiters)),s.a.createElement("button",{disabled:""===this.state.LoadWaiters,className:"btn btn-warning formsize91",onClick:function(){return e.NewTable()}},"Post")))))),s.a.createElement(v.a,{open:this.state.split,center:!0},s.a.createElement("div",null,s.a.createElement("div",{className:"formdesign152"},s.a.createElement("h6",{className:"mb-3"},"Split Payment"),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("div",{className:"displayback"},s.a.createElement("p",null,"Total: ",s.a.createElement(E.a,{value:this.state.cost,thousandSeparator:!0,displayType:"text"}),".00")),s.a.createElement("div",{className:"displayback"},s.a.createElement("p",null,"Bal: ",s.a.createElement(E.a,{value:this.state.cost-this.state.splitBal-parseFloat(n),thousandSeparator:!0,displayType:"text"}),".00")),s.a.createElement("div",{className:"displayback"},s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize51",name:"amountPaid",require:!0,placeholder:"Enter Payment",value:this.state.amountPaid,onChange:this.handleChangeComp})),s.a.createElement("select",{type:"button",className:"form-select mb-2 btn btn-primary",name:"paymentMethod",onChange:this.handleChange},s.a.createElement("option",{selected:!0,value:""},"Payment Method"),this.renderPayMeth(this.state.displayPaymentMethods)),s.a.createElement("button",{disabled:""===this.state.paymentMethod,className:"btn btn-warning formsize91",onClick:function(){return e.onOpenModalsplitreceipt()}},"Post Drinks"),s.a.createElement("button",{disabled:""===this.state.paymentMethod,className:"btn btn-warning formsize91",onClick:function(){return e.onOpenRestModalreceipt()}},"Post Food"),s.a.createElement("button",{disabled:this.state.cost-this.state.splitBal-parseFloat(n)!==0,className:"btn btn-warning formsize91",onClick:function(){return e.onCloseSplit()}},"Close")))))),s.a.createElement(v.a,{open:this.state.editsplitreceipt,onClose:function(){e.onCloseModalsplitreceipt(),e.handleSplitSubmit()}},s.a.createElement("div",{className:"papersizeNew"},s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized",style:{fontWeight:"bold",fontSize:"14px"}},this.state.Hotelname),s.a.createElement("p",{className:"textSized mb-3"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSizedNumber"},"+234 802 288 8776"),s.a.createElement("hr",null),s.a.createElement("p",{className:"textSized",style:{fontWeight:"bold",fontSize:"14px"}},"Pool Bar Receipt"),s.a.createElement("p",{className:"textSized"},"Date: ",t),s.a.createElement("p",{className:"textSized mb-3"},"Docket Num: ",a)),s.a.createElement("hr",null),s.a.createElement("table",{className:"tableSettingsNow"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust2Nwrest",style:{fontSize:"10px"}},"Menu"),s.a.createElement("th",{className:"adjust2Nwrest",style:{fontSize:"10px"}},"Qty"),s.a.createElement("th",{className:"adjust2Nwrest",style:{fontSize:"10px"}},"Rate"),s.a.createElement("th",{className:"adjust2Nwrest",style:{fontSize:"10px"}},"Amt"))),s.a.createElement("tbody",{className:"tableSettingsNow"},this.renderOders(this.state.selected))),s.a.createElement("hr",null),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Total: ",s.a.createElement(E.a,{value:this.state.cost,thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Amount Paid: ",s.a.createElement(E.a,{value:n,thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Bal: ",s.a.createElement(E.a,{value:this.state.cost-parseFloat(n),thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Payment Method: ",this.state.paymentMethod),s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized"},"Prepared By: ",localStorage.getItem("userInfo")),s.a.createElement("p",{className:"textSized"},"Shift: ",localStorage.getItem("shift")),s.a.createElement("p",{style:{fontSize:"13px",fontWeight:"bold"}},"THANK YOU"),s.a.createElement("div",{className:"printing"},s.a.createElement("button",{className:this.state.shiftcolor,onClick:function(){e.sendtoprinter()}},s.a.createElement("p",{className:"texted"},"Print")),s.a.createElement("button",{className:this.state.shiftcolor,onClick:function(){e.onCloseModalsplitreceipt(),e.handleSplitSubmit()}},s.a.createElement("p",{className:"texted"},"Close")))))),s.a.createElement(v.a,{open:this.state.Resteditreceipt,onClose:function(){e.onCloseRestModalreceipt(),e.handleRestSubmit()}},s.a.createElement("div",{className:"papersizeNew"},s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized",style:{fontWeight:"bold",fontSize:"14px"}},this.state.Hotelname),s.a.createElement("p",{className:"textSized mb-3"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSizedNumber"},"+234 802 288 8776"),s.a.createElement("hr",null),s.a.createElement("p",{className:"textSized",style:{fontWeight:"bold",fontSize:"14px"}},"Pool Bar Food Receipt"),s.a.createElement("p",{className:"textSized"},"Date: ",t),s.a.createElement("p",{className:"textSized mb-3"},"Docket Num: ",a)),s.a.createElement("hr",null),s.a.createElement("table",{className:"tableSettingsNow"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust2Nwrest",style:{fontSize:"10px"}},"Menu"),s.a.createElement("th",{className:"adjust2Nwrest",style:{fontSize:"10px"}},"Qty"),s.a.createElement("th",{className:"adjust2Nwrest",style:{fontSize:"10px"}},"Rate"),s.a.createElement("th",{className:"adjust2Nwrest",style:{fontSize:"10px"}},"Amt"))),s.a.createElement("tbody",{className:"tableSettingsNow"},this.renderOders(this.state.selected))),s.a.createElement("hr",null),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Total: ",s.a.createElement(E.a,{value:this.state.cost,thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Amount Paid: ",s.a.createElement(E.a,{value:n,thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Bal: ",s.a.createElement(E.a,{value:this.state.cost-parseFloat(n),thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Payment Method: ",this.state.paymentMethod),s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized"},"Prepared By: ",localStorage.getItem("userInfo")),s.a.createElement("p",{className:"textSized"},"Shift: ",localStorage.getItem("shift")),s.a.createElement("p",{style:{fontSize:"13px",fontWeight:"bold"}},"THANK YOU"),s.a.createElement("div",{className:"printing"},s.a.createElement("button",{className:this.state.shiftcolor,onClick:function(){e.sendtoprinter()}},s.a.createElement("p",{className:"texted"},"Print")),s.a.createElement("button",{className:this.state.shiftcolor,onClick:function(){e.onCloseRestModalreceipt(),e.handleRestSubmit()}},s.a.createElement("p",{className:"texted"},"Close")))))),s.a.createElement(v.a,{open:this.state.Resteditreceipt2,onClose:function(){e.onCloseRestModalreceipt(),e.handleRestSubmit2()}},s.a.createElement("div",{className:"papersizeNew"},s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized",style:{fontWeight:"bold",fontSize:"14px"}},this.state.Hotelname),s.a.createElement("p",{className:"textSized mb-3"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSizedNumber"},"+234 802 288 8776"),s.a.createElement("hr",null),s.a.createElement("p",{className:"textSized",style:{fontWeight:"bold",fontSize:"14px"}},"Pool Bar Food Receipt"),s.a.createElement("p",{className:"textSized"},"Date: ",t),s.a.createElement("p",{className:"textSized mb-3"},"Docket Num: ",a)),s.a.createElement("hr",null),s.a.createElement("table",{className:"tableSettingsNow"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust2Nwrest",style:{fontSize:"10px"}},"Menu"),s.a.createElement("th",{className:"adjust2Nwrest",style:{fontSize:"10px"}},"Qty"),s.a.createElement("th",{className:"adjust2Nwrest",style:{fontSize:"10px"}},"Rate"),s.a.createElement("th",{className:"adjust2Nwrest",style:{fontSize:"10px"}},"Amt"))),s.a.createElement("tbody",{className:"tableSettingsNow"},this.renderOders(this.state.selected))),s.a.createElement("hr",null),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Total: ",s.a.createElement(E.a,{value:this.state.cost,thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Amount Paid: ",s.a.createElement(E.a,{value:n,thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Bal: ",s.a.createElement(E.a,{value:this.state.cost-parseFloat(n),thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Payment Method: ",this.state.paymentMethod),s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized"},"Prepared By: ",localStorage.getItem("userInfo")),s.a.createElement("p",{className:"textSized"},"Shift: ",localStorage.getItem("shift")),s.a.createElement("p",{style:{fontSize:"13px",fontWeight:"bold"}},"THANK YOU"),s.a.createElement("div",{className:"printing"},s.a.createElement("button",{className:this.state.shiftcolor,onClick:function(){e.sendtoprinter()}},s.a.createElement("p",{className:"texted"},"Print")),s.a.createElement("button",{className:this.state.shiftcolor,onClick:function(){e.onCloseRestModalreceipt2(),e.handleRestSubmit2()}},s.a.createElement("p",{className:"texted"},"Close")))))),s.a.createElement(v.a,{open:this.state.editreceipt,onClose:function(){e.onCloseModalreceipt(),e.handleSubmit()}},s.a.createElement("div",{className:"papersizeNew"},s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized",style:{fontWeight:"bold",fontSize:"14px"}},this.state.Hotelname),s.a.createElement("p",{className:"textSized mb-3"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSizedNumber"},"+234 802 288 8776"),s.a.createElement("hr",null),s.a.createElement("p",{className:"textSized",style:{fontWeight:"bold",fontSize:"14px"}},"Pool Bar Receipt"),s.a.createElement("p",{className:"textSized"},"Date: ",t),s.a.createElement("p",{className:"textSized mb-3"},"Docket Num: ",a)),s.a.createElement("hr",null),s.a.createElement("table",{className:"tableSettingsNow"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust2Nwrest",style:{fontSize:"10px"}},"Menu"),s.a.createElement("th",{className:"adjust2Nwrest",style:{fontSize:"10px"}},"Qty"),s.a.createElement("th",{className:"adjust2Nwrest",style:{fontSize:"10px"}},"Rate"),s.a.createElement("th",{className:"adjust2Nwrest",style:{fontSize:"10px"}},"Amt"))),s.a.createElement("tbody",{className:"tableSettingsNow"},this.renderOders(this.state.selected))),s.a.createElement("hr",null),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Total: ",s.a.createElement(E.a,{value:this.state.cost,thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Amount Paid: ",s.a.createElement(E.a,{value:n,thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Bal: ",s.a.createElement(E.a,{value:this.state.cost-parseFloat(n),thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Payment Method: ",this.state.paymentMethod),s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized"},"Prepared By: ",localStorage.getItem("userInfo")),s.a.createElement("p",{className:"textSized"},"Shift: ",localStorage.getItem("shift")),s.a.createElement("p",{style:{fontSize:"13px",fontWeight:"bold"}},"THANK YOU"),s.a.createElement("div",{className:"printing"},s.a.createElement("button",{className:this.state.shiftcolor,onClick:function(){e.sendtoprinter()}},s.a.createElement("p",{className:"texted"},"Print")),s.a.createElement("button",{className:this.state.shiftcolor,onClick:function(){e.onCloseModalreceipt(),e.handleSubmit()}},s.a.createElement("p",{className:"texted"},"Close")))))),s.a.createElement(v.a,{open:this.state.compModal,onClose:function(){e.onCloseCompModal(),e.handleRoomSubmit()}},s.a.createElement("div",{className:"papersizeNew"},s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized",style:{fontWeight:"bold",fontSize:"14px"}},this.state.Hotelname),s.a.createElement("p",{className:"textSized mb-3"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSizedNumber"},"+234 802 288 8776"),s.a.createElement("hr",null),s.a.createElement("p",{className:"textSized",style:{fontWeight:"bold",fontSize:"14px"}},"Pool Bar Docket"),s.a.createElement("p",{className:"textSized"},"Date: ",t),s.a.createElement("p",{className:"textSized mb-3"},"Docket Num: ",a)),s.a.createElement("hr",null),s.a.createElement("table",{className:"tableSettingsNow"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust2Nwrest",style:{fontSize:"10px"}},"Menu"),s.a.createElement("th",{className:"adjust2Nwrest",style:{fontSize:"10px"}},"Qty"),s.a.createElement("th",{className:"adjust2Nwrest",style:{fontSize:"10px"}},"Rate"),s.a.createElement("th",{className:"adjust2Nwrest",style:{fontSize:"10px"}},"Amt"))),s.a.createElement("tbody",{className:"tableSettingsNow"},this.renderOders(this.state.selected))),s.a.createElement("hr",null),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Total: ",s.a.createElement(E.a,{value:this.state.cost,thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Amount Paid: ",s.a.createElement(E.a,{value:n,thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Bal: ",s.a.createElement(E.a,{value:this.state.cost-parseFloat(n),thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Payment Method: ",this.state.paymentMethod),s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized"},"Prepared By: ",localStorage.getItem("userInfo")),s.a.createElement("p",{className:"textSized"},"Shift: ",localStorage.getItem("shift")),s.a.createElement("p",{style:{fontSize:"13px",fontWeight:"bold"}},"THANK YOU"),s.a.createElement("div",{className:"printing"},s.a.createElement("button",{className:this.state.shiftcolor,onClick:function(){e.sendtoprinter()}},s.a.createElement("p",{className:"texted"},this.state.printBTN)),s.a.createElement("button",{className:this.state.shiftcolor,onClick:function(){e.onCloseCompModal(),e.handleRoomSubmit()}},s.a.createElement("p",{className:"texted"},"Close")))))),s.a.createElement(v.a,{open:this.state.RestRmcompModal,onClose:function(){e.onCloseCompRestRoomModal(),e.handleRoomSubmit2()}},s.a.createElement("div",{className:"papersizeNew"},s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized",style:{fontWeight:"bold",fontSize:"14px"}},this.state.Hotelname),s.a.createElement("p",{className:"textSized mb-3"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSizedNumber"},"+234 802 288 8776"),s.a.createElement("hr",null),s.a.createElement("p",{className:"textSized",style:{fontWeight:"bold",fontSize:"14px"}},"Pool Bar Food Docket"),s.a.createElement("p",{className:"textSized"},"Date: ",t),s.a.createElement("p",{className:"textSized mb-3"},"Docket Num: ",a)),s.a.createElement("hr",null),s.a.createElement("table",{className:"tableSettingsNow"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust2Nwrest",style:{fontSize:"10px"}},"Menu"),s.a.createElement("th",{className:"adjust2Nwrest",style:{fontSize:"10px"}},"Qty"),s.a.createElement("th",{className:"adjust2Nwrest",style:{fontSize:"10px"}},"Rate"),s.a.createElement("th",{className:"adjust2Nwrest",style:{fontSize:"10px"}},"Amt"))),s.a.createElement("tbody",{className:"tableSettingsNow"},this.renderOders(this.state.selected))),s.a.createElement("hr",null),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Total: ",s.a.createElement(E.a,{value:this.state.cost,thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Amount Paid: ",s.a.createElement(E.a,{value:n,thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Bal: ",s.a.createElement(E.a,{value:this.state.cost-parseFloat(n),thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Payment Method: ",this.state.paymentMethod),s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized"},"Prepared By: ",localStorage.getItem("userInfo")),s.a.createElement("p",{className:"textSized"},"Shift: ",localStorage.getItem("shift")),s.a.createElement("p",{style:{fontSize:"13px",fontWeight:"bold"}},"THANK YOU"),s.a.createElement("div",{className:"printing"},s.a.createElement("button",{className:this.state.shiftcolor,onClick:function(){e.sendtoprinter()}},s.a.createElement("p",{className:"texted"},this.state.printBTN)),s.a.createElement("button",{className:this.state.shiftcolor,onClick:function(){e.onCloseCompRestRoomModal(),e.handleRoomSubmit2()}},s.a.createElement("p",{className:"texted"},"Close")))))),s.a.createElement(v.a,{open:this.state.report,onClose:function(){e.onCloseModalreport()}},s.a.createElement("div",{className:"posPrint"},s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized",style:{fontWeight:"bold",fontSize:"14px"}},this.state.Hotelname),s.a.createElement("p",{className:"textSized mb-3"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSized mb-3"},this.state.Hotelphone),s.a.createElement("hr",null),s.a.createElement("p",{className:"textSized",style:{fontWeight:"bold",fontSize:"14px"}},"Pool Bar Daily Sales Report"),s.a.createElement("p",{className:"textSized"},"Report Date: ",t),s.a.createElement("p",{className:"textSized mb-3"},"Shift: ",this.state.useReportShift)),s.a.createElement("hr",null),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust2",style:{fontSize:"10px"}},"ID"),s.a.createElement("th",{className:"adjust2",style:{fontSize:"10px"}},"Menu"),s.a.createElement("th",{className:"adjust2",style:{fontSize:"10px"}},"Qty"),s.a.createElement("th",{className:"adjust2",style:{fontSize:"10px"}},"Price(=N)"),s.a.createElement("th",{className:"adjust2",style:{fontSize:"10px"}},"Amount(=N)"))),s.a.createElement("tbody",{className:"table table-hover tableheight"},this.renderSalesReport(this.state.DrinkSalesQtyReportData))),s.a.createElement("hr",null),s.a.createElement("p",{style:{fontSize:"14px",fontWeight:"bold"}},"Total Sales: ",s.a.createElement(E.a,{value:this.state.totalSales,thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized"},"Staff: ",this.state.useReportName),s.a.createElement("p",{className:"textSized"},"Shift: ",this.state.useReportShift),s.a.createElement("p",{style:{fontSize:"13px",fontWeight:"bold"}},"THANK YOU"),s.a.createElement("div",{className:"printing"},s.a.createElement("button",{className:this.state.shiftcolor,onClick:function(){e.sendtoprinter()}},s.a.createElement("p",{className:"texted"},this.state.printBTN)),s.a.createElement("button",{className:this.state.shiftcolor,onClick:function(){e.onCloseModalreport()}},s.a.createElement("p",{className:"texted"},"Close")))))),s.a.createElement(v.a,{open:this.state.credit,onClose:function(){return e.onCloseModalCredit()},style:{color:"silver"}},s.a.createElement("div",{className:"background591stockin"},s.a.createElement("h6",{style:{color:"silver",marginLeft:"50px",marginBottom:"-70px"}},"Recover Credit"),s.a.createElement("div",{className:"formdesign511"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("h6",null,"Summary"),s.a.createElement("div",{className:"col-3"},s.a.createElement("label",null,"Total Credit"),s.a.createElement("p",{type:"text",className:"form-control mb-3 formsize51 ikem"},s.a.createElement(E.a,{value:parseInt(this.state.TotalCredit),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("div",{className:"col-3"},s.a.createElement("label",null,"Total Recovered"),s.a.createElement("p",{type:"text",className:"form-control mb-3 formsize51 ikem"},s.a.createElement(E.a,{value:parseInt(this.state.TotalCreditPaid),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("div",{className:"col-3"},s.a.createElement("label",null,"Credit Balance"),s.a.createElement("p",{type:"text",className:"form-control mb-3 formsize51 ikem"},s.a.createElement(E.a,{value:parseInt(this.state.TotalCredit)-parseInt(this.state.TotalCreditPaid),thousandSeparator:!0,displayType:"text"})))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-4"},s.a.createElement("input",{type:"number",className:"form-control mb-3 formsize51 ikem",name:"creditPaid",require:!0,placeholder:"Enter Amount",value:this.state.creditPaid,onChange:this.handleChange})),s.a.createElement("div",{className:"col-4"},s.a.createElement("select",{className:"form-select formsize51 ikem",name:"paymentMethod",onChange:this.handleChange},s.a.createElement("option",{selected:!0,value:""},"Payment Method"),this.renderPayMeth(this.state.payNwMeth))))),s.a.createElement("div",{className:"row"},s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("center",null,s.a.createElement("span",null,s.a.createElement("button",{disabled:""===this.state.creditPaid,className:"btn btn-warning gap",onClick:function(){return e.postCredit()}},"Post"),s.a.createElement("button",{className:"btn btn-danger gap",onClick:function(){return e.onCloseModalCredit()}},"Close"))),s.a.createElement("br",null))))))}},{key:"componentDidMount",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(">>> Inside RESdidMount"),fetch("".concat("https://zarvichdemo.localto.net/drinkCategories"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({menu:e})}),fetch("".concat("https://zarvichdemo.localto.net/menuCategories"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({RestMenu:e})}),this.myTimer=setTimeout(function(){},3e4),fetch("".concat(Ha),{method:"GET"}).then(function(e){return e.json()}).then(function(e){return t.setState({WaitersData:e}),"ok"}),fetch("".concat(za),{method:"GET"}).then(function(e){return e.json()}).then(function(e){var a=e.map(function(e){return e}).reduce(function(e,t){return e+parseFloat(t.billCost)},0);return t.setState({waitersCost:a}),"ok"}),this.myTimer=setTimeout(function(){fetch("".concat(Ha),{method:"GET"}).then(function(e){return e.json()}).then(function(e){return t.setState({WaitersData:e}),"ok"}),fetch("".concat(za),{method:"GET"}).then(function(e){return e.json()}).then(function(e){var a=e.map(function(e){return e}).reduce(function(e,t){return e+parseFloat(t.billCost)},0);return t.setState({waitersCost:a}),"ok"})},3e4),fetch("".concat(Ga),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({DrinkstoreData:e})}),fetch("".concat("https://zarvichdemo.localto.net/hoteladdress"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return t.setState({Hotelname:e.HotelName,Hoteladdress:e.Address,Hotelphone:e.Phone}),"ok"})}),e.next=11,fetch("".concat("https://zarvichdemo.localto.net/getActive"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return t.setState({transactionDate:e.date}),"ok"})});case 11:this.myTimer=setInterval(function(){fetch("".concat("https://zarvichdemo.localto.net/getActive"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return t.setState({transactionDate:e.date}),"ok"})})},1e3),fetch("".concat(Pa),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({payNwMeth:e})}),fetch("".concat(Ya),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({DrinkSalesQtyData:e})}),fetch("".concat(Aa),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({tables:e})}),this.myTimer=setTimeout(function(){fetch("".concat(Aa),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({tables:e})}),localStorage.setItem("btnCntrl",!0)},2e3),fetch("".concat("https://zarvichdemo.localto.net/poolUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({loginDetails:e})}),this.myTimer=setTimeout(function(){var e=t.state.loginDetails,a=t.state.name;e.some(function(e){return e.name===a})?t.setState({Blogin:!0}):t.setState({Blogin:!1})},1e3),"Morning Shift"===localStorage.getItem("shift")?this.setState({shiftcolor:"btn btn-primary cartBtn20"}):"Night Shift"===localStorage.getItem("shift")?this.setState({shiftcolor:"btn btn-dark cartBtn20"}):"All Day"===localStorage.getItem("shift")&&this.setState({shiftcolor:"btn btn-warning cartBtn20"});case 19:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),a}(n.Component),_a=La,Wa=(a(238),"https://zarvichdemo.localto.net/checkin?docket=Yes"),Qa="https://zarvichdemo.localto.net/checkin?roomNumID=",Ja="https://zarvichdemo.localto.net/paymentMethods",Va="https://zarvichdemo.localto.net/poolbarTable",Ka=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleCost=function(e){if(null!==n.state.selected){var t=e.reduce(function(e,t){return e+t.mealPrice*t.qty},0);n.setState({cost:t})}null!==n.state.cost&&(fetch("".concat(Wa),{method:"GET"}).then(function(e){return e.json()}).then(function(e){n.setState({displayRoomNums:e})}),fetch("".concat(Ja),{method:"GET"}).then(function(e){return e.json()}).then(function(e){n.setState({displayPaymentMethods:e})}),localStorage.removeItem("btnCntrl"),localStorage.removeItem("delcntrl"))},n.addqty=function(){var e=n.state.selected.map(function(e){return parseInt(e.qty+1)});n.setState({selected:e})},n.removeAll=function(e){var t=n.state.selected.filter(function(t){return t.id===e});n.setState({selected:t}),n.setState({cost:0}),n.setState({roomNumbers:""}),n.setState({amountPaid:""}),n.setState({displayRoomNums:""}),n.setState({paymentMethod:""}),n.setState({displayPaymentMethods:""}),n.setState({displayPaymentMethods:"",DrinkStore:0,DrinkSalesQty:0,stockBal:0})},n.handleChange=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value))},n.handleChange3=function(e){""===n.state.Newmeal&&""===n.state.Newprice&&""===n.state.Newid||n.setState(Object(h.a)({},e.target.name,e.target.value))},n.handleChange2=function(e){console.log("inside handle",n.props),n.setState(Object(h.a)({},e.target.name,e.target.value)),fetch("".concat(Qa).concat(e.target.value),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return n.setState({guestInhouseID:e.refID,group:e.group}),"ok"})})},console.log(">>>Inside RESConstructor",e),n.state={Newmeal:"",Newprice:"",Newqty:0,Newid:"",edit:!1,edit2:!1,waitersTD:!1,editreceipt:!1,compModal:!1,report:!1,printStop:0,docketFirst:0,printBTN:"Print",print:0,blockTable:0,IDfound:[],menu:"",RestMenu:"",meal:"",mealPrice:"",mealQuantity:"",mealId:Math.floor(1e4*Math.random()),guestInhouseID:"",selected:[],printSelection:[],menuID:"",menulist:"",Restmenulist:"",cost:0,amountPaid:"",roomNumbers:"",paymentMethod:"",displayPaymentMethods:"",displayRoomNums:"",transactionDate:"",tables:"",newTable:"",NewtableNum:0,group:"",loginDetails:"",name:localStorage.getItem("userInfo"),Blogin:"",login:"",shiftcolor:"",shift:localStorage.getItem("shift"),waitersFName:"",waiterLName:"",LoadWaiters:"",findWaiter:"",WaitersData:"",waitersCost:"",waiterTableData:"",totalbicost:0,DrinkstoreData:[],DrinkSalesQtyData:[],DrinkStore:0,DrinkSalesQty:0,stockBal:0,DrinkSalesQtyReportData:"",useReportName:"",useReportShift:"",useReportDate:"",totalSales:0,Stockbtn:"Add",creditSales:"",TotalCredit:0,creditPaid:0,payNwMeth:"",TotalCreditPaid:0,splitBal:[],Hotelname:"",Hoteladdress:"",Hotelphone:"",pass:"",pword:!1,pword2:!1,waiters:!1,selectWaiter:!1,selectWaiterNew:!1,split:!1,showRestaurant:"hidden",showPoolBar:"visible",showPoolPos:"visible",showRestaurantPos:"hidden",showSalesTable:"visible",showWaitersTable:"hidden",toggle:"hidden",posting:0,Resteditreceipt:!1,editsplitreceipt:!1,Resteditreceipt2:!1,RestRmcompModal:!1},n}return Object(p.a)(a,[{key:"showRest",value:function(){this.setState({showRestaurant:"visible",showPoolBar:"hidden",showPoolPos:"hidden",showRestaurantPos:"visible"})}},{key:"showPool",value:function(){this.setState({showRestaurant:"hidden",showPoolBar:"visible",showPoolPos:"visible",showRestaurantPos:"hidden"})}},{key:"showAllTab",value:function(){this.setState({showSalesTable:"visible",showWaitersTable:"hidden",toggle:"hidden",posting:0})}},{key:"showAllTab2",value:function(){window.location.reload(),this.setState({waitersCost:0,posting:0})}},{key:"showWaitrsTab",value:function(){this.setState({showSalesTable:"hidden",showWaitersTable:"visible",toggle:"visible",posting:1})}},{key:"onOpenPword",value:function(){"Credit"===this.state.paymentMethod?this.setState({pword:!0}):(this.setState({pword:!1}),this.onOpenModalreceipt(),this.postQty())}},{key:"getWaitersC",value:function(){var e=this;fetch("".concat("https://zarvichdemo.localto.net/poolWaitersCost?TotwaiterTabID="),{method:"GET"}).then(function(e){return e.json()}).then(function(t){var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseFloat(t.billCost)},0);return e.setState({waitersCost:a}),"ok"})}},{key:"sendtoprinterNew",value:function(){"Print"===this.state.printBTN?(window.print(),this.setState({selected:[]}),this.setState({printBTN:"Close"}),this.getWaitersC()):"Close"===this.state.printBTN&&(this.setState({edit2:!1}),this.setState({printBTN:"Print"}),this.setState({print:0,printStop:0,DrinkSalesQty:0,stockBal:0,blockTable:0}))}},{key:"onClosePword",value:function(){this.setState({pword:!1})}},{key:"AllowRefund",value:function(){"6849"===this.state.pass?(this.onOpenModalreceipt(),this.postQty(),this.onClosePword()):alert("Access Denied")}},{key:"onOpenModaltoprint2",value:function(){this.setState({edit2:!0})}},{key:"onOpenModalsplitreceipt",value:function(){this.setState({editsplitreceipt:!0})}},{key:"onCloseModalsplitreceipt",value:function(){this.setState({editsplitreceipt:!1})}},{key:"onCloseModaltoprint2",value:function(){this.setState({edit2:!1})}},{key:"onOpenModaltoprint",value:function(){this.setState({edit:!0})}},{key:"onOpenCompModal",value:function(){this.setState({compModal:!0})}},{key:"onCloseModalCredit",value:function(){this.setState({credit:!1,creditPaid:0})}},{key:"onCloseCompModal",value:function(){this.setState({compModal:!1})}},{key:"onOpenCompRestRoomModal",value:function(){this.setState({RestRmcompModal:!0})}},{key:"onCloseCompRestRoomModal",value:function(){this.setState({RestRmcompModal:!1})}},{key:"onCloseRestModalreceipt",value:function(){this.setState({Resteditreceipt:!1})}},{key:"onOpenRestModalreceipt2",value:function(){this.setState({Resteditreceipt2:!0})}},{key:"onOpenRestModalreceipt",value:function(){this.setState({Resteditreceipt:!0})}},{key:"onCloseRestModalreceipt2",value:function(){this.setState({Resteditreceipt2:!1})}},{key:"onCloseModaltoprint",value:function(){this.setState({edit:!1})}},{key:"onOpenModalreceipt",value:function(){this.setState({editreceipt:!0})}},{key:"onCloseModalreceipt",value:function(){this.setState({editreceipt:!1})}},{key:"onOpenModalreport",value:function(){this.setState({report:!0})}},{key:"onCloseModalreport",value:function(){this.setState({report:!1})}},{key:"handleReport",value:function(){var e=this,t=k()(new Date).format("MMM DD YYYY"),a=localStorage.getItem("userInfo"),n="".concat("https://zarvichdemo.localto.net/getPoolBarSalesQty","?useDate=").concat(t,"&&useshift=").concat(this.state.shift,"&&userstaff=").concat(a);fetch("".concat(n),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({DrinkSalesQtyReportData:t})}),this.myTimer=setTimeout(function(){if(e.state.DrinkSalesQtyReportData.length>0){var t=e.state.DrinkSalesQtyReportData,n=t.find(function(e){return e.user===a}),s=[];s.push(n),e.setState({useReportName:s.map(function(e){return e.user})}),e.setState({useReportShift:s.map(function(e){return e.shift})}),e.setState({useReportDate:s.map(function(e){return e.tranDate})});var o=t.reduce(function(e,t){return e+parseInt(t.productPrice*t.Quantity)},0);e.setState({totalSales:o}),e.onOpenModalreport()}else alert("No Sales was posted by "+a)},1e3)}},{key:"handleStock",value:function(){var e=this;if(this.state.DrinkstoreData.length>0){var t=sessionStorage.getItem("meal"),a=this.state.DrinkstoreData.filter(function(e){return e.productName.includes(t)}).reduce(function(e,t){return e+parseInt(t.piecesOut)},0);this.setState({DrinkStore:a});var n=this.state.DrinkSalesQtyData.filter(function(e){return e.productName.includes(t)}).reduce(function(e,t){return e+parseInt(t.Quantity)},0);this.setState({DrinkSalesQty:n}),this.myTimer=setTimeout(function(){var t=0+e.state.DrinkStore-e.state.DrinkSalesQty;e.setState({stockBal:t}),(t<0||t<-1)&&e.setState({stockBal:0}),0===e.state.stockBal?e.setState({Stockbtn:"Finished"}):e.setState({Stockbtn:"Add"})},1e3)}}},{key:"addToTable",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o,r,l,c,i=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=sessionStorage.getItem("tableNumber3"),a=this.state.selected,n={selected:a.map(function(e){return e}),billCost:this.state.cost,tableNum:sessionStorage.getItem("tableNumber3"),user:localStorage.getItem("userInfo")},s=this.state.printSelection,o=s.reduce(function(e,t){return e+t.mealPrice*t.qty},0),r={_id:Math.floor(1e4*Math.random()),waiterselection:s.map(function(e){return e}),billCost:o,tableNum:sessionStorage.getItem("tableNumber3"),waiter:this.state.findWaiter},e.next=9,fetch("".concat("https://zarvichdemo.localto.net/postWaitersSales"),{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(r)});case 9:return l=e.sent,console.log("waiterresult>  "+l),this.onOpenModaltoprint(),e.next=14,fetch("".concat("https://zarvichdemo.localto.net/poolbarTablePost","/").concat(t),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)});case 14:c=e.sent,console.log("result>  "+c),this.setState({selected:[]}),localStorage.setItem("btnCntrl",!0),this.setState({cost:0}),this.setState({roomNumbers:""}),this.setState({displayRoomNums:""}),this.setState({displayPaymentMethods:""}),this.setState({paymentMethod:""}),this.setState({printStop:0}),localStorage.removeItem("delcntrl"),sessionStorage.removeItem("tableNumber3"),fetch("".concat(Va),{method:"GET"}).then(function(e){return e.json()}).then(function(e){i.setState({tables:e})}),this.handleGetWaitListClose(),this.getWaitersC(),e.next=34;break;case 31:e.prev=31,e.t0=e.catch(0),console.log(e.t0);case 34:case"end":return e.stop()}},e,this,[[0,31]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleCredit",value:function(){var e=this,t=localStorage.getItem("userInfo");fetch("".concat("https://zarvichdemo.localto.net/poolCreditSales?PCstaff=").concat(t),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({creditSales:t}),t.map(function(a){var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.creditAmount)},0);e.setState({TotalCredit:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.creditPaid)},0);return e.setState({TotalCreditPaid:s}),"ok"})}),this.myTimer=setTimeout(function(){e.setState({credit:!0})},1e3)}},{key:"NewTable",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=sessionStorage.getItem("tableNumber3"),a=this.state.selected,n={selected:a.map(function(e){return e}),billCost:this.state.cost,tableNum:t},0!==this.state.cost){e.next=9;break}alert("If you click table Number again without an order, I will slap you!"),sessionStorage.removeItem("tableNumber"),e.next=25;break;case 9:return e.next=11,fetch("".concat("https://zarvichdemo.localto.net/poolbarTablePost","/").concat(t),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)});case 11:s=e.sent,console.log("result>  "+s),this.setState({selected:[]}),localStorage.setItem("btnCntrl",!0),this.setState({cost:0}),this.setState({roomNumbers:""}),this.setState({displayRoomNums:""}),this.setState({displayPaymentMethods:""}),this.setState({paymentMethod:""}),localStorage.removeItem("delcntrl"),this.setState({newTable:""}),this.handleGetWaitListCloseNew(),fetch("".concat(Va),{method:"GET"}).then(function(e){return e.json()}).then(function(e){o.setState({tables:e})}),this.onOpenModaltoprint();case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(0),console.log(e.t0);case 30:case"end":return e.stop()}},e,this,[[0,27]])}));return function(){return e.apply(this,arguments)}}()},{key:"getTableP",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{t=sessionStorage.getItem("tableNumber3"),fetch("".concat("https://zarvichdemo.localto.net/poolbarTable?tableID=").concat(t),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return a.setState({selected:e.selected,cost:e.billCost,NewtableNum:1}),"ok"}),localStorage.removeItem("btnCntrl")}),fetch("".concat(Wa),{method:"GET"}).then(function(e){return e.json()}).then(function(e){a.setState({displayRoomNums:e})}),fetch("".concat(Ja),{method:"GET"}).then(function(e){return e.json()}).then(function(e){a.setState({displayPaymentMethods:e})}),localStorage.setItem("delcntrl",!0),this.setState({printStop:1})}catch(n){console.log(n)}case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"postQty",value:function(){var e=this;try{this.state.selected.map(function(t){var a=t.meal,n=t.mealPrice,s=t.qty,o={id:t.tranID,productName:a,productPrice:n,Quantity:parseInt(s),user:localStorage.getItem("userInfo"),tranDate:k()(new Date).format("MMM DD YYYY"),shift:localStorage.getItem("shift")},r=fetch("".concat("https://zarvichdemo.localto.net/postPoolBarSalesQty"),{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(o)});return console.log("result>  "+r),e.setState({Newmeal:"",Newprice:"",Newqty:0,Newid:"",DrinkstoreData:[],DrinkSalesQtyData:[]}),e.myTimer=setTimeout(function(){fetch("".concat("https://zarvichdemo.localto.net/getPoolBarStore2"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({DrinkstoreData:t})}),fetch("".concat("https://zarvichdemo.localto.net/getPoolBarSalesQty"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({DrinkSalesQtyData:t})})},1e3),"ok"})}catch(t){console.log(t)}}},{key:"buttonClick",value:function(){var e=this;fetch("".concat("https://zarvichdemo.localto.net/drinkitems?drinktypes=").concat(this.state.menuID),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({menulist:t})})}},{key:"RestbuttonClick",value:function(){var e=this;fetch("".concat("https://zarvichdemo.localto.net/menuitems?mealtypes=").concat(this.state.menuID),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({Restmenulist:t})})}},{key:"sendtoprinter",value:function(){window.print()}},{key:"sendtoprinter2",value:function(){"Print"===this.state.printBTN?(window.print(),this.setState({printBTN:"Close"})):"Close"===this.state.printBTN&&(this.setState({edit:!1}),this.setState({printBTN:"Print"}),this.setState({print:0,printStop:0,DrinkSalesQty:0,stockBal:0,blockTable:0}))}},{key:"handleGetWaitListOpen",value:function(){var e=this;this.getWaitersNow(),this.myTimer=setTimeout(function(){e.setState({selectWaiter:!0})},1e3)}},{key:"getWaitersNow",value:function(){var e=this;fetch("".concat("https://zarvichdemo.localto.net/getWaiters"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){return e.setState({LoadWaiters:t}),"ok"})}},{key:"handleGetWaitListClose",value:function(){this.setState({selectWaiter:!1})}},{key:"handleGetWaitListOpenNew",value:function(){var e=this;0===this.state.cost?alert("If you click table Number again without an order, I will slap you!"):(this.getWaitersNow(),this.myTimer=setTimeout(function(){e.setState({selectWaiterNew:!0})},1e3))}},{key:"handleGetWaitListCloseNew",value:function(){this.setState({selectWaiterNew:!1})}},{key:"logout",value:function(){localStorage.removeItem("userInfo"),this.setState({login:!0}),localStorage.removeItem("shift")}},{key:"renderTables",value:function(e){var t=this;if(e)return e.sort(function(e,t){return e.tableNum-t.tableNum}),e.map(function(e){return""===e.billCost?s.a.createElement("div",{key:e._id},s.a.createElement("button",{className:"btn btn-success cartBtn3 alignroomsgreen2",disabled:1===t.state.NewtableNum,onClick:function(){sessionStorage.setItem("tableNumber3",e.tableNum),t.handleGetWaitListOpenNew(),t.setState({docketFirst:0})}},s.a.createElement("p",{className:"texted"},e.tableNum))):s.a.createElement("div",{key:e._id},s.a.createElement("button",{className:"btn btn-warning cartBtn3 alignroomsgreen2",onClick:function(){sessionStorage.setItem("tableNumber3",e.tableNum),t.getTableP(),t.setState({print:1})}},s.a.createElement("p",{className:"texted"},e.tableNum)))})}},{key:"renderPayMeth",value:function(e){if(e)return e.map(function(e,t){return s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{key:t,value:e.method},e.method))})}},{key:"renderRooms",value:function(e){if(e)return e.sort(function(e,t){return e.roomNumbers-t.roomNumbers}),e.map(function(e,t){return s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{key:t,value:e.roomNumbers},e.roomNumbers," - ",e.fname," ",e.lname))})}},{key:"renderWaitersList",value:function(e){if(e)return e.map(function(e,t){return s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{key:t,value:e.FirstName},e.FirstName," ",e.LastName))})}},{key:"addMeal",value:function(){var e=this;this.state.menulist.map(function(t){return e.setState({Newmeal:t.mealName,Newprice:t.mealPrice,Newqty:parseInt(t.mealQt),Newid:t._id}),"ok"})}},{key:"RestaurantaddMeal",value:function(){var e=this;this.state.Restmenulist.map(function(t){return e.setState({Newmeal:t.mealName,Newprice:t.mealPrice,Newqty:parseInt(t.mealQt),Newid:t._id}),"ok"})}},{key:"increament",value:function(){0!==this.state.Newqty&&this.setState({Newqty:this.state.Newqty+1})}},{key:"decreament",value:function(){0!==this.state.Newqty&&this.setState({Newqty:this.state.Newqty-1})}},{key:"pushorder",value:function(){var e=this,t=this.state.selected,a={};this.state.selected.length>0?(this.setState({blockTable:1}),a.id=this.state.Newid,a.meal=this.state.Newmeal,a.mealPrice=this.state.Newprice,a.qty=this.state.Newqty,a.tranID=Math.floor(1e4*Math.random()),t.push(a),this.setState({selected:t,printStop:0,DrinkStore:0,DrinkSalesQty:0,stockBal:0,Newmeal:"",Newprice:"",Newqty:0,Newid:""})):0===this.state.selected.length&&(this.setState({blockTable:0}),a.id=this.state.Newid,a.meal=this.state.Newmeal,a.mealPrice=this.state.Newprice,a.qty=this.state.Newqty,a.tranID=Math.floor(1e4*Math.random()),t.push(a),this.setState({selected:t,Newmeal:"",Newprice:"",Newqty:0,Newid:"",printStop:0,DrinkStore:0,DrinkSalesQty:0,stockBal:0})),this.myTimer=setTimeout(function(){if(e.state.selected.length>0){var a=t.reduce(function(e,t){return e+t.mealPrice*t.qty},0);e.setState({cost:a})}0!==e.state.cost&&(fetch("".concat(Wa),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({displayRoomNums:t})}),fetch("".concat(Ja),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({displayPaymentMethods:t})}),localStorage.removeItem("delcntrl"))},1e3)}},{key:"pushToPrinter",value:function(){var e=this.state.printSelection,t={};t.id=this.state.Newid,t.meal=this.state.Newmeal,t.mealPrice=this.state.Newprice,t.qty=this.state.Newqty,t.tranID=Math.floor(1e4*Math.random()),e.push(t)}},{key:"renderRestaurant",value:function(e){var t=this;if(e)return e.map(function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("div",{className:"card alignroomsgreen3",style:{backgroundColor:"orangered"},key:e.mealTypeID},s.a.createElement("button",{className:"btn btn-orangered buttnheightbtn",onMouseOver:function(){return sessionStorage.setItem("meal",e.mealName)},onClick:function(){t.setState({Newmeal:e.mealName,Newprice:e.mealPrice,Newqty:parseInt(e.mealQt),Newid:e._id,tranID2:Math.floor(1e4*Math.random())}),t.handleStock()}},s.a.createElement("p",{className:"card-title formatnew2"},e.mealName))))))})}},{key:"renderRestaurantPos",value:function(e){var t=this;if(e)return e.map(function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("div",{className:"card alignroomsgreen3",style:{backgroundColor:"blueviolet"},key:e.mealTypeID},s.a.createElement("button",{className:"btn btn-blueviolet buttnheightbtn",onMouseOver:function(){return t.setState({menuID:e.mealTypeID})},onClick:function(){return t.RestbuttonClick()}},s.a.createElement("p",{className:"card-title formatnew2"},e.mealType))))))})}},{key:"renderMenu",value:function(e){var t=this;if(e)return e.map(function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("div",{className:"card alignroomsgreen3",style:{backgroundColor:"orangered"},key:e.mealTypeID},s.a.createElement("button",{className:"btn btn-orangered buttnheightbtn",onMouseOver:function(){return sessionStorage.setItem("meal",e.mealName)},onClick:function(){t.setState({Newmeal:e.mealName,Newprice:e.mealPrice,Newqty:parseInt(e.mealQt),Newid:e._id,tranID2:Math.floor(1e4*Math.random())}),t.handleStock()}},s.a.createElement("p",{className:"card-title formatnew2NewDt"},e.mealName))))))})}},{key:"renderOders",value:function(e){if(e)return e.map(function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:e.id},s.a.createElement("td",{className:"table-light table-striped adjust texted8"},e.meal),s.a.createElement("td",{className:"table-light table-striped adjust texted8"},e.qty),s.a.createElement("td",{className:"table-light table-striped adjust texted8"},s.a.createElement(E.a,{value:e.mealPrice,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust texted8"},s.a.createElement(E.a,{value:e.mealPrice*e.qty,thousandSeparator:!0,displayType:"text"}))))})}},{key:"renderSalesReport",value:function(e){if(e)return e.map(function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:e.id},s.a.createElement("td",{className:"table-light table-striped adjust texted8"},e.productName),s.a.createElement("td",{className:"table-light table-striped adjust texted8"},e.Quantity),s.a.createElement("td",{className:"table-light table-striped adjust texted8"},s.a.createElement(E.a,{value:e.productPrice,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust texted8"},s.a.createElement(E.a,{value:e.productPrice*e.Quantity,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust texted8"}," ")))})}},{key:"renderPos",value:function(e){var t=this;if(e)return e.map(function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("div",{className:"card alignroomsgreen3",style:{backgroundColor:"blueviolet"},key:e.mealTypeID},s.a.createElement("button",{className:"btn btn-blueviolet buttnheightbtn",onMouseOver:function(){return t.setState({menuID:e.mealTypeID})},onClick:function(){return t.buttonClick()}},s.a.createElement("p",{className:"card-title formatnew2"},e.mealType))))))})}},{key:"render",value:function(){var e=this;console.log(">>> Inside RESrender",this.state);var t=k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),a="Bar"+Math.floor(1e4*Math.random()),n=this.state.amountPaid;return""===this.state.amountPaid&&(n=0),null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement(Je,null)):s.a.createElement("div",{className:"posterminalNew"},s.a.createElement("h5",{className:"texted2New",style:{color:"yellow"}},"Work Date: ",t),s.a.createElement("button",{className:"btn btn-danger textedNew",onClick:function(){e.props.history.push("/Dashboard")}},"Goto Dashboard"),s.a.createElement("br",null),s.a.createElement("div",{className:"row quantityNewDt"},s.a.createElement("center",null,s.a.createElement("h6",{style:{color:"white",fontSize:"13px"}},"Add Quantity")),s.a.createElement("div",null,s.a.createElement("div",{className:"row"},s.a.createElement("p",{className:"pricesNew"},"Price: ",this.state.Newprice),s.a.createElement("p",{className:"prices2"},"Avail.Stock: ",this.state.stockBal),s.a.createElement("span",{className:"dcrbtn"},s.a.createElement("button",{className:"form-control mb-3 formsizeX1",onClick:function(){return e.decreament()}},s.a.createElement("p",{className:"sign"},"-"))),s.a.createElement("span",{className:"qtybtn"},s.a.createElement("input",{type:"number",className:"form-control2 mb-3 formsizeX",style:{textAlign:"center",fontStyle:"bold",color:"white",fontSize:"24px"},name:"Newqty",value:this.state.Newqty,onChange:this.handleChange3})),s.a.createElement("span",{className:"incbtn"},s.a.createElement("button",{className:"form-control mb-3 formsizeX1",onClick:function(){return e.increament()}},s.a.createElement("p",{className:"sign"},"+"))),s.a.createElement("button",{className:"btn btn-warning addbtn",disabled:0===this.state.Newqty||0===this.state.stockBal,onClick:function(){e.pushorder(),e.setState({docketFirst:1})}},this.state.Stockbtn),s.a.createElement("div",{className:this.state.showPoolPos},s.a.createElement("button",{className:"btn btn-warning addbtn ",disabled:0===this.state.Newqty||0===this.state.stockBal,onClick:function(){e.pushorder(),e.setState({docketFirst:1})}},this.state.Stockbtn)),s.a.createElement("div",{className:this.state.showRestaurant},s.a.createElement("button",{className:"btn btn-warning addbtn",disabled:0===this.state.Newqty,onClick:function(){e.pushorder(),e.setState({docketFirst:1})}},"Add"))))),s.a.createElement("div",{className:"salesTableNew displayback"},s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust2NewDta"},"Menu"),s.a.createElement("th",{className:"adjust2NewDta"},"Qty"),s.a.createElement("th",{className:"adjust2NewDta"},"Price(=N)"),s.a.createElement("th",{className:"adjust2NewDta"},"Amount(=N)"))),s.a.createElement("tbody",{className:"table table-hover"},this.renderOders(this.state.selected)))),s.a.createElement("div",{className:"textAmountNew displayback"},s.a.createElement("p",{className:"fmtcost2NewDt",style:{color:"white"}},"Total: ",s.a.createElement(E.a,{value:this.state.cost,thousandSeparator:!0,displayType:"text"}),".00")),s.a.createElement("div",{className:"textAmount2New displayback"},s.a.createElement("p",{className:"fmtcost2NewDt",style:{color:"white"}},"Bal: ",s.a.createElement(E.a,{value:this.state.cost-parseFloat(n),thousandSeparator:!0,displayType:"text"}),".00")),s.a.createElement("div",{className:"operationsNew displayback"},s.a.createElement("h4",{className:"texted4",style:{color:"white"}},"Operations"),s.a.createElement("button",{disabled:localStorage.getItem("delcntrl"),className:"btn btn-primary cartBtn2",onClick:function(){e.removeAll(),e.setState({docketFirst:0})}},s.a.createElement("p",{className:"texted"},"Delete")),s.a.createElement("button",{disabled:localStorage.getItem("btnCntrl"),className:"btn btn-warning cartBtn2",onClick:function(){e.handleGetWaitListOpen(),e.setState({NewtableNum:0})}},s.a.createElement("p",{className:"texted"},"Add to Table ",sessionStorage.getItem("tableNumber3"))),s.a.createElement("button",{disabled:1===this.state.docketFirst,className:"btn btn-danger cartBtn2",onClick:function(){e.props.history.push("/PoolBarPortal")}},s.a.createElement("p",{className:"texted"},"Close")),s.a.createElement("button",{className:"btn btn-danger cartBtn20",onClick:function(){return e.logout()}},s.a.createElement("p",{className:"texted"},"Log Out ",localStorage.getItem("userInfo").split(" ")[0])),s.a.createElement("button",{disabled:0===this.state.selected.length,className:"btn btn-warning cartBtn20",onClick:function(){e.onOpenModaltoprint2(),localStorage.setItem("delcntrl",!0)}},s.a.createElement("p",{className:"texted"},"Prnt Docket"))),s.a.createElement("div",{className:"tablesNew tryDisNew displayback"},s.a.createElement("h5",{className:"texted2Dt",style:{color:"white"}},"Get Table"),s.a.createElement("div",null,this.renderTables(this.state.tables))),s.a.createElement("div",{className:this.state.showPoolPos},s.a.createElement("div",{className:"mainmenuNew tryDisNew displayback"},this.renderPos(this.state.menu))),s.a.createElement("div",{className:this.state.showPoolBar},s.a.createElement("div",{className:"menulistItemsNew tryDisNew displayback"},this.renderMenu(this.state.menulist))),s.a.createElement("div",{className:this.state.showRestaurantPos},s.a.createElement("div",{className:"mainmenuNew tryDisNew displayback"},this.renderRestaurantPos(this.state.RestMenu))),s.a.createElement("div",{className:this.state.showRestaurant},s.a.createElement("div",{className:"menulistItemsNew tryDisNew displayback"},this.renderRestaurant(this.state.Restmenulist))),s.a.createElement("div",{className:"RestaurantData displayback"},s.a.createElement("button",{className:"btn btn-primary",onClick:function(){e.showRest()}},"Restaurant Menu")),s.a.createElement("div",{className:"PoolData displayback"},s.a.createElement("button",{className:"btn btn-primary",onClick:function(){e.showPool()}},"Pool Bar Menu")),s.a.createElement(v.a,{open:this.state.edit},s.a.createElement("div",{className:"papersizeNew"},s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized",style:{fontWeight:"bold",fontSize:"14px"}},this.state.Hotelname),s.a.createElement("p",{className:"textSized mb-3"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSizedNumber"},"+234 802 288 8776"),s.a.createElement("hr",null),s.a.createElement("p",{className:"textSized",style:{fontWeight:"bold",fontSize:"14px"}},"Pool Bar Docket"),s.a.createElement("p",{className:"textSized"},"Date: ",t),s.a.createElement("p",{className:"textSized mb-3"},"Docket Num: ",a)),s.a.createElement("hr",null),s.a.createElement("table",{className:"tableSettingsNow"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust2Nwrest"},"Menu"),s.a.createElement("th",{className:"adjust2Nwrest"},"Qty"),s.a.createElement("th",{className:"adjust2Nwrest"},"Rate"),s.a.createElement("th",{className:"adjust2Nwrest"},"Amt"))),s.a.createElement("tbody",{className:"tableSettingsNow"},this.renderOders(this.state.printSelection))),s.a.createElement("hr",null),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Total:",s.a.createElement(E.a,{value:this.state.cost,thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Amount Paid:",s.a.createElement(E.a,{value:n,thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Bal: ",s.a.createElement(E.a,{value:this.state.cost-parseFloat(n),thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Payment Method: ",this.state.paymentMethod),s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized"},"Waiter: ",this.state.findWaiter),s.a.createElement("p",{className:"textSized"},"Supervisor: ",localStorage.getItem("userInfo")),s.a.createElement("p",{style:{fontSize:"13px",fontWeight:"bold"}},"THANK YOU"),s.a.createElement("div",{className:"printing"},s.a.createElement("button",{className:this.state.shiftcolor,onClick:function(){e.sendtoprinter2()}},s.a.createElement("p",{className:"texted"},this.state.printBTN)))))),s.a.createElement(v.a,{open:this.state.edit2},s.a.createElement("div",{className:"papersizeNew"},s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized",style:{fontWeight:"bold",fontSize:"14px"}},this.state.Hotelname),s.a.createElement("p",{className:"textSized mb-3"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSizedNumber"},"+234 802 288 8776"),s.a.createElement("hr",null),s.a.createElement("p",{className:"textSized",style:{fontWeight:"bold",fontSize:"14px"}},"Pool Bar Docket"),s.a.createElement("p",{className:"textSized"},"Date: ",t),s.a.createElement("p",{className:"textSized mb-3"},"Docket Num: ",a)),s.a.createElement("hr",null),s.a.createElement("table",{className:"tableSettingsNow"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust2Nwrest"},"Menu"),s.a.createElement("th",{className:"adjust2Nwrest"},"Qty"),s.a.createElement("th",{className:"adjust2Nwrest"},"Rate"),s.a.createElement("th",{className:"adjust2Nwrest"},"Amt"))),s.a.createElement("tbody",{className:"tableSettingsNow"},this.renderOders(this.state.selected))),s.a.createElement("hr",null),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Total:",s.a.createElement(E.a,{value:this.state.cost,thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Amount Paid:",s.a.createElement(E.a,{value:n,thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Bal: ",s.a.createElement(E.a,{value:this.state.cost-parseFloat(n),thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Payment Method: ",this.state.paymentMethod),s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized"},"Waiter: ",this.state.findWaiter),s.a.createElement("p",{className:"textSized"},"Supervisor: ",localStorage.getItem("userInfo")),s.a.createElement("p",{style:{fontSize:"13px",fontWeight:"bold"}},"THANK YOU"),s.a.createElement("div",{className:"printing"},s.a.createElement("button",{className:this.state.shiftcolor,onClick:function(){e.sendtoprinterNew()}},s.a.createElement("p",{className:"texted"},this.state.printBTN)))))),s.a.createElement(v.a,{open:this.state.pword,onClose:function(){return e.onClosePword()},center:!0},s.a.createElement("div",null,s.a.createElement("div",{className:"formdesign152"},s.a.createElement("h6",{className:"mb-3"},"Access Required"),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("input",{type:"password",autoComplete:"off",className:"form-control mb-3 formsize51",name:"pass",require:!0,placeholder:"Enter Access Code",value:this.state.pass,onChange:this.handleChange}),s.a.createElement("button",{disabled:""===this.state.pass,className:"btn btn-warning formsize91",onClick:function(){return e.AllowRefund()}},"Login")))))),s.a.createElement(v.a,{open:this.state.waiters,onClose:function(){return e.handleWaitersClose()},center:!0},s.a.createElement("div",null,s.a.createElement("div",{className:"formdesign152"},s.a.createElement("h6",{className:"mb-3"},"Register A Waiter"),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("input",{type:"text",autoComplete:"off",className:"form-control mb-3 formsize51",name:"waitersFName",require:!0,placeholder:"Enter First Name",value:this.state.waitersFName,onChange:this.handleChange}),s.a.createElement("input",{type:"text",autoComplete:"off",className:"form-control mb-3 formsize51",name:"waiterLName",require:!0,placeholder:"Enter Last Name",value:this.state.waiterLName,onChange:this.handleChange}),s.a.createElement("button",{disabled:this.state.waitersFName&&""===this.state.waiterLName,className:"btn btn-warning formsize91",onClick:function(){return e.handleWaiters()}},"Register")))))),s.a.createElement(v.a,{open:this.state.selectWaiter,onClose:function(){return e.handleGetWaitListClose()},center:!0},s.a.createElement("div",null,s.a.createElement("div",{className:"formdesign152"},s.a.createElement("h6",{className:"mb-3"},"Select A Waiter"),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("select",{type:"button",className:"form-select mb-2 btn btn-primary",name:"findWaiter",onChange:this.handleChange},s.a.createElement("option",{selected:!0,value:""},"Click to Select"),this.renderWaitersList(this.state.LoadWaiters)),s.a.createElement("button",{disabled:""===this.state.LoadWaiters,className:"btn btn-warning formsize91",onClick:function(){return e.addToTable()}},"Post")))))),s.a.createElement(v.a,{open:this.state.selectWaiterNew,onClose:function(){return e.handleGetWaitListCloseNew()},center:!0},s.a.createElement("div",null,s.a.createElement("div",{className:"formdesign152"},s.a.createElement("h6",{className:"mb-3"},"Select A Waiter"),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("select",{type:"button",className:"form-select btn mb-2 btn-primary",name:"findWaiter",onChange:this.handleChange},s.a.createElement("option",{selected:!0,value:""},"Click to Select"),this.renderWaitersList(this.state.LoadWaiters)),s.a.createElement("button",{disabled:""===this.state.LoadWaiters,className:"btn btn-warning formsize91",onClick:function(){return e.NewTable()}},"Post")))))),s.a.createElement(v.a,{open:this.state.split,center:!0},s.a.createElement("div",null,s.a.createElement("div",{className:"formdesign152"},s.a.createElement("h6",{className:"mb-3"},"Split Payment"),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("div",{className:"displayback"},s.a.createElement("p",null,"Total: ",s.a.createElement(E.a,{value:this.state.cost,thousandSeparator:!0,displayType:"text"}),".00")),s.a.createElement("div",{className:"displayback"},s.a.createElement("p",null,"Bal: ",s.a.createElement(E.a,{value:this.state.cost-this.state.splitBal-parseFloat(n),thousandSeparator:!0,displayType:"text"}),".00")),s.a.createElement("div",{className:"displayback"},s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize51",name:"amountPaid",require:!0,placeholder:"Enter Payment",value:this.state.amountPaid,onChange:this.handleChangeComp})),s.a.createElement("select",{type:"button",className:"form-select mb-2 btn btn-primary",name:"paymentMethod",onChange:this.handleChange},s.a.createElement("option",{selected:!0,value:""},"Payment Method"),this.renderPayMeth(this.state.displayPaymentMethods)),s.a.createElement("button",{disabled:""===this.state.paymentMethod,className:"btn btn-warning formsize91",onClick:function(){return e.onOpenModalsplitreceipt()}},"Post Drinks"),s.a.createElement("button",{disabled:""===this.state.paymentMethod,className:"btn btn-warning formsize91",onClick:function(){return e.onOpenRestModalreceipt()}},"Post Food"),s.a.createElement("button",{disabled:this.state.cost-this.state.splitBal-parseFloat(n)!==0,className:"btn btn-warning formsize91",onClick:function(){return e.onCloseSplit()}},"Close")))))),s.a.createElement(v.a,{open:this.state.editsplitreceipt,onClose:function(){e.onCloseModalsplitreceipt(),e.handleSplitSubmit()}},s.a.createElement("div",{className:"papersizeNew"},s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized",style:{fontWeight:"bold",fontSize:"14px"}},this.state.Hotelname),s.a.createElement("p",{className:"textSized mb-3"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSizedNumber"},"+234 802 288 8776"),s.a.createElement("hr",null),s.a.createElement("p",{className:"textSized",style:{fontWeight:"bold",fontSize:"14px"}},"Pool Bar Receipt"),s.a.createElement("p",{className:"textSized"},"Date: ",t),s.a.createElement("p",{className:"textSized mb-3"},"Docket Num: ",a)),s.a.createElement("hr",null),s.a.createElement("table",{className:"tableSettingsNow"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust2Nwrest",style:{fontSize:"10px"}},"Menu"),s.a.createElement("th",{className:"adjust2Nwrest",style:{fontSize:"10px"}},"Qty"),s.a.createElement("th",{className:"adjust2Nwrest",style:{fontSize:"10px"}},"Rate"),s.a.createElement("th",{className:"adjust2Nwrest",style:{fontSize:"10px"}},"Amt"))),s.a.createElement("tbody",{className:"tableSettingsNow"},this.renderOders(this.state.selected))),s.a.createElement("hr",null),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Total: ",s.a.createElement(E.a,{value:this.state.cost,thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Amount Paid: ",s.a.createElement(E.a,{value:n,thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Bal: ",s.a.createElement(E.a,{value:this.state.cost-parseFloat(n),thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Payment Method: ",this.state.paymentMethod),s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized"},"Prepared By: ",localStorage.getItem("userInfo")),s.a.createElement("p",{className:"textSized"},"Shift: ",localStorage.getItem("shift")),s.a.createElement("p",{style:{fontSize:"13px",fontWeight:"bold"}},"THANK YOU"),s.a.createElement("div",{className:"printing"},s.a.createElement("button",{className:this.state.shiftcolor,onClick:function(){e.sendtoprinter()}},s.a.createElement("p",{className:"texted"},"Print")),s.a.createElement("button",{className:this.state.shiftcolor,onClick:function(){e.onCloseModalsplitreceipt(),e.handleSplitSubmit()}},s.a.createElement("p",{className:"texted"},"Close")))))),s.a.createElement(v.a,{open:this.state.Resteditreceipt,onClose:function(){e.onCloseRestModalreceipt(),e.handleRestSubmit()}},s.a.createElement("div",{className:"papersizeNew"},s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized",style:{fontWeight:"bold",fontSize:"14px"}},this.state.Hotelname),s.a.createElement("p",{className:"textSized mb-3"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSizedNumber"},"+234 802 288 8776"),s.a.createElement("hr",null),s.a.createElement("p",{className:"textSized",style:{fontWeight:"bold",fontSize:"14px"}},"Pool Bar Food Receipt"),s.a.createElement("p",{className:"textSized"},"Date: ",t),s.a.createElement("p",{className:"textSized mb-3"},"Docket Num: ",a)),s.a.createElement("hr",null),s.a.createElement("table",{className:"tableSettingsNow"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust2Nwrest",style:{fontSize:"10px"}},"Menu"),s.a.createElement("th",{className:"adjust2Nwrest",style:{fontSize:"10px"}},"Qty"),s.a.createElement("th",{className:"adjust2Nwrest",style:{fontSize:"10px"}},"Rate"),s.a.createElement("th",{className:"adjust2Nwrest",style:{fontSize:"10px"}},"Amt"))),s.a.createElement("tbody",{className:"tableSettingsNow"},this.renderOders(this.state.selected))),s.a.createElement("hr",null),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Total: ",s.a.createElement(E.a,{value:this.state.cost,thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Amount Paid: ",s.a.createElement(E.a,{value:n,thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Bal: ",s.a.createElement(E.a,{value:this.state.cost-parseFloat(n),thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Payment Method: ",this.state.paymentMethod),s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized"},"Prepared By: ",localStorage.getItem("userInfo")),s.a.createElement("p",{className:"textSized"},"Shift: ",localStorage.getItem("shift")),s.a.createElement("p",{style:{fontSize:"13px",fontWeight:"bold"}},"THANK YOU"),s.a.createElement("div",{className:"printing"},s.a.createElement("button",{className:this.state.shiftcolor,onClick:function(){e.sendtoprinter()}},s.a.createElement("p",{className:"texted"},"Print")),s.a.createElement("button",{className:this.state.shiftcolor,onClick:function(){e.onCloseRestModalreceipt(),e.handleRestSubmit()}},s.a.createElement("p",{className:"texted"},"Close")))))),s.a.createElement(v.a,{open:this.state.Resteditreceipt2,onClose:function(){e.onCloseRestModalreceipt(),e.handleRestSubmit2()}},s.a.createElement("div",{className:"papersizeNew"},s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized",style:{fontWeight:"bold",fontSize:"14px"}},this.state.Hotelname),s.a.createElement("p",{className:"textSized mb-3"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSizedNumber"},"+234 802 288 8776"),s.a.createElement("hr",null),s.a.createElement("p",{className:"textSized",style:{fontWeight:"bold",fontSize:"14px"}},"Pool Bar Food Receipt"),s.a.createElement("p",{className:"textSized"},"Date: ",t),s.a.createElement("p",{className:"textSized mb-3"},"Docket Num: ",a)),s.a.createElement("hr",null),s.a.createElement("table",{className:"tableSettingsNow"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust2Nwrest",style:{fontSize:"10px"}},"Menu"),s.a.createElement("th",{className:"adjust2Nwrest",style:{fontSize:"10px"}},"Qty"),s.a.createElement("th",{className:"adjust2Nwrest",style:{fontSize:"10px"}},"Rate"),s.a.createElement("th",{className:"adjust2Nwrest",style:{fontSize:"10px"}},"Amt"))),s.a.createElement("tbody",{className:"tableSettingsNow"},this.renderOders(this.state.selected))),s.a.createElement("hr",null),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Total: ",s.a.createElement(E.a,{value:this.state.cost,thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Amount Paid: ",s.a.createElement(E.a,{value:n,thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Bal: ",s.a.createElement(E.a,{value:this.state.cost-parseFloat(n),thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Payment Method: ",this.state.paymentMethod),s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized"},"Prepared By: ",localStorage.getItem("userInfo")),s.a.createElement("p",{className:"textSized"},"Shift: ",localStorage.getItem("shift")),s.a.createElement("p",{style:{fontSize:"13px",fontWeight:"bold"}},"THANK YOU"),s.a.createElement("div",{className:"printing"},s.a.createElement("button",{className:this.state.shiftcolor,onClick:function(){e.sendtoprinter()}},s.a.createElement("p",{className:"texted"},"Print")),s.a.createElement("button",{className:this.state.shiftcolor,onClick:function(){e.onCloseRestModalreceipt2(),e.handleRestSubmit2()}},s.a.createElement("p",{className:"texted"},"Close")))))),s.a.createElement(v.a,{open:this.state.editreceipt,onClose:function(){e.onCloseModalreceipt(),e.handleSubmit()}},s.a.createElement("div",{className:"papersizeNew"},s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized",style:{fontWeight:"bold",fontSize:"14px"}},this.state.Hotelname),s.a.createElement("p",{className:"textSized mb-3"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSizedNumber"},"+234 802 288 8776"),s.a.createElement("hr",null),s.a.createElement("p",{className:"textSized",style:{fontWeight:"bold",fontSize:"14px"}},"Pool Bar Receipt"),s.a.createElement("p",{className:"textSized"},"Date: ",t),s.a.createElement("p",{className:"textSized mb-3"},"Docket Num: ",a)),s.a.createElement("hr",null),s.a.createElement("table",{className:"tableSettingsNow"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust2Nwrest",style:{fontSize:"10px"}},"Menu"),s.a.createElement("th",{className:"adjust2Nwrest",style:{fontSize:"10px"}},"Qty"),s.a.createElement("th",{className:"adjust2Nwrest",style:{fontSize:"10px"}},"Rate"),s.a.createElement("th",{className:"adjust2Nwrest",style:{fontSize:"10px"}},"Amt"))),s.a.createElement("tbody",{className:"tableSettingsNow"},this.renderOders(this.state.selected))),s.a.createElement("hr",null),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Total: ",s.a.createElement(E.a,{value:this.state.cost,thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Amount Paid: ",s.a.createElement(E.a,{value:n,thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Bal: ",s.a.createElement(E.a,{value:this.state.cost-parseFloat(n),thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Payment Method: ",this.state.paymentMethod),s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized"},"Prepared By: ",localStorage.getItem("userInfo")),s.a.createElement("p",{className:"textSized"},"Shift: ",localStorage.getItem("shift")),s.a.createElement("p",{style:{fontSize:"13px",fontWeight:"bold"}},"THANK YOU"),s.a.createElement("div",{className:"printing"},s.a.createElement("button",{className:this.state.shiftcolor,onClick:function(){e.sendtoprinter()}},s.a.createElement("p",{className:"texted"},"Print")),s.a.createElement("button",{className:this.state.shiftcolor,onClick:function(){e.onCloseModalreceipt(),e.handleSubmit()}},s.a.createElement("p",{className:"texted"},"Close")))))),s.a.createElement(v.a,{open:this.state.compModal,onClose:function(){e.onCloseCompModal(),e.handleRoomSubmit()}},s.a.createElement("div",{className:"papersizeNew"},s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized",style:{fontWeight:"bold",fontSize:"14px"}},this.state.Hotelname),s.a.createElement("p",{className:"textSized mb-3"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSizedNumber"},"+234 802 288 8776"),s.a.createElement("hr",null),s.a.createElement("p",{className:"textSized",style:{fontWeight:"bold",fontSize:"14px"}},"Pool Bar Docket"),s.a.createElement("p",{className:"textSized"},"Date: ",t),s.a.createElement("p",{className:"textSized mb-3"},"Docket Num: ",a)),s.a.createElement("hr",null),s.a.createElement("table",{className:"tableSettingsNow"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust2Nwrest",style:{fontSize:"10px"}},"Menu"),s.a.createElement("th",{className:"adjust2Nwrest",style:{fontSize:"10px"}},"Qty"),s.a.createElement("th",{className:"adjust2Nwrest",style:{fontSize:"10px"}},"Rate"),s.a.createElement("th",{className:"adjust2Nwrest",style:{fontSize:"10px"}},"Amt"))),s.a.createElement("tbody",{className:"tableSettingsNow"},this.renderOders(this.state.selected))),s.a.createElement("hr",null),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Total: ",s.a.createElement(E.a,{value:this.state.cost,thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Amount Paid: ",s.a.createElement(E.a,{value:n,thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Bal: ",s.a.createElement(E.a,{value:this.state.cost-parseFloat(n),thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Payment Method: ",this.state.paymentMethod),s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized"},"Prepared By: ",localStorage.getItem("userInfo")),s.a.createElement("p",{className:"textSized"},"Shift: ",localStorage.getItem("shift")),s.a.createElement("p",{style:{fontSize:"13px",fontWeight:"bold"}},"THANK YOU"),s.a.createElement("div",{className:"printing"},s.a.createElement("button",{className:this.state.shiftcolor,onClick:function(){e.sendtoprinter()}},s.a.createElement("p",{className:"texted"},this.state.printBTN)),s.a.createElement("button",{className:this.state.shiftcolor,onClick:function(){e.onCloseCompModal(),e.handleRoomSubmit()}},s.a.createElement("p",{className:"texted"},"Close")))))),s.a.createElement(v.a,{open:this.state.RestRmcompModal,onClose:function(){e.onCloseCompRestRoomModal(),e.handleRoomSubmit2()}},s.a.createElement("div",{className:"papersizeNew"},s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized",style:{fontWeight:"bold",fontSize:"14px"}},this.state.Hotelname),s.a.createElement("p",{className:"textSized mb-3"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSizedNumber"},"+234 802 288 8776"),s.a.createElement("hr",null),s.a.createElement("p",{className:"textSized",style:{fontWeight:"bold",fontSize:"14px"}},"Pool Bar Food Docket"),s.a.createElement("p",{className:"textSized"},"Date: ",t),s.a.createElement("p",{className:"textSized mb-3"},"Docket Num: ",a)),s.a.createElement("hr",null),s.a.createElement("table",{className:"tableSettingsNow"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust2Nwrest",style:{fontSize:"10px"}},"Menu"),s.a.createElement("th",{className:"adjust2Nwrest",style:{fontSize:"10px"}},"Qty"),s.a.createElement("th",{className:"adjust2Nwrest",style:{fontSize:"10px"}},"Rate"),s.a.createElement("th",{className:"adjust2Nwrest",style:{fontSize:"10px"}},"Amt"))),s.a.createElement("tbody",{className:"tableSettingsNow"},this.renderOders(this.state.selected))),s.a.createElement("hr",null),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Total: ",s.a.createElement(E.a,{value:this.state.cost,thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Amount Paid: ",s.a.createElement(E.a,{value:n,thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Bal: ",s.a.createElement(E.a,{value:this.state.cost-parseFloat(n),thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"10px",fontFamily:"Arial, Helvetica, sans-seri"}},"Payment Method: ",this.state.paymentMethod),s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized"},"Prepared By: ",localStorage.getItem("userInfo")),s.a.createElement("p",{className:"textSized"},"Shift: ",localStorage.getItem("shift")),s.a.createElement("p",{style:{fontSize:"13px",fontWeight:"bold"}},"THANK YOU"),s.a.createElement("div",{className:"printing"},s.a.createElement("button",{className:this.state.shiftcolor,onClick:function(){e.sendtoprinter()}},s.a.createElement("p",{className:"texted"},this.state.printBTN)),s.a.createElement("button",{className:this.state.shiftcolor,onClick:function(){e.onCloseCompRestRoomModal(),e.handleRoomSubmit2()}},s.a.createElement("p",{className:"texted"},"Close")))))),s.a.createElement(v.a,{open:this.state.report,onClose:function(){e.onCloseModalreport()}},s.a.createElement("div",{className:"posPrint"},s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized",style:{fontWeight:"bold",fontSize:"14px"}},this.state.Hotelname),s.a.createElement("p",{className:"textSized mb-3"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSized mb-3"},this.state.Hotelphone),s.a.createElement("hr",null),s.a.createElement("p",{className:"textSized",style:{fontWeight:"bold",fontSize:"14px"}},"Pool Bar Daily Sales Report"),s.a.createElement("p",{className:"textSized"},"Report Date: ",t),s.a.createElement("p",{className:"textSized mb-3"},"Shift: ",this.state.useReportShift)),s.a.createElement("hr",null),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust2",style:{fontSize:"10px"}},"ID"),s.a.createElement("th",{className:"adjust2",style:{fontSize:"10px"}},"Menu"),s.a.createElement("th",{className:"adjust2",style:{fontSize:"10px"}},"Qty"),s.a.createElement("th",{className:"adjust2",style:{fontSize:"10px"}},"Price(=N)"),s.a.createElement("th",{className:"adjust2",style:{fontSize:"10px"}},"Amount(=N)"))),s.a.createElement("tbody",{className:"table table-hover tableheight"},this.renderSalesReport(this.state.DrinkSalesQtyReportData))),s.a.createElement("hr",null),s.a.createElement("p",{style:{fontSize:"14px",fontWeight:"bold"}},"Total Sales: ",s.a.createElement(E.a,{value:this.state.totalSales,thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized"},"Staff: ",this.state.useReportName),s.a.createElement("p",{className:"textSized"},"Shift: ",this.state.useReportShift),s.a.createElement("p",{style:{fontSize:"13px",fontWeight:"bold"}},"THANK YOU"),s.a.createElement("div",{className:"printing"},s.a.createElement("button",{className:this.state.shiftcolor,onClick:function(){e.sendtoprinter()}},s.a.createElement("p",{className:"texted"},this.state.printBTN)),s.a.createElement("button",{className:this.state.shiftcolor,onClick:function(){e.onCloseModalreport()}},s.a.createElement("p",{className:"texted"},"Close")))))),s.a.createElement(v.a,{open:this.state.credit,onClose:function(){return e.onCloseModalCredit()},style:{color:"silver"}},s.a.createElement("div",{className:"background591stockin"},s.a.createElement("h6",{style:{color:"silver",marginLeft:"50px",marginBottom:"-70px"}},"Recover Credit"),s.a.createElement("div",{className:"formdesign511"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("h6",null,"Summary"),s.a.createElement("div",{className:"col-3"},s.a.createElement("label",null,"Total Credit"),s.a.createElement("p",{type:"text",className:"form-control mb-3 formsize51 ikem"},s.a.createElement(E.a,{value:parseInt(this.state.TotalCredit),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("div",{className:"col-3"},s.a.createElement("label",null,"Total Recovered"),s.a.createElement("p",{type:"text",className:"form-control mb-3 formsize51 ikem"},s.a.createElement(E.a,{value:parseInt(this.state.TotalCreditPaid),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("div",{className:"col-3"},s.a.createElement("label",null,"Credit Balance"),s.a.createElement("p",{type:"text",className:"form-control mb-3 formsize51 ikem"},s.a.createElement(E.a,{value:parseInt(this.state.TotalCredit)-parseInt(this.state.TotalCreditPaid),thousandSeparator:!0,displayType:"text"})))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-4"},s.a.createElement("input",{type:"number",className:"form-control mb-3 formsize51 ikem",name:"creditPaid",require:!0,placeholder:"Enter Amount",value:this.state.creditPaid,onChange:this.handleChange})),s.a.createElement("div",{className:"col-4"},s.a.createElement("select",{className:"form-select formsize51 ikem",name:"paymentMethod",onChange:this.handleChange},s.a.createElement("option",{selected:!0,value:""},"Payment Method"),this.renderPayMeth(this.state.payNwMeth))))),s.a.createElement("div",{className:"row"},s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("center",null,s.a.createElement("span",null,s.a.createElement("button",{disabled:""===this.state.creditPaid,className:"btn btn-warning gap",onClick:function(){return e.postCredit()}},"Post"),s.a.createElement("button",{className:"btn btn-danger gap",onClick:function(){return e.onCloseModalCredit()}},"Close"))),s.a.createElement("br",null))))))}},{key:"componentDidMount",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(">>> Inside RESdidMount"),fetch("".concat("https://zarvichdemo.localto.net/drinkCategories"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({menu:e})}),fetch("".concat("https://zarvichdemo.localto.net/menuCategories"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({RestMenu:e})}),fetch("".concat("https://zarvichdemo.localto.net/getPoolBarStore2"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({DrinkstoreData:e})}),fetch("".concat("https://zarvichdemo.localto.net/hoteladdress"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return t.setState({Hotelname:e.HotelName,Hoteladdress:e.Address,Hotelphone:e.Phone}),"ok"})}),e.next=7,fetch("".concat("https://zarvichdemo.localto.net/getActive"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return t.setState({transactionDate:e.date}),"ok"})});case 7:this.myTimer=setInterval(function(){fetch("".concat("https://zarvichdemo.localto.net/getActive"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return t.setState({transactionDate:e.date}),"ok"})})},1e3),fetch("".concat(Ja),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({payNwMeth:e})}),fetch("".concat("https://zarvichdemo.localto.net/getPoolBarSalesQty"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({DrinkSalesQtyData:e})}),fetch("".concat(Va),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({tables:e})}),this.myTimer=setTimeout(function(){fetch("".concat(Va),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({tables:e})}),localStorage.setItem("btnCntrl",!0)},2e3),fetch("".concat("https://zarvichdemo.localto.net/poolUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({loginDetails:e})}),this.myTimer=setTimeout(function(){var e=t.state.loginDetails,a=t.state.name;e.some(function(e){return e.name===a})?t.setState({Blogin:!0}):t.setState({Blogin:!1})},1e3),"Morning Shift"===localStorage.getItem("shift")?this.setState({shiftcolor:"btn btn-primary cartBtn20"}):"Night Shift"===localStorage.getItem("shift")?this.setState({shiftcolor:"btn btn-dark cartBtn20"}):"All Day"===localStorage.getItem("shift")&&this.setState({shiftcolor:"btn btn-warning cartBtn20"});case 15:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),a}(n.Component),Xa=Ka,Za=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value))},console.log(">>> inside loginConstructor",e),n.state={login:!1,userInfo:"",userPassword:"",authPassword:"",selectUserName:"",shift:""},n}return Object(p.a)(a,[{key:"login",value:function(){var e=this;fetch("".concat("https://zarvichdemo.localto.net/clubUserInfo?clubcode=").concat(this.state.userPassword),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({userInfo:t}),e.myTimer=setTimeout(function(){e.state.userInfo.length>0&&(e.setState({login:!1}),window.location.reload(),t.map(function(t){return localStorage.setItem("userInfo",t.name),localStorage.setItem("shift",e.state.shift),"ok"}))},1e3)})}},{key:"onCloseModallogin",value:function(){this.setState({login:!0})}},{key:"render",value:function(){var e=this;return console.log(">>> Inside logindetails",this.state),s.a.createElement(s.a.Fragment,null,s.a.createElement(v.a,{open:this.state.login,onClose:function(){return e.onCloseModallogin()},center:!0},s.a.createElement("div",null,s.a.createElement("div",{className:"formdesign152"},s.a.createElement("h6",{className:"mb-3"},"Login First"),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("input",{type:"password",autoComplete:"off",className:"form-control mb-3 formsize51",name:"userPassword",require:!0,placeholder:"Enter password",value:this.state.userPassword,onChange:this.handleChange}),s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize51",name:"shift",require:!0,placeholder:"Select Shift",value:this.state.shift,list:"shift",onChange:this.handleChange}),s.a.createElement("datalist",{id:"shift"},s.a.createElement("option",{value:"Morning Shift"}),s.a.createElement("option",{value:"Night Shift"}),s.a.createElement("option",{value:"All Day"})),s.a.createElement("button",{disabled:""===this.state.userPassword||""===this.state.shift,className:"btn btn-warning formsize91",onClick:function(){return e.login()}},"Login")))))))}},{key:"componentDidMount",value:function(){var e=this;console.log(">>> Inside loginDidMount",this.state),fetch("".concat("https://zarvichdemo.localto.net/clubUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({selectUserName:t,login:!0})})}}]),a}(n.Component),$a=Za,en="https://zarvichdemo.localto.net/club",tn="https://zarvichdemo.localto.net/checkin?docket=Yes",an="https://zarvichdemo.localto.net/checkin?roomNumID=",nn="https://zarvichdemo.localto.net/paymentMethods",sn="https://zarvichdemo.localto.net/clubTablePost",on="https://zarvichdemo.localto.net/getclubTables",rn="https://zarvichdemo.localto.net/getClubStore",ln="https://zarvichdemo.localto.net/getClubSalesQtyNew",cn=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleCost=function(e){if(null!==n.state.selected){var t=e.reduce(function(e,t){return e+t.mealPrice*t.qty},0);n.setState({cost:t})}null!==n.state.cost&&(fetch("".concat(tn),{method:"GET"}).then(function(e){return e.json()}).then(function(e){n.setState({displayRoomNums:e})}),fetch("".concat(nn),{method:"GET"}).then(function(e){return e.json()}).then(function(e){n.setState({displayPaymentMethods:e})}),localStorage.removeItem("btnCntrl"),localStorage.removeItem("delcntrl"))},n.addqty=function(){var e=n.state.selected.map(function(e){return parseInt(e.qty+1)});n.setState({selected:e})},n.removeAll=function(e){var t=n.state.selected.filter(function(t){return t.id===e});n.setState({selected:t}),n.setState({cost:0}),n.setState({roomNumbers:""}),n.setState({amountPaid:""}),n.setState({displayRoomNums:""}),n.setState({paymentMethod:""}),n.setState({displayPaymentMethods:""}),n.setState({displayPaymentMethods:"",DrinkStore:0,DrinkSalesQty:0,stockBal:0})},n.handleChange=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value))},n.handleChange3=function(e){""===n.state.Newmeal&&""===n.state.Newprice&&""===n.state.Newid||n.setState(Object(h.a)({},e.target.name,e.target.value))},n.handleChange2=function(e){console.log("inside handle",n.props),n.setState(Object(h.a)({},e.target.name,e.target.value)),fetch("".concat(an).concat(e.target.value),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return n.setState({guestInhouseID:e.refID,group:e.group}),"ok"})})},console.log(">>>Inside RESConstructor",e),n.state={Newmeal:"",Newprice:"",Newqty:0,Newid:"",edit:!1,editreceipt:!1,compModal:!1,report:!1,printStop:0,docketFirst:0,printBTN:"Print",print:0,blockTable:0,IDfound:[],menu:"",meal:"",mealPrice:"",mealQuantity:"",mealId:Math.floor(1e4*Math.random()),guestInhouseID:"",selected:[],menuID:"",menulist:"",cost:0,amountPaid:"",roomNumbers:"",paymentMethod:"",displayPaymentMethods:"",displayRoomNums:"",transactionDate:"",tables:"",newTable:"",NewtableNum:0,group:"",loginDetails:"",name:localStorage.getItem("userInfo"),Blogin:"",login:"",shiftcolor:"",shift:localStorage.getItem("shift"),DrinkstoreData:[],DrinkSalesQtyData:[],DrinkStore:0,DrinkSalesQty:0,stockBal:0,DrinkSalesQtyReportData:"",useReportName:"",useReportShift:"",useReportDate:"",totalSales:0,Stockbtn:"Add",creditSales:"",TotalCredit:0,creditPaid:0,payNwMeth:"",TotalCreditPaid:0,Hotelname:"",Hoteladdress:"",Hotelphone:"",pass:"",pword:!1,pword2:!1},n}return Object(p.a)(a,[{key:"onOpenPword",value:function(){"Credit"===this.state.paymentMethod?this.setState({pword:!0}):(this.setState({pword:!1}),this.onOpenModalreceipt(),this.postQty())}},{key:"onClosePword",value:function(){this.setState({pword:!1})}},{key:"AllowRefund",value:function(){"6849"===this.state.pass?(this.onOpenModalreceipt(),this.postQty(),this.onClosePword()):alert("Access Denied")}},{key:"onOpenModaltoprint",value:function(){this.setState({edit:!0})}},{key:"onOpenCompModal",value:function(){this.setState({compModal:!0})}},{key:"onCloseModalCredit",value:function(){this.setState({credit:!1,creditPaid:0})}},{key:"onCloseCompModal",value:function(){this.setState({compModal:!1})}},{key:"onCloseModaltoprint",value:function(){this.setState({edit:!1})}},{key:"onOpenModalreceipt",value:function(){this.setState({editreceipt:!0})}},{key:"onCloseModalreceipt",value:function(){this.setState({editreceipt:!1})}},{key:"onOpenModalreport",value:function(){this.setState({report:!0})}},{key:"onCloseModalreport",value:function(){this.setState({report:!1})}},{key:"handleReport",value:function(){var e=this,t=k()(new Date).format("MMM DD YYYY"),a=localStorage.getItem("userInfo"),n="".concat(ln,"?useDate=").concat(t,"&&useshift=").concat(this.state.shift,"&&userstaff=").concat(a);fetch("".concat(n),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({DrinkSalesQtyReportData:t})}),this.myTimer=setTimeout(function(){if(e.state.DrinkSalesQtyReportData.length>0){var t=e.state.DrinkSalesQtyReportData,n=t.find(function(e){return e.user===a}),s=[];s.push(n),e.setState({useReportName:s.map(function(e){return e.user})}),e.setState({useReportShift:s.map(function(e){return e.shift})}),e.setState({useReportDate:s.map(function(e){return e.tranDate})});var o=t.reduce(function(e,t){return e+parseInt(t.productPrice*t.Quantity)},0);e.setState({totalSales:o}),e.onOpenModalreport()}else alert("No Sales was posted by "+a)},1e3)}},{key:"handleStock",value:function(){var e=this;if(this.state.DrinkstoreData.length>0){var t=sessionStorage.getItem("meal"),a=this.state.DrinkstoreData.filter(function(e){return e.productName.includes(t)}).reduce(function(e,t){return e+parseInt(t.piecesOut)},0);this.setState({DrinkStore:a});var n=this.state.DrinkSalesQtyData.filter(function(e){return e.productName.includes(t)}).reduce(function(e,t){return e+parseInt(t.Quantity)},0);this.setState({DrinkSalesQty:n}),this.myTimer=setTimeout(function(){var t=0+e.state.DrinkStore-e.state.DrinkSalesQty;e.setState({stockBal:t}),(t<0||t<-1)&&e.setState({stockBal:0}),0===e.state.stockBal?e.setState({Stockbtn:"Finished"}):e.setState({Stockbtn:"Add"})},1e3)}}},{key:"addToTable",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=sessionStorage.getItem("tableNumber3"),a=this.state.selected,n={selected:a.map(function(e){return e}),billCost:this.state.cost,tableNum:sessionStorage.getItem("tableNumber3"),user:localStorage.getItem("userInfo")},e.next=6,fetch("".concat(sn,"/").concat(t),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)});case 6:s=e.sent,console.log("result>  "+s),this.setState({selected:[]}),localStorage.setItem("btnCntrl",!0),this.setState({cost:0}),this.setState({roomNumbers:""}),this.setState({displayRoomNums:""}),this.setState({displayPaymentMethods:""}),this.setState({paymentMethod:""}),this.setState({printStop:0}),localStorage.removeItem("delcntrl"),sessionStorage.removeItem("tableNumber3"),fetch("".concat(on),{method:"GET"}).then(function(e){return e.json()}).then(function(e){o.setState({tables:e})}),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(0),console.log(e.t0);case 24:case"end":return e.stop()}},e,this,[[0,21]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleCredit",value:function(){var e=this,t=localStorage.getItem("userInfo");fetch("".concat("https://zarvichdemo.localto.net/clubCreditSales?Clstaff=").concat(t),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({creditSales:t}),t.map(function(a){var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.creditAmount)},0);e.setState({TotalCredit:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.creditPaid)},0);return e.setState({TotalCreditPaid:s}),"ok"})}),this.myTimer=setTimeout(function(){e.setState({credit:!0})},1e3)}},{key:"NewTable",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=sessionStorage.getItem("tableNumber3"),a=this.state.selected,n={selected:a.map(function(e){return e}),billCost:this.state.cost,tableNum:t},0!==this.state.cost){e.next=9;break}alert("If you click table Number again without an order, I will slap you!"),sessionStorage.removeItem("tableNumber"),e.next=23;break;case 9:return e.next=11,fetch("".concat(sn,"/").concat(t),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)});case 11:s=e.sent,console.log("result>  "+s),this.setState({selected:[]}),localStorage.setItem("btnCntrl",!0),this.setState({cost:0}),this.setState({roomNumbers:""}),this.setState({displayRoomNums:""}),this.setState({displayPaymentMethods:""}),this.setState({paymentMethod:""}),localStorage.removeItem("delcntrl"),this.setState({newTable:""}),fetch("".concat(on),{method:"GET"}).then(function(e){return e.json()}).then(function(e){o.setState({tables:e})});case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(0),console.log(e.t0);case 28:case"end":return e.stop()}},e,this,[[0,25]])}));return function(){return e.apply(this,arguments)}}()},{key:"getTableP",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{t=sessionStorage.getItem("tableNumber3"),fetch("".concat("https://zarvichdemo.localto.net/getclubTables?tableID=").concat(t),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return a.setState({selected:e.selected,cost:e.billCost,NewtableNum:1}),"ok"}),localStorage.removeItem("btnCntrl")}),fetch("".concat(tn),{method:"GET"}).then(function(e){return e.json()}).then(function(e){a.setState({displayRoomNums:e})}),fetch("".concat(nn),{method:"GET"}).then(function(e){return e.json()}).then(function(e){a.setState({displayPaymentMethods:e})}),localStorage.setItem("delcntrl",!0),this.setState({printStop:1})}catch(n){console.log(n)}case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"postQty",value:function(){var e=this;try{this.state.selected.map(function(t){var a=t.meal,n=t.mealPrice,s=t.qty,o={id:t.tranID,productName:a,productPrice:n,Quantity:parseInt(s),user:localStorage.getItem("userInfo"),tranDate:k()(new Date).format("MMM DD YYYY"),shift:localStorage.getItem("shift")},r=fetch("".concat("http://192.168.6.231:3333/postClubSalesQty"),{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(o)});return console.log("result>  "+r),e.setState({Newmeal:"",Newprice:"",Newqty:0,Newid:"",DrinkstoreData:[],DrinkSalesQtyData:[]}),e.myTimer=setTimeout(function(){fetch("".concat(rn),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({DrinkstoreData:t})}),fetch("".concat(ln),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({DrinkSalesQtyData:t})})},1e3),"ok"})}catch(t){console.log(t)}}},{key:"buttonClick",value:function(){var e=this;fetch("".concat("https://zarvichdemo.localto.net/drinkitems?drinktypes=").concat(this.state.menuID),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({menulist:t})})}},{key:"sendtoprinter",value:function(){window.print()}},{key:"sendtoprinter2",value:function(){"Print"===this.state.printBTN?(window.print(),this.setState({printBTN:"Close"})):"Close"===this.state.printBTN&&(this.setState({edit:!1}),this.setState({printBTN:"Print"}),this.setState({print:0,printStop:0,DrinkSalesQty:0,stockBal:0,blockTable:0}))}},{key:"handleSubmit",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o,r,l,c,i,u,h,d,p,f=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=sessionStorage.getItem("tableNumber3"),a={selected:[],billCost:"",tableNum:sessionStorage.getItem("tableNumber3")},"POS"!==this.state.paymentMethod){e.next=9;break}return n={docketNum:"Club"+Math.floor(1e7*Math.random()),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),cost:"".concat(this.state.cost),POSAmount:"".concat(this.state.amountPaid),CashAmount:0,TransferAmount:0,CompDebit:0,roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod),description:"Club Sales",department:"Club Sales",docketDetails:this.state.selected,group:"".concat(this.state.group),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=7,fetch(en,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)});case 7:s=e.sent,console.log("result5>  "+s);case 9:if("Cash"!==this.state.paymentMethod){e.next=15;break}return o={docketNum:"Club"+Math.floor(1e7*Math.random()),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),cost:"".concat(this.state.cost),CashAmount:"".concat(this.state.amountPaid),POSAmount:0,TransferAmount:0,CompDebit:0,roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod),description:"Club Sales",department:"Club Sales",docketDetails:this.state.selected,group:"".concat(this.state.group),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=13,fetch(en,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(o)});case 13:r=e.sent,console.log("result4>  "+r);case 15:if("Transfer"!==this.state.paymentMethod){e.next=21;break}return l={docketNum:"Club"+Math.floor(1e7*Math.random()),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),cost:"".concat(this.state.cost),TransferAmount:"".concat(this.state.amountPaid),POSAmount:0,CashAmount:0,CompDebit:0,roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod),description:"Club Sales",department:"Club Sales",docketDetails:this.state.selected,group:"".concat(this.state.group),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=19,fetch(en,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(l)});case 19:c=e.sent,console.log("result3>  "+c);case 21:if("Complimentary"!==this.state.paymentMethod){e.next=27;break}return i={docketNum:"Club"+Math.floor(1e7*Math.random()),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),cost:"".concat(this.state.cost),amountPaid:"".concat(this.state.amountPaid),CompDebit:"".concat(this.state.cost),POSAmount:0,CashAmount:0,TransferAmount:0,roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod),description:"Club Sales",department:"Club Sales",docketDetails:this.state.selected,group:"".concat(this.state.group),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=25,fetch(en,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(i)});case 25:u=e.sent,console.log("result2>  "+u);case 27:if("Credit"!==this.state.paymentMethod){e.next=33;break}return h={docketNum:"Club"+Math.floor(1e7*Math.random()),date:k()(this.state.transactionDate).format("MMM DD YYYY"),cost:"".concat(this.state.cost),creditAmount:"".concat(this.state.amountPaid),paymentMethod:"".concat(this.state.paymentMethod),description:"Club Credit",department:"Club Credit",docketDetails:this.state.selected,group:"".concat(this.state.group),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift"),creditPaid:"".concat(this.state.creditPaid)},e.next=31,fetch("https://zarvichdemo.localto.net/clubCredit",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(h)});case 31:d=e.sent,console.log("result2>  "+d);case 33:return e.next=35,fetch("".concat(sn,"/").concat(t),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(a)});case 35:p=e.sent,console.log("result12>  "+p),alert("Sales Posted"),this.setState({selected:[]}),this.setState({cost:0}),this.setState({amountPaid:""}),this.setState({displayRoomNums:""}),this.setState({roomNumbers:""}),this.setState({paymentMethod:""}),this.setState({displayPaymentMethods:""}),this.setState({group:"",NewtableNum:0,shift:"",Newmeal:"",Newprice:"",Newqty:0,Newid:"",DrinkstoreData:[],DrinkSalesQtyData:[]}),sessionStorage.removeItem("stockBal"),localStorage.removeItem("delcntrl"),localStorage.setItem("btnCntrl",!0),sessionStorage.removeItem("tableNumber"),fetch("".concat(rn),{method:"GET"}).then(function(e){return e.json()}).then(function(e){f.setState({DrinkstoreData:e})}),fetch("".concat(ln),{method:"GET"}).then(function(e){return e.json()}).then(function(e){f.setState({DrinkSalesQtyData:e})}),fetch("".concat(on),{method:"GET"}).then(function(e){return e.json()}).then(function(e){f.setState({tables:e})}),fetch("".concat(on),{method:"GET"}).then(function(e){return e.json()}).then(function(e){f.setState({tables:e})}),e.next=59;break;case 56:e.prev=56,e.t0=e.catch(0),console.log(e.t0);case 59:case"end":return e.stop()}},e,this,[[0,56]])}));return function(){return e.apply(this,arguments)}}()},{key:"postCredit",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o,r,l,c;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={docketNum:"Club"+Math.floor(1e7*Math.random()),date:k()(this.state.transactionDate).format("MMM DD YYYY"),cost:0,creditAmount:0,paymentMethod:"".concat(this.state.paymentMethod),description:"Club Credit",department:"Club Credit",docketDetails:this.state.selected,group:"".concat(this.state.group),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift"),creditPaid:"".concat(this.state.creditPaid)},e.next=4,fetch("https://zarvichdemo.localto.net/clubCredit",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)});case 4:if(a=e.sent,console.log("creditPay>  "+a),"POS"!==this.state.paymentMethod){e.next=12;break}return n={docketNum:"Club"+Math.floor(1e8*Math.random()),date:k()(this.state.transactionDate).format("MMM DD YYYY"),cost:"".concat(this.state.cost),POSAmount:"".concat(this.state.creditPaid),CashAmount:0,TransferAmount:0,CompDebit:0,roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod),description:"Club Credit",department:"Club Sales",docketDetails:this.state.selected,group:"".concat(this.state.group),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=10,fetch(en,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)});case 10:s=e.sent,console.log("result5>  "+s);case 12:if("Cash"!==this.state.paymentMethod){e.next=18;break}return o={docketNum:"Club"+Math.floor(1e7*Math.random()),date:k()(this.state.transactionDate).format("MMM DD YYYY"),cost:"".concat(this.state.cost),CashAmount:"".concat(this.state.creditPaid),POSAmount:0,TransferAmount:0,CompDebit:0,roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod),description:"Club Credit",department:"Club Credit",docketDetails:this.state.selected,group:"".concat(this.state.group),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=16,fetch(en,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(o)});case 16:r=e.sent,console.log("result4>  "+r);case 18:if("Transfer"!==this.state.paymentMethod){e.next=24;break}return l={docketNum:"Club"+Math.floor(1e7*Math.random()),date:k()(this.state.transactionDate).format("MMM DD YYYY"),cost:"".concat(this.state.cost),TransferAmount:"".concat(this.state.creditPaid),POSAmount:0,CashAmount:0,CompDebit:0,roomDebit:0,paymentMethod:"".concat(this.state.paymentMethod),description:"Club Credit",department:"Club Credit",docketDetails:this.state.selected,group:"".concat(this.state.group),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=22,fetch(en,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(l)});case 22:c=e.sent,console.log("result3>  "+c);case 24:alert("Credit Posted"),this.setState({creditSales:"",TotalCredit:0,creditPaid:0,TotalCreditPaid:0}),e.next=31;break;case 28:e.prev=28,e.t0=e.catch(0),console.log(e.t0);case 31:case"end":return e.stop()}},e,this,[[0,28]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleRoomSubmit",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o,r,l=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=sessionStorage.getItem("tableNumber3"),a={selected:[],billCost:"",tableNum:sessionStorage.getItem("tableNumber3")},n={_id:Math.floor(1e8*Math.random()),docketNum:"Club"+Math.floor(1e7*Math.random()),refID:"".concat(this.state.guestInhouseID),date:k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),cost:"".concat(this.state.cost),amountPaid:"".concat(this.state.amountPaid),roomDebit:"".concat(this.state.cost),POSAmount:0,CashAmount:0,TransferAmount:0,CompDebit:0,paymentMethod:"".concat(this.state.paymentMethod),roomNumbers:"".concat(this.state.roomNumbers),description:"Club Docket",department:"Club Sales",docketDetails:this.state.selected,group:"".concat(this.state.group),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=6,fetch("https://zarvichdemo.localto.net/bill",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)});case 6:return s=e.sent,console.log("result>  "+s),e.next=10,fetch(en,{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)});case 10:return o=e.sent,console.log("result2>  "+o),e.next=14,fetch("".concat(sn,"/").concat(t),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(a)});case 14:r=e.sent,console.log("result14>  "+r),alert("Docket Posted to Room "+this.state.roomNumbers),this.setState({selected:[]}),this.setState({cost:0}),this.setState({amountPaid:""}),this.setState({displayRoomNums:""}),this.setState({roomNumbers:""}),this.setState({paymentMethod:""}),this.setState({displayPaymentMethods:""}),this.setState({group:""}),this.setState({NewtableNum:0,shift:"",Newmeal:"",Newprice:"",Newqty:0,Newid:"",DrinkstoreData:[],DrinkSalesQtyData:[]}),sessionStorage.removeItem("stockBal"),localStorage.removeItem("delcntrl"),localStorage.setItem("btnCntrl",!0),sessionStorage.removeItem("tableNumber"),fetch("".concat(rn),{method:"GET"}).then(function(e){return e.json()}).then(function(e){l.setState({DrinkstoreData:e})}),fetch("".concat(on),{method:"GET"}).then(function(e){return e.json()}).then(function(e){l.setState({tables:e})}),e.next=37;break;case 34:e.prev=34,e.t0=e.catch(0),console.log(e.t0);case 37:case"end":return e.stop()}},e,this,[[0,34]])}));return function(){return e.apply(this,arguments)}}()},{key:"logout",value:function(){localStorage.removeItem("userInfo"),this.setState({login:!0}),localStorage.removeItem("shift")}},{key:"renderTables",value:function(e){var t=this;if(e)return e.sort(function(e,t){return e.tableNum-t.tableNum}),e.map(function(e){return""===e.billCost?s.a.createElement("div",{key:e._id},s.a.createElement("button",{className:"btn btn-success cartBtn3 alignroomsgreen2",disabled:1===t.state.NewtableNum,onClick:function(){sessionStorage.setItem("tableNumber3",e.tableNum),t.NewTable(),t.setState({docketFirst:0})}},s.a.createElement("p",{className:"texted"},e.tableNum))):s.a.createElement("div",{key:e._id},s.a.createElement("button",{className:"btn btn-warning cartBtn3 alignroomsgreen2",onClick:function(){sessionStorage.setItem("tableNumber3",e.tableNum),t.getTableP(),t.setState({print:1})}},s.a.createElement("p",{className:"texted"},e.tableNum)))})}},{key:"renderPayMeth",value:function(e){if(e)return e.map(function(e,t){return s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{key:t,value:e.method},e.method))})}},{key:"renderRooms",value:function(e){if(e)return e.sort(function(e,t){return e.roomNumbers-t.roomNumbers}),e.map(function(e,t){return s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{key:t,value:e.roomNumbers},e.roomNumbers," - ",e.fname," ",e.lname))})}},{key:"addMeal",value:function(){var e=this;this.state.menulist.map(function(t){return e.setState({Newmeal:t.mealName,Newprice:t.mealPrice,Newqty:parseInt(t.mealQt),Newid:t._id}),"ok"})}},{key:"increament",value:function(){0!==this.state.Newqty&&this.setState({Newqty:this.state.Newqty+1})}},{key:"decreament",value:function(){0!==this.state.Newqty&&this.setState({Newqty:this.state.Newqty-1})}},{key:"pushorder",value:function(){var e=this,t=this.state.selected,a={};this.state.selected.length>0?(this.setState({blockTable:1}),a.id=this.state.Newid,a.meal=this.state.Newmeal,a.mealPrice=this.state.Newprice,a.qty=this.state.Newqty,a.tranID=Math.floor(1e4*Math.random()),t.push(a),this.setState({selected:t,printStop:0,DrinkStore:0,DrinkSalesQty:0,stockBal:0,Newmeal:"",Newprice:"",Newqty:0,Newid:""})):0===this.state.selected.length&&(this.setState({blockTable:0}),a.id=this.state.Newid,a.meal=this.state.Newmeal,a.mealPrice=this.state.Newprice,a.qty=this.state.Newqty,a.tranID=Math.floor(1e4*Math.random()),t.push(a),this.setState({selected:t,Newmeal:"",Newprice:"",Newqty:0,Newid:"",printStop:0,DrinkStore:0,DrinkSalesQty:0,stockBal:0})),this.myTimer=setTimeout(function(){if(e.state.selected.length>0){var a=t.reduce(function(e,t){return e+t.mealPrice*t.qty},0);e.setState({cost:a})}0!==e.state.cost&&(fetch("".concat(tn),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({displayRoomNums:t})}),fetch("".concat(nn),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({displayPaymentMethods:t})}),localStorage.removeItem("delcntrl"))},1e3)}},{key:"renderMenu",value:function(e){var t=this;if(e)return e.map(function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("div",{className:"card alignroomsgreen3",style:{backgroundColor:"orangered"},key:e.mealTypeID},s.a.createElement("button",{className:"btn btn-orangered buttnheightbtn",onMouseOver:function(){return sessionStorage.setItem("meal",e.mealName)},onClick:function(){t.setState({Newmeal:e.mealName,Newprice:e.mealPrice,Newqty:parseInt(e.mealQt),Newid:e._id,tranID2:Math.floor(1e4*Math.random())}),t.handleStock()}},s.a.createElement("p",{className:"card-title formatnew2"},e.mealName))))))})}},{key:"renderOders",value:function(e){if(e)return e.map(function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:e.id},s.a.createElement("td",{className:"table-light table-striped adjust texted8"},e.meal),s.a.createElement("td",{className:"table-light table-striped adjust texted8"},e.qty),s.a.createElement("td",{className:"table-light table-striped adjust texted8"},s.a.createElement(E.a,{value:e.mealPrice,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust texted8"},s.a.createElement(E.a,{value:e.mealPrice*e.qty,thousandSeparator:!0,displayType:"text"}))))})}},{key:"renderSalesReport",value:function(e){if(e)return e.map(function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:e.id},s.a.createElement("td",{className:"table-light table-striped adjust texted8"},e.productName),s.a.createElement("td",{className:"table-light table-striped adjust texted8"},e.Quantity),s.a.createElement("td",{className:"table-light table-striped adjust texted8"},s.a.createElement(E.a,{value:e.productPrice,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust texted8"},s.a.createElement(E.a,{value:e.productPrice*e.Quantity,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust texted8"}," ")))})}},{key:"renderPos",value:function(e){var t=this;if(e)return e.map(function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("div",{className:"card alignroomsgreen3",style:{backgroundColor:"blueviolet"},key:e.mealTypeID},s.a.createElement("button",{className:"btn btn-blueviolet buttnheightbtn",onMouseOver:function(){return t.setState({menuID:e.mealTypeID})},onClick:function(){return t.buttonClick()}},s.a.createElement("p",{className:"card-title formatnew2"},e.mealType))))))})}},{key:"render",value:function(){var e=this;console.log(">>> Inside RESrender",this.state);var t=k()("".concat(this.state.transactionDate)).format("MMM DD YYYY"),a="Club"+Math.floor(1e7*Math.random()),n=this.state.amountPaid;return""===this.state.amountPaid&&(n=0),null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement($a,null)):s.a.createElement("div",{className:"posterminal"},s.a.createElement("br",null),s.a.createElement("div",{className:"row quantity"},s.a.createElement("center",null,s.a.createElement("h6",{style:{color:"white"}},"Add Quantity")),s.a.createElement("div",null,s.a.createElement("div",{className:"row"},s.a.createElement("p",{className:"prices"},"Price: ",this.state.Newprice),s.a.createElement("p",{className:"prices2"},"Avail.Stock: ",this.state.stockBal),s.a.createElement("span",{className:"dcrbtn"},s.a.createElement("button",{className:"form-control mb-3 formsizeX1",onClick:function(){return e.decreament()}},s.a.createElement("p",{className:"sign"},"-"))),s.a.createElement("span",{className:"qtybtn"},s.a.createElement("input",{type:"number",className:"form-control2 mb-3 formsizeX",style:{textAlign:"center",fontStyle:"bold",color:"white",fontSize:"24px"},name:"Newqty",value:this.state.Newqty,onChange:this.handleChange3})),s.a.createElement("span",{className:"incbtn"},s.a.createElement("button",{className:"form-control mb-3 formsizeX1",onClick:function(){return e.increament()}},s.a.createElement("p",{className:"sign"},"+"))),s.a.createElement("button",{className:"btn btn-warning addbtn",disabled:0===this.state.Newqty||0===this.state.stockBal,onClick:function(){e.pushorder(),e.setState({docketFirst:1})}},this.state.Stockbtn)))),s.a.createElement("div",{className:"salesTable"},s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust2"},"Menu"),s.a.createElement("th",{className:"adjust2"},"Qty"),s.a.createElement("th",{className:"adjust2"},"Price(=N)"),s.a.createElement("th",{className:"adjust2"},"Amount(=N)"))),s.a.createElement("tbody",{className:"table table-hover tableheight"},this.renderOders(this.state.selected)))),s.a.createElement("div",{className:"amountP"},s.a.createElement("input",{type:"text",className:"form-control mb-3 formsizeA1 textedM",name:"amountPaid",require:!0,placeholder:"Enter Payment",value:this.state.amountPaid,onChange:this.handleChange})),s.a.createElement("div",{className:"method"},s.a.createElement("select",{className:"form-select formsizeA1 textedM",name:"paymentMethod",onChange:this.handleChange},s.a.createElement("option",{selected:!0,value:""},"Payment Method"),this.renderPayMeth(this.state.displayPaymentMethods))),s.a.createElement("div",{className:"textAmount"},s.a.createElement("p",{className:"fmtcost2",style:{color:"white"}},"Total: ",s.a.createElement(E.a,{value:this.state.cost,thousandSeparator:!0,displayType:"text"}),".00")),s.a.createElement("div",{className:"textAmount2"},s.a.createElement("p",{className:"fmtcost2",style:{color:"white"}},"Bal: ",s.a.createElement(E.a,{value:this.state.cost-parseFloat(n),thousandSeparator:!0,displayType:"text"}),".00")),s.a.createElement("div",{className:"operations"},s.a.createElement("h4",{className:"texted4",style:{color:"white"}},"Operations"),s.a.createElement("button",{disabled:localStorage.getItem("delcntrl"),className:"btn btn-primary cartBtn2",onClick:function(){e.removeAll(),e.setState({docketFirst:0})}},s.a.createElement("p",{className:"texted"},"Delete")),s.a.createElement("button",{disabled:0===this.state.cost||""===this.state.amountPaid||this.state.amountPaid<this.state.cost||this.state.amountPaid>this.state.cost||""===this.state.paymentMethod||"Complimentary"===this.state.paymentMethod||1===this.state.docketFirst,className:"btn btn-primary cartBtn2",onClick:function(){e.onOpenModalreceipt(),e.postQty()}},s.a.createElement("p",{className:"texted"},"Post")),s.a.createElement("select",{type:"button",disabled:1===this.state.docketFirst,className:"form-select formsizeB mb-2 btn btn-primary texted",name:"roomNumbers",onChange:this.handleChange2},s.a.createElement("option",{selected:!0,value:""},"Rooms"),this.renderRooms(this.state.displayRoomNums)),s.a.createElement("button",{disabled:""===this.state.roomNumbers||""!==this.state.amountPaid||1===this.state.docketFirst,className:"btn btn-primary cartBtn4",onClick:function(){e.onOpenCompModal(),e.postQty()}},s.a.createElement("p",{className:"texted"},"Room Post")),s.a.createElement("button",{disabled:"Complimentary"!==this.state.paymentMethod||""!==this.state.amountPaid||1===this.state.docketFirst,className:"btn btn-primary cartBtn2",onClick:function(){e.onOpenModalreceipt(),e.postQty()}},s.a.createElement("p",{className:"texted"},"Comp")),s.a.createElement("button",{disabled:1===this.state.docketFirst,className:"btn btn-primary cartBtn2",onClick:function(){e.handleReport()}},s.a.createElement("p",{className:"texted"},"Reports")),s.a.createElement("button",{disabled:localStorage.getItem("btnCntrl"),className:"btn btn-warning cartBtn12",onClick:function(){e.addToTable(),e.setState({NewtableNum:0})}},s.a.createElement("p",{className:"texted"},"Add to Table ",sessionStorage.getItem("tableNumber3"))),s.a.createElement("button",{disabled:1===this.state.docketFirst,className:"btn btn-danger cartBtn2",onClick:function(){e.props.history.push("/PoolBarPortal")}},s.a.createElement("p",{className:"texted"},"Close")),s.a.createElement("button",{className:"btn btn-danger cartBtn20",onClick:function(){return e.logout()}},s.a.createElement("p",{className:"texted"},"Log Out ",localStorage.getItem("userInfo").split(" ")[0])),s.a.createElement("button",{disabled:1===this.state.docketFirst,className:"btn btn-primary cartBtn112",onClick:function(){e.handleCredit()}},s.a.createElement("p",{className:"texted"},"Recover Debt")),s.a.createElement("button",{disabled:!0,className:this.state.shiftcolor},s.a.createElement("p",{className:"texted"},localStorage.getItem("shift"))),s.a.createElement("button",{disabled:0===this.state.selected.length||0===this.state.printStop||0===this.state.print,className:this.state.shiftcolor,onClick:function(){e.onOpenModaltoprint(),localStorage.setItem("delcntrl",!0)}},s.a.createElement("p",{className:"texted"},"Print Docket"))),s.a.createElement("div",{className:"tables"},s.a.createElement("h5",{className:"texted2",style:{color:"white"}},"Get Table"),s.a.createElement("h5",{className:"texted2",style:{color:"yellow"}},"Work Date: ",t),s.a.createElement("div",null,this.renderTables(this.state.tables)),s.a.createElement("h6",{style:{color:"silver",textAlign:"right"}},"Club App"),s.a.createElement("button",{className:"btn btn-danger texted",onClick:function(){e.props.history.push("/Dashboard")}},"Goto Dashboard")),s.a.createElement("div",{className:"mainmenu"},this.renderPos(this.state.menu)),s.a.createElement("div",{className:"menulistItems"},this.renderMenu(this.state.menulist)),s.a.createElement(v.a,{open:this.state.edit},s.a.createElement("div",{className:"posPrint"},s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized",style:{fontWeight:"bold",fontSize:"14px"}},this.state.Hotelname),s.a.createElement("p",{className:"textSized mb-3"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSized mb-3"},this.state.Hotelphone),s.a.createElement("hr",null),s.a.createElement("p",{className:"textSized",style:{fontWeight:"bold",fontSize:"14px"}},"Club Docket"),s.a.createElement("p",{className:"textSized"},"Date: ",t),s.a.createElement("p",{className:"textSized mb-3"},"Docket Num: ",a)),s.a.createElement("hr",null),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust2",style:{fontSize:"10px"}},"Menu"),s.a.createElement("th",{className:"adjust2",style:{fontSize:"10px"}},"Qty"),s.a.createElement("th",{className:"adjust2",style:{fontSize:"10px"}},"Price(=N)"),s.a.createElement("th",{className:"adjust2",style:{fontSize:"10px"}},"Amount(=N)"))),s.a.createElement("tbody",{className:"table table-hover tableheight"},this.renderOders(this.state.selected))),s.a.createElement("hr",null),s.a.createElement("p",{style:{fontSize:"14px",fontWeight:"bold"}},"Total:",s.a.createElement(E.a,{value:this.state.cost,thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"14px",fontWeight:"bold"}},"Amount Paid:",s.a.createElement(E.a,{value:n,thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"14px",fontWeight:"bold"}},"Bal: ",s.a.createElement(E.a,{value:this.state.cost-parseFloat(n),thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"14px",fontWeight:"bold"}},"Payment Method: ",this.state.paymentMethod),s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized"},"Prepared By: ",localStorage.getItem("userInfo")),s.a.createElement("p",{className:"textSized"},"Shift: ",localStorage.getItem("shift")),s.a.createElement("p",{style:{fontSize:"13px",fontWeight:"bold"}},"THANK YOU"),s.a.createElement("div",{className:"printing"},s.a.createElement("button",{className:this.state.shiftcolor,onClick:function(){e.sendtoprinter2()}},s.a.createElement("p",{className:"texted"},this.state.printBTN)))))),s.a.createElement(v.a,{open:this.state.pword,onClose:function(){return e.onClosePword()},center:!0},s.a.createElement("div",null,s.a.createElement("div",{className:"formdesign152"},s.a.createElement("h6",{className:"mb-3"},"Access Required"),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("input",{type:"password",autoComplete:"off",className:"form-control mb-3 formsize51",name:"pass",require:!0,placeholder:"Enter Access Code",value:this.state.pass,onChange:this.handleChange}),s.a.createElement("button",{disabled:""===this.state.pass,className:"btn btn-warning formsize91",onClick:function(){return e.AllowRefund()}},"Login")))))),s.a.createElement(v.a,{open:this.state.editreceipt,onClose:function(){e.onCloseModalreceipt(),e.handleSubmit()}},s.a.createElement("div",{className:"posPrint"},s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized",style:{fontWeight:"bold",fontSize:"14px"}},this.state.Hotelname),s.a.createElement("p",{className:"textSized mb-3"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSized mb-3"},this.state.Hotelphone),s.a.createElement("hr",null),s.a.createElement("p",{className:"textSized",style:{fontWeight:"bold",fontSize:"14px"}},"Club Receipt"),s.a.createElement("p",{className:"textSized"},"Date: ",t),s.a.createElement("p",{className:"textSized mb-3"},"Docket Num: ",a)),s.a.createElement("hr",null),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust2",style:{fontSize:"10px"}},"Menu"),s.a.createElement("th",{className:"adjust2",style:{fontSize:"10px"}},"Qty"),s.a.createElement("th",{className:"adjust2",style:{fontSize:"10px"}},"Price(=N)"),s.a.createElement("th",{className:"adjust2",style:{fontSize:"10px"}},"Amount(=N)"))),s.a.createElement("tbody",{className:"table table-hover tableheight"},this.renderOders(this.state.selected))),s.a.createElement("hr",null),s.a.createElement("p",{style:{fontSize:"14px",fontWeight:"bold"}},"Total: ",s.a.createElement(E.a,{value:this.state.cost,thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"14px",fontWeight:"bold"}},"Amount Paid: ",s.a.createElement(E.a,{value:n,thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"14px",fontWeight:"bold"}},"Bal: ",s.a.createElement(E.a,{value:this.state.cost-parseFloat(n),thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"14px",fontWeight:"bold"}},"Payment Method: ",this.state.paymentMethod),s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized"},"Prepared By: ",localStorage.getItem("userInfo")),s.a.createElement("p",{className:"textSized"},"Shift: ",localStorage.getItem("shift")),s.a.createElement("p",{style:{fontSize:"13px",fontWeight:"bold"}},"THANK YOU"),s.a.createElement("div",{className:"printing"},s.a.createElement("button",{className:this.state.shiftcolor,onClick:function(){e.sendtoprinter()}},s.a.createElement("p",{className:"texted"},"Print")),s.a.createElement("button",{className:this.state.shiftcolor,onClick:function(){e.onCloseModalreceipt(),e.handleSubmit()}},s.a.createElement("p",{className:"texted"},"Close")))))),s.a.createElement(v.a,{open:this.state.compModal,onClose:function(){e.onCloseCompModal(),e.handleRoomSubmit()}},s.a.createElement("div",{className:"posPrint"},s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized",style:{fontWeight:"bold",fontSize:"14px"}},this.state.Hotelname),s.a.createElement("p",{className:"textSized mb-3"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSized mb-3"},this.state.Hotelphone),s.a.createElement("hr",null),s.a.createElement("p",{className:"textSized",style:{fontWeight:"bold",fontSize:"14px"}},"Club Docket"),s.a.createElement("p",{className:"textSized"},"Date: ",t),s.a.createElement("p",{className:"textSized mb-3"},"Docket Num: ",a)),s.a.createElement("hr",null),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust2",style:{fontSize:"10px"}},"ID"),s.a.createElement("th",{className:"adjust2",style:{fontSize:"10px"}},"Menu"),s.a.createElement("th",{className:"adjust2",style:{fontSize:"10px"}},"Qty"),s.a.createElement("th",{className:"adjust2",style:{fontSize:"10px"}},"Price(=N)"),s.a.createElement("th",{className:"adjust2",style:{fontSize:"10px"}},"Amount(=N)"))),s.a.createElement("tbody",{className:"table table-hover tableheight"},this.renderOders(this.state.selected))),s.a.createElement("hr",null),s.a.createElement("p",{style:{fontSize:"14px",fontWeight:"bold"}},"Total: ",s.a.createElement(E.a,{value:this.state.cost,thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"14px",fontWeight:"bold"}},"Amount Paid: ",s.a.createElement(E.a,{value:n,thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"14px",fontWeight:"bold"}},"Bal: ",s.a.createElement(E.a,{value:this.state.cost-parseFloat(n),thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("p",{style:{fontSize:"14px",fontWeight:"bold"}},"Payment Method: ",this.state.paymentMethod),s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized"},"Prepared By: ",localStorage.getItem("userInfo")),s.a.createElement("p",{className:"textSized"},"Shift: ",localStorage.getItem("shift")),s.a.createElement("p",{style:{fontSize:"13px",fontWeight:"bold"}},"THANK YOU"),s.a.createElement("div",{className:"printing"},s.a.createElement("button",{className:this.state.shiftcolor,onClick:function(){e.sendtoprinter()}},s.a.createElement("p",{className:"texted"},this.state.printBTN)),s.a.createElement("button",{className:this.state.shiftcolor,onClick:function(){e.onCloseCompModal(),e.handleRoomSubmit()}},s.a.createElement("p",{className:"texted"},"Close")))))),s.a.createElement(v.a,{open:this.state.report,onClose:function(){e.onCloseModalreport()}},s.a.createElement("div",{className:"posPrint"},s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized",style:{fontWeight:"bold",fontSize:"14px"}},this.state.Hotelname),s.a.createElement("p",{className:"textSized mb-3"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSized mb-3"},this.state.Hotelphone),s.a.createElement("hr",null),s.a.createElement("p",{className:"textSized",style:{fontWeight:"bold",fontSize:"14px"}},"Club Daily Sales Report"),s.a.createElement("p",{className:"textSized"},"Report Date: ",t),s.a.createElement("p",{className:"textSized mb-3"},"Shift: ",this.state.useReportShift)),s.a.createElement("hr",null),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust2",style:{fontSize:"10px"}},"ID"),s.a.createElement("th",{className:"adjust2",style:{fontSize:"10px"}},"Menu"),s.a.createElement("th",{className:"adjust2",style:{fontSize:"10px"}},"Qty"),s.a.createElement("th",{className:"adjust2",style:{fontSize:"10px"}},"Price(=N)"),s.a.createElement("th",{className:"adjust2",style:{fontSize:"10px"}},"Amount(=N)"))),s.a.createElement("tbody",{className:"table table-hover tableheight"},this.renderSalesReport(this.state.DrinkSalesQtyReportData))),s.a.createElement("hr",null),s.a.createElement("p",{style:{fontSize:"14px",fontWeight:"bold"}},"Total Sales: ",s.a.createElement(E.a,{value:this.state.totalSales,thousandSeparator:!0,displayType:"text"}),".00"),s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("p",{className:"textSized"},"Staff: ",this.state.useReportName),s.a.createElement("p",{className:"textSized"},"Shift: ",this.state.useReportShift),s.a.createElement("p",{style:{fontSize:"13px",fontWeight:"bold"}},"THANK YOU"),s.a.createElement("div",{className:"printing"},s.a.createElement("button",{className:this.state.shiftcolor,onClick:function(){e.sendtoprinter()}},s.a.createElement("p",{className:"texted"},this.state.printBTN)),s.a.createElement("button",{className:this.state.shiftcolor,onClick:function(){e.onCloseModalreport()}},s.a.createElement("p",{className:"texted"},"Close")))))),s.a.createElement(v.a,{open:this.state.credit,onClose:function(){return e.onCloseModalCredit()},style:{color:"silver"}},s.a.createElement("div",{className:"background591stockin"},s.a.createElement("h6",{style:{color:"silver",marginLeft:"50px",marginBottom:"-70px"}},"Recover Credit"),s.a.createElement("div",{className:"formdesign511"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("h6",null,"Summary"),s.a.createElement("div",{className:"col-3"},s.a.createElement("label",null,"Total Credit"),s.a.createElement("p",{type:"text",className:"form-control mb-3 formsize51 ikem"},s.a.createElement(E.a,{value:parseInt(this.state.TotalCredit),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("div",{className:"col-3"},s.a.createElement("label",null,"Total Recovered"),s.a.createElement("p",{type:"text",className:"form-control mb-3 formsize51 ikem"},s.a.createElement(E.a,{value:parseInt(this.state.TotalCreditPaid),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("div",{className:"col-3"},s.a.createElement("label",null,"Credit Balance"),s.a.createElement("p",{type:"text",className:"form-control mb-3 formsize51 ikem"},s.a.createElement(E.a,{value:parseInt(this.state.TotalCredit)-parseInt(this.state.TotalCreditPaid),thousandSeparator:!0,displayType:"text"})))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-4"},s.a.createElement("input",{type:"number",className:"form-control mb-3 formsize51 ikem",name:"creditPaid",require:!0,placeholder:"Enter Amount",value:this.state.creditPaid,onChange:this.handleChange})),s.a.createElement("div",{className:"col-4"},s.a.createElement("select",{className:"form-select formsize51 ikem",name:"paymentMethod",onChange:this.handleChange},s.a.createElement("option",{selected:!0,value:""},"Payment Method"),this.renderPayMeth(this.state.payNwMeth))))),s.a.createElement("div",{className:"row"},s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("center",null,s.a.createElement("span",null,s.a.createElement("button",{disabled:""===this.state.creditPaid,className:"btn btn-warning gap",onClick:function(){return e.postCredit()}},"Post"),s.a.createElement("button",{className:"btn btn-danger gap",onClick:function(){return e.onCloseModalCredit()}},"Close"))),s.a.createElement("br",null))))))}},{key:"componentDidMount",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(">>> Inside RESdidMount"),fetch("".concat("https://zarvichdemo.localto.net/drinkCategories"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({menu:e})}),fetch("".concat(rn),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({DrinkstoreData:e})}),fetch("".concat("https://zarvichdemo.localto.net/hoteladdress"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return t.setState({Hotelname:e.HotelName,Hoteladdress:e.Address,Hotelphone:e.Phone}),"ok"})}),e.next=6,fetch("".concat("https://zarvichdemo.localto.net/getActive"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return t.setState({transactionDate:e.date}),"ok"})});case 6:this.myTimer=setInterval(function(){fetch("".concat("https://zarvichdemo.localto.net/getActive"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return t.setState({transactionDate:e.date}),"ok"})})},1e3),fetch("".concat(nn),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({payNwMeth:e})}),fetch("".concat(ln),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({DrinkSalesQtyData:e})}),fetch("".concat(on),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({tables:e})}),this.myTimer=setTimeout(function(){fetch("".concat(on),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({tables:e})}),localStorage.setItem("btnCntrl",!0)},2e3),fetch("".concat("https://zarvichdemo.localto.net/clubUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({loginDetails:e})}),this.myTimer=setTimeout(function(){var e=t.state.loginDetails,a=t.state.name;e.some(function(e){return e.name===a})?t.setState({Blogin:!0}):t.setState({Blogin:!1})},1e3),"Morning Shift"===localStorage.getItem("shift")?this.setState({shiftcolor:"btn btn-primary cartBtn20"}):"Night Shift"===localStorage.getItem("shift")?this.setState({shiftcolor:"btn btn-dark cartBtn20"}):"All Day"===localStorage.getItem("shift")&&this.setState({shiftcolor:"btn btn-warning cartBtn20"});case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),a}(n.Component),mn=cn,un="https://zarvichdemo.localto.net/salesReport?BarSales=Bar%20Sales&&",hn="https://zarvichdemo.localto.net/salesReport?restSales=Restaurant%20Sales&&",dn="https://zarvichdemo.localto.net/salesReport?otherSales=Other%20Sales&&",pn="https://zarvichdemo.localto.net/salesReport?dailypoolsales=Pool%20Bar%20Sales&&",fn="https://zarvichdemo.localto.net/salesReport?clubSales=Reservation&&",bn="https://zarvichdemo.localto.net/salesReport?LaundrySales=Laundry%20Sales&&",gn="https://zarvichdemo.localto.net/salesReport?gymnasiumSNow=Gymnasium%20Sales&&",En="https://zarvichdemo.localto.net/salesReport?smoothiSales=Suya%20Sales&&",Sn="https://zarvichdemo.localto.net/salesReport?swimmingSales=Swimming%20Sales&&",yn="https://zarvichdemo.localto.net/salesReport?minimartSales=Mart%20Sales&&",Nn="https://zarvichdemo.localto.net/salesReport?BarbeQueSales=Barbeque%20Sales&&",vn="https://zarvichdemo.localto.net/salesReport?shishaSales=Games%20Sales&&",Dn="https://zarvichdemo.localto.net/salesReport?HHSales=Hall%20Hire&&",Tn="https://zarvichdemo.localto.net/salesReport?accDepositReceptn=Accommodation%20Deposits&&",Cn=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value))},n.renderRoomSales=function(e){if(e)return e.map(function(e){var t=k()(e.date).format("MMM DD YYYY");return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:e._id},s.a.createElement("td",{className:"table-light table-striped adjust2"},t),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet"},e.description),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:e.POS,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:e.Cash,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:e.Room,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:e.Transfer,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(e.POS)+parseInt(e.Cash)+parseInt(e.Room)+parseInt(e.Transfer),thousandSeparator:!0,displayType:"text"})))))})},n.renderRestSales=function(e){if(e)return e.map(function(e){var t=k()(e.date).format("MMM DD YYYY");return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:e._id},s.a.createElement("td",{className:"table-light table-striped adjust2"},t),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet"},e.description),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:e.POS,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:e.Cash,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:e.Room,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:e.Transfer,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(e.POS)+parseInt(e.Cash)+parseInt(e.Room)+parseInt(e.Transfer),thousandSeparator:!0,displayType:"text"})))))})},n.renderBarSales=function(e){if(e)return e.map(function(e){var t=k()(e.date).format("MMM DD YYYY");return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:e._id},s.a.createElement("td",{className:"table-light table-striped adjust2"},t),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet"},e.description),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:e.POS,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:e.Cash,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:e.Room,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:e.Transfer,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(e.POS)+parseInt(e.Cash)+parseInt(e.Room)+parseInt(e.Transfer),thousandSeparator:!0,displayType:"text"})))))})},n.renderOtherSales=function(e){if(e)return e.map(function(e){var t=k()(e.date).format("MMM DD YYYY");return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:e._id},s.a.createElement("td",{className:"table-light table-striped adjust2"},t),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet"},e.description),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:e.POS,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:e.Cash,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:e.Room,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:e.Transfer,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(e.POS)+parseInt(e.Cash)+parseInt(e.Room)+parseInt(e.Transfer),thousandSeparator:!0,displayType:"text"})))))})},n.renderPoolSales=function(e){if(e)return e.map(function(e){var t=k()(e.date).format("MMM DD YYYY");return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:e._id},s.a.createElement("td",{className:"table-light table-striped adjust2"},t),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet"},e.description),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:e.POS,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:e.Cash,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:e.Room,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:e.Transfer,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(e.POS)+parseInt(e.Cash)+parseInt(e.Room)+parseInt(e.Transfer),thousandSeparator:!0,displayType:"text"})))))})},n.renderClubSales=function(e){if(e)return e.map(function(e){var t=k()(e.date).format("MMM DD YYYY");return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:e._id},s.a.createElement("td",{className:"table-light table-striped adjust2"},t),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet"},e.description),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:e.POS,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:e.Cash,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:e.Room,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:e.Transfer,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(e.POS)+parseInt(e.Cash)+parseInt(e.Room)+parseInt(e.Transfer),thousandSeparator:!0,displayType:"text"})))))})},n.renderLaundrySales=function(e){if(e)return e.map(function(e){var t=k()(e.date).format("MMM DD YYYY");return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:e._id},s.a.createElement("td",{className:"table-light table-striped adjust2"},t),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet"},e.description),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:e.POS,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:e.Cash,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:e.Room,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:e.Transfer,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(e.POS)+parseInt(e.Cash)+parseInt(e.Room)+parseInt(e.Transfer),thousandSeparator:!0,displayType:"text"})))))})},n.renderGymSales=function(e){if(e)return e.map(function(e){var t=k()(e.date).format("MMM DD YYYY");return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:e._id},s.a.createElement("td",{className:"table-light table-striped adjust2"},t),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet"},e.description),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:e.POS,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:e.Cash,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:e.Room,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:e.Transfer,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(e.POS)+parseInt(e.Cash)+parseInt(e.Room)+parseInt(e.Transfer),thousandSeparator:!0,displayType:"text"})))))})},n.renderSmoothieSales=function(e){if(e)return e.map(function(e){var t=k()(e.date).format("MMM DD YYYY");return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:e._id},s.a.createElement("td",{className:"table-light table-striped adjust2"},t),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet"},e.description),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:e.POS,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:e.Cash,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:e.Room,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:e.Transfer,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(e.POS)+parseInt(e.Cash)+parseInt(e.Room)+parseInt(e.Transfer),thousandSeparator:!0,displayType:"text"})))))})},n.renderSwimmingSales=function(e){if(e)return e.map(function(e){var t=k()(e.date).format("MMM DD YYYY");return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:e._id},s.a.createElement("td",{className:"table-light table-striped adjust2"},t),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet"},e.description),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:e.POS,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:e.Cash,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:e.Room,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:e.Transfer,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(e.POS)+parseInt(e.Cash)+parseInt(e.Room)+parseInt(e.Transfer),thousandSeparator:!0,displayType:"text"})))))})},n.renderMartSales=function(e){if(e)return e.map(function(e){var t=k()(e.date).format("MMM DD YYYY");return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:e._id},s.a.createElement("td",{className:"table-light table-striped adjust2"},t),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet"},e.description),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:e.POS,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:e.Cash,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:e.Room,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:e.Transfer,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(e.POS)+parseInt(e.Cash)+parseInt(e.Room)+parseInt(e.Transfer),thousandSeparator:!0,displayType:"text"})))))})},n.renderBbqSales=function(e){if(e)return e.map(function(e){var t=k()(e.date).format("MMM DD YYYY");return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:e._id},s.a.createElement("td",{className:"table-light table-striped adjust2"},t),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet"},e.description),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:e.POS,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:e.Cash,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:e.Room,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:e.Transfer,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(e.POS)+parseInt(e.Cash)+parseInt(e.Room)+parseInt(e.Transfer),thousandSeparator:!0,displayType:"text"})))))})},n.rendershiSales=function(e){if(e)return e.map(function(e){var t=k()(e.date).format("MMM DD YYYY");return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:e._id},s.a.createElement("td",{className:"table-light table-striped adjust2"},t),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet"},e.description),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:e.POS,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:e.Cash,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:e.Room,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:e.Transfer,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(e.POS)+parseInt(e.Cash)+parseInt(e.Room)+parseInt(e.Transfer),thousandSeparator:!0,displayType:"text"})))))})},n.renderhhSales=function(e){if(e)return e.map(function(e){var t=k()(e.date).format("MMM DD YYYY");return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:e._id},s.a.createElement("td",{className:"table-light table-striped adjust2"},t),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet"},e.description),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:e.POS,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:e.Cash,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:e.Room,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:e.Transfer,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(e.POS)+parseInt(e.Cash)+parseInt(e.Room)+parseInt(e.Transfer),thousandSeparator:!0,displayType:"text"})))))})},console.log(">>>Inside CashConstructor",e),n.state={RoomDeposits:"",RoomTotal:0,depPOS:0,depCash:0,depTransfer:0,depRoom:0,BarSales:0,BarTotal:0,barPOS:0,barCash:0,barTransfer:0,barRoom:0,RestSales:"",RestTotal:0,restPOS:0,restCash:0,restTransfer:0,restRoom:0,otherSales:0,othersTotal:0,otherPOS:0,otherCash:0,otherTransfer:0,otherRoom:0,POSCal:0,CashCal:0,TransferCal:0,RoomCal:0,poolPOS:0,poolCash:0,poolRoom:0,poolTransfer:0,poolSales:0,PoolTotal:0,clubPOS:0,clubCash:0,clubRoom:0,clubTransfer:0,clubSales:0,clubTotal:0,laundryPOS:0,laundryCash:0,laundryRoom:0,laundryTransfer:0,laundrySales:0,laundryTotal:0,gymPOS:0,gymCash:0,gymRoom:0,gymTransfer:0,gymSales:0,gymTotal:0,smoothiePOS:0,smoothieCash:0,smoothieRoom:0,smoothieTransfer:0,smoothieSales:0,smoothieTotal:0,swimmingPOS:0,swimmingCash:0,swimmingRoom:0,swimmingTransfer:0,swimmingSales:0,swimmingTotal:0,minimartPOS:0,minimartCash:0,minimartRoom:0,minimartTransfer:0,minimartSales:0,minimartTotal:0,BarbequePOS:0,BarbequeCash:0,BarbequeRoom:0,BarbequeTransfer:0,BarbequeSales:0,BarbequeTotal:0,shishaPOS:0,shishaCash:0,shishaRoom:0,shishaTransfer:0,shishaSales:0,shishaTotal:0,HallHirePOS:0,HallHireCash:0,HallHireRoom:0,HallHireTransfer:0,HallHireSales:0,HallHireTotal:0,loginDetails:"",name:localStorage.getItem("userInfo"),login:"",Blogin:"",levyData:"",ServiceChrg:"",TourismLevy:"",VAT:"",shift:"",date:"",startdate:"",endDate:"",Hotelname:"",Hoteladdress:"",Hotelphone:""},n.checkinhandleChange=n.checkinhandleChange.bind(Object(f.a)(n)),n.endhandleChange=n.endhandleChange.bind(Object(f.a)(n)),n}return Object(p.a)(a,[{key:"checkinhandleChange",value:function(e){this.setState({date:e})}},{key:"endhandleChange",value:function(e){this.setState({endDate:e})}},{key:"renderDate",value:function(){return s.a.createElement("div",null,s.a.createElement(y.a,{selected:this.state.date,onChange:this.checkinhandleChange,maxDate:Object(N.default)(new Date,0),dropdownMode:"select",dateFormat:"MMM/d/ yyyy",className:"form-control mb-3 formsize printing alignText112",placeholderText:"Select Start Date"}))}},{key:"renderendDate",value:function(){return s.a.createElement("div",null,s.a.createElement(y.a,{selected:this.state.endDate,onChange:this.endhandleChange,maxDate:new Date,dropdownMode:"select",dateFormat:"MMM/d/ yyyy",className:"form-control mb-3 formsize printing alignText112 mvrght",placeholderText:"Search End Date"}))}},{key:"findSalesReport",value:function(){var e=this,t=k()(this.state.date).format("MMM DD YYYY");this.setState({depRoom:0,depTransfer:0,depCash:0,depPOS:0,RoomTotal:0,RoomDeposits:""}),fetch("".concat(Tn,"today=").concat(t),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({RoomDeposits:t}),t.map(function(a){var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POS)},0);e.setState({depPOS:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Cash)},0);e.setState({depCash:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Transfer)},0);e.setState({depTransfer:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Room)},0);return e.setState({depRoom:r}),e.myTimer=setTimeout(function(){var t=0+parseInt(e.state.depCash)+parseInt(e.state.depPOS)+parseInt(e.state.depTransfer)+parseInt(e.state.depRoom);e.setState({RoomTotal:t})},2e3),"ok"}),0===t.lenght&&(alert("No Data Found"),e.setState({depRoom:0,depTransfer:0,depCash:0,depPOS:0,RoomTotal:0}))}),fetch("".concat(hn,"resttoday=").concat(t),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({RestSales:t}),t.map(function(a){var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POS)},0);e.setState({restPOS:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Cash)},0);e.setState({restCash:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Transfer)},0);e.setState({restTransfer:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Room)},0);return e.setState({restRoom:r}),e.myTimer=setTimeout(function(){var t=0+parseInt(e.state.restCash)+parseInt(e.state.restPOS)+parseInt(e.state.restTransfer)+parseInt(e.state.restRoom);e.setState({RestTotal:t})},2e3),"ok"}),0===t.lenght&&(alert("No Data Found"),e.setState({restRoom:0,restTransfer:0,restCash:0,restPOS:0,RestTotal:0}))}),fetch("".concat(un,"bartoday=").concat(t),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({BarSales:t}),t.map(function(a){var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POS)},0);e.setState({barPOS:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Cash)},0);e.setState({barCash:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Transfer)},0);e.setState({barTransfer:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Room)},0);return e.setState({barRoom:r}),e.myTimer=setTimeout(function(){var t=0+parseInt(e.state.barCash)+parseInt(e.state.barPOS)+parseInt(e.state.barTransfer)+parseInt(e.state.barRoom);e.setState({BarTotal:t})},2e3),"ok"}),0===t.lenght&&(alert("No Data Found"),e.setState({barRoom:0,barTransfer:0,barCash:0,barPOS:0,BarTotal:0}))}),fetch("".concat(dn,"othertoday=").concat(t),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({otherSales:t}),t.map(function(a){var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POS)},0);e.setState({otherPOS:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Cash)},0);e.setState({otherCash:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Transfer)},0);e.setState({otherTransfer:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Room)},0);return e.setState({otherRoom:r}),e.myTimer=setTimeout(function(){var t=0+parseInt(e.state.otherCash)+parseInt(e.state.otherPOS)+parseInt(e.state.otherTransfer)+parseInt(e.state.otherRoom);e.setState({othersTotal:t})},2e3),"ok"}),0===t.lenght&&(alert("No Data Found"),e.setState({otherRoom:0,otherTransfer:0,otherCash:0,otherPOS:0,othersTotal:0}))}),fetch("".concat(pn,"dailypooltoday=").concat(t),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({poolSales:t}),t.map(function(a){var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POS)},0);e.setState({poolPOS:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Cash)},0);e.setState({poolCash:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Transfer)},0);e.setState({poolTransfer:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Room)},0);return e.setState({poolRoom:r}),e.myTimer=setTimeout(function(){var t=0+parseInt(e.state.poolCash)+parseInt(e.state.poolPOS)+parseInt(e.state.poolTransfer)+parseInt(e.state.poolRoom);e.setState({PoolTotal:t})},2e3),"ok"}),0===t.lenght&&(alert("No Data Found"),e.setState({poolRoom:0,poolTransfer:0,poolCash:0,poolPOS:0,PoolTotal:0}))}),fetch("".concat(fn,"clubtoday=").concat(t),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({clubSales:t}),t.map(function(a){var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POS)},0);e.setState({clubPOS:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Cash)},0);e.setState({clubCash:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Transfer)},0);e.setState({clubTransfer:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Room)},0);return e.setState({clubRoom:r}),e.myTimer=setTimeout(function(){var t=0+parseInt(e.state.clubCash)+parseInt(e.state.clubPOS)+parseInt(e.state.clubTransfer)+parseInt(e.state.clubRoom);e.setState({clubTotal:t})},2e3),"ok"}),0===t.lenght&&(alert("No Data Found"),e.setState({clubRoom:0,clubTransfer:0,clubCash:0,clubPOS:0,clubTotal:0}))}),fetch("".concat(bn,"laundrytoday=").concat(t),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({laundrySales:t}),t.map(function(a){var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POS)},0);e.setState({laundryPOS:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Cash)},0);e.setState({laundryCash:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Transfer)},0);e.setState({laundryTransfer:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Room)},0);return e.setState({laundryRoom:r}),e.myTimer=setTimeout(function(){var t=0+parseInt(e.state.laundryCash)+parseInt(e.state.laundryPOS)+parseInt(e.state.laundryTransfer)+parseInt(e.state.laundryRoom);e.setState({laundryTotal:t})},2e3),"ok"}),0===t.lenght&&(alert("No Data Found"),e.setState({laundryRoom:0,laundryTransfer:0,laundryCash:0,laundryPOS:0,laundryTotal:0}))}),fetch("".concat(gn,"gymnasiumtoday=").concat(t),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({gymSales:t}),t.map(function(a){var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POS)},0);e.setState({gymPOS:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Cash)},0);e.setState({gymCash:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Transfer)},0);e.setState({gymTransfer:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Room)},0);return e.setState({gymRoom:r}),e.myTimer=setTimeout(function(){var t=0+parseInt(e.state.gymCash)+parseInt(e.state.gymPOS)+parseInt(e.state.gymTransfer)+parseInt(e.state.gymRoom);e.setState({gymTotal:t})},2e3),"ok"}),0===t.lenght&&(alert("No Data Found"),e.setState({gymRoom:0,gymTransfer:0,gymCash:0,gymPOS:0,gymTotal:0}))}),fetch("".concat(En,"smoothietoday=").concat(t),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({smoothieSales:t}),t.map(function(a){var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POS)},0);e.setState({smoothiePOS:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Cash)},0);e.setState({smoothieCash:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Transfer)},0);e.setState({smoothieTransfer:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Room)},0);return e.setState({smoothieRoom:r}),e.myTimer=setTimeout(function(){var t=0+parseInt(e.state.smoothieCash)+parseInt(e.state.smoothiePOS)+parseInt(e.state.smoothieTransfer)+parseInt(e.state.smoothieRoom);e.setState({smoothieTotal:t})},2e3),"ok"}),0===t.lenght&&(alert("No Data Found"),e.setState({smoothieRoom:0,smoothieTransfer:0,smoothieCash:0,smoothiePOS:0,smoothieTotal:0}))}),fetch("".concat(Sn,"swimmingtoday=").concat(t),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({swimmingSales:t}),t.map(function(a){var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POS)},0);e.setState({swimmingPOS:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Cash)},0);e.setState({swimmingCash:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Transfer)},0);e.setState({swimmingTransfer:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Room)},0);return e.setState({swimmingRoom:r}),e.myTimer=setTimeout(function(){var t=0+parseInt(e.state.swimmingCash)+parseInt(e.state.swimmingPOS)+parseInt(e.state.swimmingTransfer)+parseInt(e.state.swimmingRoom);e.setState({swimmingTotal:t})},2e3),"ok"}),0===t.lenght&&(alert("No Data Found"),e.setState({swimmingRoom:0,swimmingTransfer:0,swimmingCash:0,swimmingPOS:0,swimmingTotal:0}))}),fetch("".concat(yn,"marttoday=").concat(t),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({minimartSales:t}),t.map(function(a){var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POS)},0);e.setState({minimartPOS:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Cash)},0);e.setState({minimartCash:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Transfer)},0);e.setState({minimartTransfer:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Room)},0);return e.setState({minimartRoom:r}),e.myTimer=setTimeout(function(){var t=0+parseInt(e.state.minimartCash)+parseInt(e.state.minimartPOS)+parseInt(e.state.minimartTransfer)+parseInt(e.state.minimartRoom);e.setState({minimartTotal:t})},2e3),"ok"}),0===t.lenght&&(alert("No Data Found"),e.setState({minimartRoom:0,minimartTransfer:0,minimartCash:0,minimartPOS:0,minimartTotal:0}))}),fetch("".concat(Nn,"bbqtoday=").concat(t),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({BarbequeSales:t}),t.map(function(a){var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POS)},0);e.setState({BarbequePOS:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Cash)},0);e.setState({BarbequeCash:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Transfer)},0);e.setState({BarbequeTransfer:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Room)},0);return e.setState({BarbequeRoom:r}),e.myTimer=setTimeout(function(){var t=0+parseInt(e.state.BarbequeCash)+parseInt(e.state.BarbequePOS)+parseInt(e.state.BarbequeTransfer)+parseInt(e.state.BarbequeRoom);e.setState({BarbequeTotal:t})},2e3),"ok"}),0===t.lenght&&(alert("No Data Found"),e.setState({BarbequeRoom:0,BarbequeTransfer:0,BarbequeCash:0,BarbequePOS:0,BarbequeTotal:0}))}),fetch("".concat(vn,"shishatoday=").concat(t),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({shishaSales:t}),t.map(function(a){var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POS)},0);e.setState({shishaPOS:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Cash)},0);e.setState({shishaCash:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Transfer)},0);e.setState({shishaTransfer:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Room)},0);return e.setState({shishaRoom:r}),e.myTimer=setTimeout(function(){var t=0+parseInt(e.state.shishaCash)+parseInt(e.state.shishaPOS)+parseInt(e.state.shishaTransfer)+parseInt(e.state.shishaRoom);e.setState({shishaTotal:t})},2e3),"ok"}),0===t.lenght&&(alert("No Data Found"),e.setState({shishaRoom:0,shishaTransfer:0,shishaCash:0,shishaPOS:0,shishaTotal:0}))}),fetch("".concat(Dn,"hhiretoday=").concat(t),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({HallHireSales:t}),t.map(function(a){var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POS)},0);e.setState({HallHirePOS:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Cash)},0);e.setState({HallHireCash:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Transfer)},0);e.setState({HallHireTransfer:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Room)},0);return e.setState({hhallRoom:r}),e.myTimer=setTimeout(function(){var t=0+parseInt(e.state.HallHireCash)+parseInt(e.state.HallHirePOS)+parseInt(e.state.HallHireTransfer)+parseInt(e.state.HallHireRoom);e.setState({HallHireTotal:t})},2e3),"ok"}),0===t.lenght&&(alert("No Data Found"),e.setState({HallHireRoom:0,HallHireTransfer:0,HallHireCash:0,HallHirePOS:0,HallHireTotal:0}))})}},{key:"logout",value:function(){localStorage.removeItem("userInfo"),this.setState({login:!0}),localStorage.removeItem("shift")}},{key:"cleanupfirst",value:function(){this.setState({RoomDeposits:"",RoomTotal:0,depPOS:0,depCash:0,depTransfer:0,depRoom:0,BarSales:0,BarTotal:0,barPOS:0,barCash:0,barTransfer:0,barRoom:0,RestSales:"",RestTotal:0,restPOS:0,restCash:0,restTransfer:0,restRoom:0,functionSales:0,functionTotal:0,functionRoom:0,functionTransfer:0,functionCash:0,functionPOS:0,otherSales:0,othersTotal:0,otherPOS:0,otherCash:0,otherTransfer:0,otherRoom:0,poolSales:0,PoolTotal:0,poolPOS:0,poolCash:0,poolTransfer:0,poolRoom:0,clubSales:0,clubTotal:0,clubPOS:0,clubCash:0,clubTransfer:0,clubRoom:0,laundrySales:0,laundryTotal:0,laundryPOS:0,laundryCash:0,laundryTransfer:0,laundryRoom:0,gymSales:0,gymTotal:0,gymPOS:0,gymCash:0,gymTransfer:0,gymRoom:0,smoothieSales:0,smoothieTotal:0,smoothiePOS:0,smoothieCash:0,smoothieTransfer:0,smoothieRoom:0,swimmingSales:0,swimmingTotal:0,swimmingPOS:0,swimmingCash:0,swimmingTransfer:0,swimmingRoom:0,minimartSales:0,minimartTotal:0,minimartPOS:0,minimartCash:0,minimartTransfer:0,minimartRoom:0,BarbequeSales:0,BarbequeTotal:0,BarbequePOS:0,BarbequeCash:0,BarbequeTransfer:0,BarbequeRoom:0,shishaSales:0,shishaTotal:0,shishaPOS:0,shishaCash:0,shishaTransfer:0,shishaRoom:0,HallHireSales:0,HallHireTotal:0,HallHirePOS:0,HallHireCash:0,HallHireTransfer:0,HallHireRoom:0,POSCal:0,CashCal:0,TransferCal:0,RoomCal:0})}},{key:"render",value:function(){var e=this;return console.log(">>> Inside Cashdetails",this.state),null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement(et,null)):s.a.createElement("div",{className:"container"},s.a.createElement("div",null,s.a.createElement("img",{src:"https://i.ibb.co/pP1xN03/Orange-Groove2.png",className:"alignImg2",style:{width:"100px",height:"70px"},alt:"companylogo"})),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("h6",null,this.state.Hotelname),s.a.createElement("p",{className:"textSize"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSize"},this.state.Hotelphone))),s.a.createElement("center",null,s.a.createElement("h5",null,"Daily Sales Report"),s.a.createElement("br",null),s.a.createElement("div",null,s.a.createElement("span",null,s.a.createElement("label",null,this.renderDate(this.state.startdate))),s.a.createElement("span",null,s.a.createElement("button",{className:"btn btn-primary space btnadjuster printing",onClick:function(){e.cleanupfirst(),e.findSalesReport()}},"Find")))),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust50"},"Date"),s.a.createElement("th",{className:"adjust50"},"Description"),s.a.createElement("th",{className:"adjust50"},"POS (NGN)"),s.a.createElement("th",{className:"adjust50"},"Cash(NGN)"),s.a.createElement("th",{className:"adjust50"},"Room(NGN)"),s.a.createElement("th",{className:"adjust50"},"Transfer(NGN)"),s.a.createElement("th",{className:"adjust50"},"Total(NGN)"))),s.a.createElement("tbody",{className:"table table-hover"},this.renderRoomSales(this.state.RoomDeposits),this.renderRestSales(this.state.RestSales),this.renderBarSales(this.state.BarSales),this.renderOtherSales(this.state.otherSales),this.renderPoolSales(this.state.poolSales),this.renderClubSales(this.state.clubSales),this.renderLaundrySales(this.state.laundrySales),this.renderGymSales(this.state.gymSales),this.renderSmoothieSales(this.state.smoothieSales),this.renderSwimmingSales(this.state.swimmingSales),this.renderMartSales(this.state.minimartSales),this.renderBbqSales(this.state.BarbequeSales),this.rendershiSales(this.state.shishaSales),this.renderhhSales(this.state.HallHireSales),s.a.createElement("tr",null,s.a.createElement("td",{className:"table-light table-striped adjust2"}," "),s.a.createElement("td",{className:"table-light table-striped adjust2"},s.a.createElement("b",null,"Total")),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.depPOS)+parseInt(this.state.restPOS)+parseInt(this.state.barPOS)+parseInt(this.state.otherPOS)+parseInt(this.state.poolPOS)+parseInt(this.state.clubPOS)+parseInt(this.state.laundryPOS)+parseInt(this.state.gymPOS)+parseInt(this.state.smoothiePOS)+parseInt(this.state.minimartPOS)+parseInt(this.state.BarbequePOS)+parseInt(this.state.shishaPOS)+parseInt(this.state.HallHirePOS)+parseInt(this.state.swimmingPOS),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.depCash)+parseInt(this.state.restCash)+parseInt(this.state.barCash)+parseInt(this.state.otherCash)+parseInt(this.state.poolCash)+parseInt(this.state.clubCash)+parseInt(this.state.laundryCash)+parseInt(this.state.gymCash)+parseInt(this.state.smoothieCash)+parseInt(this.state.minimartCash)+parseInt(this.state.BarbequeCash)+parseInt(this.state.shishaCash)+parseInt(this.state.HallHireCash)+parseInt(this.state.swimmingCash),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.depRoom)+parseInt(this.state.restRoom)+parseInt(this.state.barRoom)+parseInt(this.state.otherRoom)+parseInt(this.state.poolRoom)+parseInt(this.state.clubRoom)+parseInt(this.state.laundryRoom)+parseInt(this.state.gymRoom)+parseInt(this.state.smoothieRoom)+parseInt(this.state.minimartRoom)+parseInt(this.state.BarbequeRoom)+parseInt(this.state.shishaRoom)+parseInt(this.state.HallHireRoom)+parseInt(this.state.swimmingRoom),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.depTransfer)+parseInt(this.state.restTransfer)+parseInt(this.state.barTransfer)+parseInt(this.state.otherTransfer)+parseInt(this.state.poolTransfer)+parseInt(this.state.clubTransfer)+parseInt(this.state.laundryTransfer)+parseInt(this.state.gymTransfer)+parseInt(this.state.smoothieTransfer)+parseInt(this.state.minimartTransfer)+parseInt(this.state.BarbequeTransfer)+parseInt(this.state.shishaTransfer)+parseInt(this.state.HallHireTransfer)+parseInt(this.state.swimmingTransfer),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.RoomTotal)+parseInt(this.state.BarTotal)+parseInt(this.state.RestTotal)+parseInt(this.state.othersTotal)+parseInt(this.state.PoolTotal)+parseInt(this.state.clubTotal)+parseInt(this.state.laundryTotal)+parseInt(this.state.gymTotal)+parseInt(this.state.smoothieTotal)+parseInt(this.state.minimartTotal)+parseInt(this.state.BarbequeTotal)+parseInt(this.state.shishaTotal)+parseInt(this.state.HallHireTotal)+parseInt(this.state.swimmingTotal),thousandSeparator:!0,displayType:"text"})))))),s.a.createElement("h6",null,"Total Collection:         ",s.a.createElement(E.a,{value:parseInt(this.state.RoomTotal)+parseInt(this.state.BarTotal)+parseInt(this.state.RestTotal)+parseInt(this.state.othersTotal)+parseInt(this.state.PoolTotal)+parseInt(this.state.clubTotal)+parseInt(this.state.laundryTotal)+parseInt(this.state.gymTotal)+parseInt(this.state.smoothieTotal)+parseInt(this.state.minimartTotal)+parseInt(this.state.BarbequeTotal)+parseInt(this.state.shishaTotal)+parseInt(this.state.HallHireTotal)+parseInt(this.state.swimmingTotal),thousandSeparator:!0,displayType:"text",prefix:"NGN"})),s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-danger movebtn printing",onClick:function(){return e.props.history.push("/EndOfDay")}},"Close"),s.a.createElement("button",{className:"btn btn-primary movebtn printing",onClick:function(){return window.print()}},"Print"),s.a.createElement("button",{className:"btn btn-warning movebtn printing",onClick:function(){e.props.history.push("/Dashboard")}},"Goto Dashboard")))}},{key:"componentDidMount",value:function(){var e=this;console.log(">>> Inside CashDidMount",this.state);var t=k()(new Date).format("MMM DD YYYY");this.setState({depRoom:"",depTransfer:"",depCash:"",depPOS:"",RoomTotal:""}),fetch("".concat(Tn,"today=").concat(t),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({RoomDeposits:t}),t.map(function(a){var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POS)},0);e.setState({depPOS:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Cash)},0);e.setState({depCash:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Transfer)},0);e.setState({depTransfer:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Room)},0);return e.setState({depRoom:r}),e.myTimer=setTimeout(function(){var t=0+parseInt(e.state.depCash)+parseInt(e.state.depPOS)+parseInt(e.state.depTransfer)+parseInt(e.state.depRoom);e.setState({RoomTotal:t})},2e3),"ok"}),0===t.lenght&&(alert("No Data Found"),e.setState({depRoom:"",depTransfer:"",depCash:"",depPOS:"",RoomTotal:""}))}),fetch("".concat(hn,"resttoday=").concat(t),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({RestSales:t}),t.map(function(a){var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POS)},0);e.setState({restPOS:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Cash)},0);e.setState({restCash:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Transfer)},0);e.setState({restTransfer:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Room)},0);return e.setState({restRoom:r}),e.myTimer=setTimeout(function(){var t=0+parseInt(e.state.restCash)+parseInt(e.state.restPOS)+parseInt(e.state.restTransfer)+parseInt(e.state.restRoom);e.setState({RestTotal:t})},2e3),"ok"}),0===t.lenght&&(alert("No Data Found"),e.setState({restRoom:"",restTransfer:"",restCash:"",restPOS:"",RestTotal:""}))}),fetch("".concat(un,"bartoday=").concat(t),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({BarSales:t}),t.map(function(a){var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POS)},0);e.setState({barPOS:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Cash)},0);e.setState({barCash:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Transfer)},0);e.setState({barTransfer:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Room)},0);return e.setState({barRoom:r}),e.myTimer=setTimeout(function(){var t=0+parseInt(e.state.barCash)+parseInt(e.state.barPOS)+parseInt(e.state.barTransfer)+parseInt(e.state.barRoom);e.setState({BarTotal:t})},2e3),"ok"}),0===t.lenght&&(alert("No Data Found"),e.setState({barRoom:"",barTransfer:"",barCash:"",barPOS:"",BarTotal:""}))}),fetch("".concat(dn,"othertoday=").concat(t),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({otherSales:t}),t.map(function(a){var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POS)},0);e.setState({otherPOS:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Cash)},0);e.setState({otherCash:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Transfer)},0);e.setState({otherTransfer:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Room)},0);return e.setState({otherRoom:r}),e.myTimer=setTimeout(function(){var t=0+parseInt(e.state.otherCash)+parseInt(e.state.otherPOS)+parseInt(e.state.otherTransfer)+parseInt(e.state.otherRoom);e.setState({othersTotal:t})},2e3),"ok"}),0===t.lenght&&(alert("No Data Found"),e.setState({otherRoom:"",otherTransfer:"",otherCash:"",otherPOS:"",othersTotal:""}))}),fetch("".concat(pn,"dailypooltoday=").concat(t),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({poolSales:t}),t.map(function(a){var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POS)},0);e.setState({poolPOS:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Cash)},0);e.setState({poolCash:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Transfer)},0);e.setState({poolTransfer:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Room)},0);return e.setState({poolRoom:r}),e.myTimer=setTimeout(function(){var t=0+parseInt(e.state.poolCash)+parseInt(e.state.poolPOS)+parseInt(e.state.poolTransfer)+parseInt(e.state.poolRoom);e.setState({PoolTotal:t})},2e3),"ok"}),0===t.lenght&&(alert("No Data Found"),e.setState({poolRoom:"",poolTransfer:"",poolCash:"",poolPOS:"",PoolTotal:""}))}),fetch("".concat(fn,"clubtoday=").concat(t),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({clubSales:t}),t.map(function(a){var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POS)},0);e.setState({clubPOS:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Cash)},0);e.setState({clubCash:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Transfer)},0);e.setState({clubTransfer:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Room)},0);return e.setState({clubRoom:r}),e.myTimer=setTimeout(function(){var t=0+parseInt(e.state.clubCash)+parseInt(e.state.clubPOS)+parseInt(e.state.clubTransfer)+parseInt(e.state.clubRoom);e.setState({clubTotal:t})},2e3),"ok"}),0===t.lenght&&(alert("No Data Found"),e.setState({clubRoom:"",clubTransfer:"",clubCash:"",clubPOS:"",clubTotal:""}))}),fetch("".concat(bn,"laundrytoday=").concat(t),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({laundrySales:t}),t.map(function(a){var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POS)},0);e.setState({laundryPOS:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Cash)},0);e.setState({laundryCash:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Transfer)},0);e.setState({laundryTransfer:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Room)},0);return e.setState({laundryRoom:r}),e.myTimer=setTimeout(function(){var t=0+parseInt(e.state.laundryCash)+parseInt(e.state.laundryPOS)+parseInt(e.state.laundryTransfer)+parseInt(e.state.laundryRoom);e.setState({laundryTotal:t})},2e3),"ok"}),0===t.lenght&&(alert("No Data Found"),e.setState({laundryRoom:"",laundryTransfer:"",laundryCash:"",laundryPOS:"",laundryTotal:""}))}),fetch("".concat(gn,"gymnasiumtoday=").concat(t),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({gymSales:t}),t.map(function(a){var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POS)},0);e.setState({gymPOS:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Cash)},0);e.setState({gymCash:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Transfer)},0);e.setState({gymTransfer:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Room)},0);return e.setState({gymRoom:r}),e.myTimer=setTimeout(function(){var t=0+parseInt(e.state.gymCash)+parseInt(e.state.gymPOS)+parseInt(e.state.gymTransfer)+parseInt(e.state.gymRoom);e.setState({gymTotal:t})},2e3),"ok"}),0===t.lenght&&(alert("No Data Found"),e.setState({gymRoom:"",gymTransfer:"",gymCash:"",gymPOS:"",gymTotal:""}))}),fetch("".concat(En,"smoothietoday=").concat(t),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({smoothieSales:t}),t.map(function(a){var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POS)},0);e.setState({smoothiePOS:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Cash)},0);e.setState({smoothieCash:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Transfer)},0);e.setState({smoothieTransfer:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Room)},0);return e.setState({smoothieRoom:r}),e.myTimer=setTimeout(function(){var t=0+parseInt(e.state.smoothieCash)+parseInt(e.state.smoothiePOS)+parseInt(e.state.smoothieTransfer)+parseInt(e.state.smoothieRoom);e.setState({smoothieTotal:t})},2e3),"ok"}),0===t.lenght&&(alert("No Data Found"),e.setState({smoothieRoom:"",smoothieTransfer:"",smoothieCash:"",smoothiePOS:"",smoothieTotal:""}))}),fetch("".concat(yn,"marttoday=").concat(t),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({minimartSales:t}),t.map(function(a){var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POS)},0);e.setState({minimartPOS:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Cash)},0);e.setState({minimartCash:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Transfer)},0);e.setState({minimartTransfer:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Room)},0);return e.setState({minimartRoom:r}),e.myTimer=setTimeout(function(){var t=0+parseInt(e.state.minimartCash)+parseInt(e.state.minimartPOS)+parseInt(e.state.minimartTransfer)+parseInt(e.state.minimartRoom);e.setState({minimartTotal:t})},2e3),"ok"}),0===t.lenght&&(alert("No Data Found"),e.setState({minimartRoom:"",minimartTransfer:"",minimartCash:"",minimartPOS:"",minimartTotal:""}))}),fetch("".concat(Nn,"bbqtoday=").concat(t),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({BarbequeSales:t}),t.map(function(a){var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POS)},0);e.setState({BarbequePOS:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Cash)},0);e.setState({BarbequeCash:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Transfer)},0);e.setState({BarbequeTransfer:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Room)},0);return e.setState({BarbequeRoom:r}),e.myTimer=setTimeout(function(){var t=0+parseInt(e.state.BarbequeCash)+parseInt(e.state.BarbequePOS)+parseInt(e.state.BarbequeTransfer)+parseInt(e.state.BarbequeRoom);e.setState({BarbequeTotal:t})},2e3),"ok"}),0===t.lenght&&(alert("No Data Found"),e.setState({BarbequeRoom:"",BarbequeTransfer:"",BarbequeCash:"",BarbequePOS:"",BarbequeTotal:""}))}),fetch("".concat(vn,"shishatoday=").concat(t),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({shishaSales:t}),t.map(function(a){var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POS)},0);e.setState({shishaPOS:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Cash)},0);e.setState({shishaCash:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Transfer)},0);e.setState({shishaTransfer:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Room)},0);return e.setState({shishaRoom:r}),e.myTimer=setTimeout(function(){var t=0+parseInt(e.state.shishaCash)+parseInt(e.state.shishaPOS)+parseInt(e.state.shishaTransfer)+parseInt(e.state.shishaRoom);e.setState({shishaTotal:t})},2e3),"ok"}),0===t.lenght&&(alert("No Data Found"),e.setState({shishaRoom:"",shishaTransfer:"",shishaCash:"",shishaPOS:"",shishaTotal:""}))}),fetch("".concat(Dn,"hhiretoday=").concat(t),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({HallHireSales:t}),t.map(function(a){var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POS)},0);e.setState({HallHirePOS:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Cash)},0);e.setState({HallHireCash:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Transfer)},0);e.setState({HallHireTransfer:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Room)},0);return e.setState({hhallRoom:r}),e.myTimer=setTimeout(function(){var t=0+parseInt(e.state.HallHireCash)+parseInt(e.state.HallHirePOS)+parseInt(e.state.HallHireTransfer)+parseInt(e.state.HallHireRoom);e.setState({HallHireTotal:t})},2e3),"ok"}),0===t.lenght&&(alert("No Data Found"),e.setState({HallHireRoom:"",HallHireTransfer:"",HallHireCash:"",HallHirePOS:"",HallHireTotal:""}))}),fetch("".concat(Sn,"swimmingtoday=").concat(t),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({swimmingSales:t}),t.map(function(a){var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POS)},0);e.setState({swimmingPOS:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Cash)},0);e.setState({swimmingCash:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Transfer)},0);e.setState({swimmingTransfer:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Room)},0);return e.setState({swimmingRoom:r}),e.myTimer=setTimeout(function(){var t=0+parseInt(e.state.swimmingCash)+parseInt(e.state.swimmingPOS)+parseInt(e.state.swimmingTransfer)+parseInt(e.state.swimmingRoom);e.setState({swimmingTotal:t})},2e3),"ok"}),0===t.lenght&&(alert("No Data Found"),e.setState({swimmingRoom:0,swimmingTransfer:0,swimmingCash:0,swimmingPOS:0,swimmingTotal:0}))}),fetch("".concat("https://zarvichdemo.localto.net/billingUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({loginDetails:t})}),fetch("".concat("https://zarvichdemo.localto.net/hoteladdress"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){t.map(function(t){return e.setState({Hotelname:t.HotelName,Hoteladdress:t.Address,Hotelphone:t.Phone}),"ok"})}),this.myTimer=setTimeout(function(){var t=e.state.loginDetails,a=e.state.name;t.some(function(e){return e.name===a})?e.setState({Blogin:!0}):e.setState({Blogin:!1})},1e3)}}]),a}(n.Component),kn=Cn,In=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value))},n.handleChange10=function(e){var t;n.setState((t={},Object(h.a)(t,e.target.name,e.target.value),Object(h.a)(t,"roomSales",""),t))},n.renderRoomSales=function(e){if(e)return e.map(function(t){e.sort(function(e,t){return e.date-t.date});var a=k()(t.date).format("MMM DD YYYY");return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:t._id},s.a.createElement("td",{className:"table-light table-striped adjust222"},a),s.a.createElement("td",{className:"table-light table-striped adjust2"},t.roomNumbers),s.a.createElement("td",{className:"table-light table-striped adjust223 alignTet"},t.description),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:t.POSAmount,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:t.CashAmount,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:t.TransferAmount,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:t.CompDebit,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(t.POSAmount)+parseInt(t.CashAmount)+parseInt(t.TransferAmount),thousandSeparator:!0,displayType:"text"})))))})},console.log(">>>Inside CashConstructor",e),n.state={RoomSales:"",RoomTotal:"",depPOS:"",depCash:"",depTransfer:"",depComp:"",TotalSales:"",date:"",loginDetails:"",name:localStorage.getItem("userInfo"),login:"",Blogin:"",shift:"",startdate:"",endDate:"",levyData:"",ServiceChrg:"",TourismLevy:"",VAT:"",Hotelname:"",Hoteladdress:"",Hotelphone:""},n.checkinhandleChange=n.checkinhandleChange.bind(Object(f.a)(n)),n.endhandleChange=n.endhandleChange.bind(Object(f.a)(n)),n}return Object(p.a)(a,[{key:"checkinhandleChange",value:function(e){this.setState({date:e,startdate:e})}},{key:"endhandleChange",value:function(e){this.setState({endDate:e})}},{key:"renderDate",value:function(){return s.a.createElement("div",null,s.a.createElement(y.a,{selected:this.state.date,onChange:this.checkinhandleChange,maxDate:Object(N.default)(new Date,0),dropdownMode:"select",dateFormat:"MMM/d/ yyyy",className:"form-control mb-3 formsize printing alignText112",placeholderText:"Select Start Date"}))}},{key:"renderendDate",value:function(){return s.a.createElement("div",null,s.a.createElement(y.a,{selected:this.state.endDate,onChange:this.endhandleChange,maxDate:new Date,dropdownMode:"select",dateFormat:"MMM/d/ yyyy",className:"form-control mb-3 formsize printing alignText112 mvrght",placeholderText:"Search End Date"}))}},{key:"logout",value:function(){localStorage.removeItem("userInfo"),this.setState({login:!0})}},{key:"cleanup",value:function(){this.setState({RoomSales:0,RoomTotal:0,depPOS:0,depCash:0,depTransfer:0,depComp:0,TotalSales:0})}},{key:"findRoomReport",value:function(){var e=this,t=k()(this.state.date).format("MMM DD YYYY"),a=k()(this.state.endDate).format("MMM DD YYYY"),n="".concat("https://zarvichdemo.localto.net/findRmDeposits?roomDep12=Room%20Deposit","&&startdate12=").concat(t,"&&endDate12=").concat(a);this.setState({RoomSales:""}),fetch("".concat(n),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({RoomSales:t}),t.map(function(a){var n=0+parseInt(a.CashAmount)+parseInt(a.POSAmount)+parseInt(a.TransferAmount)+parseInt(a.CompDebit)+parseInt(a.roomDebit);e.setState({RoomTotal:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({depPOS:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({depCash:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({depTransfer:r});var l=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({depComp:l});var c=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);return e.setState({deproom:c}),"ok"})}),this.myTimer=setTimeout(function(){var t=0+e.state.RoomTotal;e.setState({TotalSales:t})},1e3),this.myTimer=setTimeout(function(){var t=0+e.state.RoomTotal;e.setState({TotalSales:t})},1e3)}},{key:"render",value:function(){var e=this;return console.log(">>> Inside Cashdetails",this.state),null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement(et,null)):s.a.createElement("div",{className:"container"},s.a.createElement("div",null,s.a.createElement("img",{src:"https://i.ibb.co/pP1xN03/Orange-Groove2.png",className:"alignImg2",style:{width:"100px",height:"70px"},alt:"companylogo"})),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("h6",null,this.state.Hotelname),s.a.createElement("p",{className:"textSize"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSize"},this.state.Hotelphone))),s.a.createElement("center",null,s.a.createElement("h5",null,"Daily Accommodation Report"),s.a.createElement("br",null),s.a.createElement("div",null,s.a.createElement("span",null,s.a.createElement("label",null,this.renderDate(this.state.startdate))),s.a.createElement("span",null,s.a.createElement("label",null,this.renderendDate(this.state.endDate))),s.a.createElement("span",null,s.a.createElement("button",{className:"btn btn-primary space btnadjuster printing",onClick:function(){e.cleanup(),e.findRoomReport()}},"Find")))),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust50"},"Date"),s.a.createElement("th",{className:"adjust50"},"Room Number"),s.a.createElement("th",{className:"adjust50"},"Description"),s.a.createElement("th",{className:"adjust50"},"POS (NGN)"),s.a.createElement("th",{className:"adjust50"},"Cash(NGN)"),s.a.createElement("th",{className:"adjust50"},"Transfer(NGN)"),s.a.createElement("th",{className:"adjust50"},"Reservation(NGN)"),s.a.createElement("th",{className:"adjust50"},"Total(NGN)"))),s.a.createElement("tbody",{className:"table table-hover"},this.renderRoomSales(this.state.RoomSales),s.a.createElement("tr",null,s.a.createElement("td",{className:"table-light table-striped adjust2"}," "),s.a.createElement("td",{className:"table-light table-striped adjust2"},s.a.createElement("b",null,"Total")),s.a.createElement("td",{className:"table-light table-striped adjust2"},s.a.createElement("b",null," ")),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.depPOS),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.depCash),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.depTransfer),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.depComp),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null," ",s.a.createElement(E.a,{value:this.state.depPOS+this.state.depCash+this.state.depTransfer,thousandSeparator:!0,displayType:"text"})))))),s.a.createElement("h6",null,"Gross Collection:         ",s.a.createElement(E.a,{value:this.state.depPOS+this.state.depCash+this.state.depTransfer,thousandSeparator:!0,displayType:"text",prefix:"NGN"})),s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-danger movebtn printing",onClick:function(){return e.props.history.push("/EndOfDay")}},"Close"),s.a.createElement("button",{className:"btn btn-primary movebtn printing",onClick:function(){return window.print()}},"Print"),s.a.createElement("button",{className:"btn btn-primary movebtn printing",onClick:function(){e.props.history.push("/Dashboard")}},"Goto Dashboard")))}},{key:"componentDidMount",value:function(){var e=this;console.log(">>> Inside CashDidMount",this.state),fetch("".concat("https://zarvichdemo.localto.net/feesAndCharges"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({levyData:t})}),fetch("".concat("https://zarvichdemo.localto.net/billingUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({loginDetails:t})});var t=k()(new Date).format("MMM DD YYYY"),a=k()(new Date).format("MMM DD YYYY"),n="".concat("https://zarvichdemo.localto.net/findRmDeposits?roomDep12=Room%20Deposit","&&startdate12=").concat(t,"&&endDate12=").concat(a);this.setState({RoomSales:""}),fetch("".concat(n),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({RoomSales:t}),t.map(function(a){var n=0+parseInt(a.CashAmount)+parseInt(a.POSAmount)+parseInt(a.TransferAmount)+parseInt(a.CompDebit)+parseInt(a.roomDebit);e.setState({RoomTotal:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({depPOS:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({depCash:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({depTransfer:r});var l=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({depComp:l});var c=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);return e.setState({deproom:c}),"ok"})}),this.myTimer=setTimeout(function(){var t=0+e.state.RoomTotal;e.setState({TotalSales:t})},1e3),fetch("".concat("https://zarvichdemo.localto.net/hoteladdress"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){t.map(function(t){return e.setState({Hotelname:t.HotelName,Hoteladdress:t.Address,Hotelphone:t.Phone}),"ok"})}),this.myTimer=setTimeout(function(){var t=e.state.loginDetails,a=e.state.name;t.some(function(e){return e.name===a})?e.setState({Blogin:!0}):e.setState({Blogin:!1})},1e3)}}]),a}(n.Component),jn=In,xn=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).renderRoomSales=function(e){if(e)return e.map(function(t){if(e.sort(function(e,t){return e.date-t.date}),""!==t.fname){var a=k()(t.date).format("MMM DD YYYY");return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:t._id},s.a.createElement("td",{className:"table-light table-striped adjust2"},a),s.a.createElement("td",{className:"table-light table-striped adjust2"},t.roomNumbers),s.a.createElement("td",{className:"table-light table-striped adjust2"},t.fname," ",t.lname),s.a.createElement("td",{className:"table-light table-striped adjust2"},t.roomtypeName),s.a.createElement("td",{className:"table-light table-striped adjust2"},s.a.createElement(E.a,{value:t.BillStatus,thousandSeparator:!0,displayType:"text"}))))}return null})},console.log(">>>Inside CashConstructor",e),n.state={RoomSales:"",date:new Date,loginDetails:"",name:localStorage.getItem("userInfo"),login:"",Blogin:"",shift:"",Hotelname:"",Hoteladdress:"",Hotelphone:""},n}return Object(p.a)(a,[{key:"logout",value:function(){localStorage.removeItem("userInfo"),this.setState({login:!0})}},{key:"cleanup",value:function(){this.setState({RoomSales:""})}},{key:"render",value:function(){var e=this;return console.log(">>> Inside Cashdetails",this.state),null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement(et,null)):s.a.createElement("div",{className:"container"},s.a.createElement("div",null,s.a.createElement("img",{src:"https://i.ibb.co/pP1xN03/Orange-Groove2.png",className:"alignImg2",style:{width:"100px",height:"70px"},alt:"companylogo"})),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("h6",null,this.state.Hotelname),s.a.createElement("p",{className:"textSize"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSize"},this.state.Hotelphone))),s.a.createElement("center",null,s.a.createElement("h5",null,"Guests Balance Report"),s.a.createElement("br",null)),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust50"},"Date"),s.a.createElement("th",{className:"adjust50"},"Room Number"),s.a.createElement("th",{className:"adjust50"},"Names"),s.a.createElement("th",{className:"adjust50"},"Room Type"),s.a.createElement("th",{className:"adjust50"},"Guest Balance (NGN)"))),s.a.createElement("tbody",{className:"table table-hover"},this.renderRoomSales(this.state.RoomSales))),s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-danger movebtn printing",onClick:function(){return e.props.history.push("/EndOfDay")}},"Close"),s.a.createElement("button",{className:"btn btn-primary movebtn printing",onClick:function(){return window.print()}},"Print")))}},{key:"componentDidMount",value:function(){var e=this;console.log(">>> Inside CashDidMount",this.state),fetch("".concat("https://zarvichdemo.localto.net/billingUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({loginDetails:t})}),fetch("".concat("https://zarvichdemo.localto.net/getrmstatus"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({RoomSales:t})}),fetch("".concat("https://zarvichdemo.localto.net/hoteladdress"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){t.map(function(t){return e.setState({Hotelname:t.HotelName,Hoteladdress:t.Address,Hotelphone:t.Phone}),"ok"})}),this.myTimer=setTimeout(function(){var t=e.state.loginDetails,a=e.state.name;t.some(function(e){return e.name===a})?e.setState({Blogin:!0}):e.setState({Blogin:!1})},1e3)}}]),a}(n.Component),Mn=xn,On=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value))},n.renderRoomSales=function(e){if(e)return e.map(function(t){e.sort(function(e,t){return e.date-t.date});var a=k()(t.date).format("MMM DD YYYY"),n=t.docketDetails;return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:t._id},s.a.createElement("td",{className:"table-light table-striped adjust2"},a),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet"},n.map(function(e){return e.meal})," "),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:t.POSAmount,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:t.CashAmount,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:t.TransferAmount,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:t.CompDebit,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:t.roomDebit,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},t.roomNumbers),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(t.POSAmount)+parseInt(t.CashAmount)+parseInt(t.TransferAmount)+parseInt(t.roomDebit),thousandSeparator:!0,displayType:"text"})))))})},console.log(">>>Inside CashConstructor",e),n.state={RoomSales:"",RoomTotal:"",depPOS:"",depCash:"",depTransfer:"",depComp:"",TotalSales:"",date:"",deproom:"",loginDetails:"",name:localStorage.getItem("userInfo"),login:"",Blogin:"",shift:"",startdate:"",endDate:"",levyData:"",ServiceChrg:"",TourismLevy:"",VAT:"",Hotelname:"",Hoteladdress:"",Hotelphone:""},n.checkinhandleChange=n.checkinhandleChange.bind(Object(f.a)(n)),n.endhandleChange=n.endhandleChange.bind(Object(f.a)(n)),n}return Object(p.a)(a,[{key:"checkinhandleChange",value:function(e){this.setState({date:e,startdate:e})}},{key:"endhandleChange",value:function(e){this.setState({endDate:e})}},{key:"renderDate",value:function(){return s.a.createElement("div",null,s.a.createElement(y.a,{selected:this.state.date,onChange:this.checkinhandleChange,maxDate:Object(N.default)(new Date,1),dropdownMode:"select",dateFormat:"MMM/d/ yyyy",className:"form-control mb-3 formsize printing alignText112",placeholderText:"Select Start Date"}))}},{key:"renderendDate",value:function(){return s.a.createElement("div",null,s.a.createElement(y.a,{selected:this.state.endDate,onChange:this.endhandleChange,maxDate:new Date,dropdownMode:"select",dateFormat:"MMM/d/ yyyy",className:"form-control mb-3 formsize printing alignText112 mvrght",placeholderText:"Search End Date"}))}},{key:"logout",value:function(){localStorage.removeItem("userInfo"),this.setState({login:!0}),localStorage.removeItem("shift")}},{key:"cleanup",value:function(){this.setState({RoomSales:"",RoomTotal:0,depPOS:0,depCash:0,depTransfer:0,depComp:0,TotalSales:0,deproom:0})}},{key:"findRoomReport",value:function(){var e=this,t=k()(this.state.date).format("MMM DD YYYY"),a=k()(this.state.endDate).format("MMM DD YYYY"),n="".concat("https://zarvichdemo.localto.net/findrestaurantsalesNow?restDep24=Restaurant%20Sales","&&startdate24=").concat(t,"&&endDate24=").concat(a);this.setState({RoomSales:""}),fetch("".concat(n),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({RoomSales:t}),t.map(function(a){var n=0+parseInt(a.CashAmount)+parseInt(a.POSAmount)+parseInt(a.TransferAmount)+parseInt(a.roomDebit);e.setState({RoomTotal:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({depPOS:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({depCash:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({depTransfer:r});var l=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({depComp:l});var c=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);return e.setState({deproom:c}),"ok"})}),this.myTimer=setTimeout(function(){var t=0+e.state.RoomTotal;e.setState({TotalSales:t})},1e3)}},{key:"render",value:function(){var e=this;return console.log(">>> Inside Cashdetails",this.state),null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement(et,null)):s.a.createElement("div",{className:"container"},s.a.createElement("div",null,s.a.createElement("img",{src:"https://i.ibb.co/pP1xN03/Orange-Groove2.png",className:"alignImg2",style:{width:"100px",height:"70px"},alt:"companylogo"})),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("h6",null,this.state.Hotelname),s.a.createElement("p",{className:"textSize"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSize"},this.state.Hotelphone))),s.a.createElement("center",null,s.a.createElement("h5",null,"Daily Restaurant Sales Report"),s.a.createElement("br",null),s.a.createElement("div",null,s.a.createElement("span",null,s.a.createElement("label",null,this.renderDate(this.state.startdate))),s.a.createElement("span",null,s.a.createElement("label",null,this.renderendDate(this.state.endDate))),s.a.createElement("span",null,s.a.createElement("button",{className:"btn btn-primary space btnadjuster printing",onClick:function(){e.cleanup(),e.findRoomReport()}},"Find"))),s.a.createElement("br",null)),s.a.createElement("br",null),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust50"},"Date"),s.a.createElement("th",{className:"adjust50"},"Description"),s.a.createElement("th",{className:"adjust50"},"POS (NGN)"),s.a.createElement("th",{className:"adjust50"},"Cash(NGN)"),s.a.createElement("th",{className:"adjust50"},"Transfer(NGN)"),s.a.createElement("th",{className:"adjust50"},"Compl(NGN)"),s.a.createElement("th",{className:"adjust50"},"Room(NGN)"),s.a.createElement("th",{className:"adjust50"},"Rm Num"),s.a.createElement("th",{className:"adjust50"},"Total(NGN)"))),s.a.createElement("tbody",{className:"table table-hover"},this.renderRoomSales(this.state.RoomSales),s.a.createElement("tr",null,s.a.createElement("td",{className:"table-light table-striped adjust222"}," "),s.a.createElement("td",{className:"table-light table-striped adjust2"},s.a.createElement("b",null,"Total")),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.depPOS),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.depCash),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.depTransfer),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.depComp),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.deproom),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"}," "),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null," ",s.a.createElement(E.a,{value:this.state.depPOS+this.state.depCash+this.state.depTransfer+this.state.deproom,thousandSeparator:!0,displayType:"text"})))))),s.a.createElement("h6",null,"Total Collection:         ",s.a.createElement(E.a,{value:this.state.depPOS+this.state.depCash+this.state.depTransfer+this.state.deproom,thousandSeparator:!0,displayType:"text",prefix:"NGN"})),s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-danger movebtn printing",onClick:function(){return e.props.history.push("/EndOfDay")}},"Close"),s.a.createElement("button",{className:"btn btn-primary movebtn printing",onClick:function(){return window.print()}},"Print"),s.a.createElement("button",{className:"btn btn-warning movebtn printing",onClick:function(){e.props.history.push("/Dashboard")}},"Goto Dashboard")))}},{key:"componentDidMount",value:function(){var e=this;console.log(">>> Inside CashDidMount",this.state),fetch("".concat("https://zarvichdemo.localto.net/feesAndCharges"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({levyData:t})});var t=k()(new Date).format("MMM DD YYYY"),a=k()(new Date).format("MMM DD YYYY"),n="".concat("https://zarvichdemo.localto.net/findrestaurantsalesNow?restDep24=Restaurant%20Sales","&&startdate24=").concat(t,"&&endDate24=").concat(a);this.setState({RoomSales:""}),fetch("".concat(n),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({RoomSales:t}),t.map(function(a){var n=0+parseInt(a.CashAmount)+parseInt(a.POSAmount)+parseInt(a.TransferAmount)+parseInt(a.roomDebit);e.setState({RoomTotal:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({depPOS:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({depCash:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({depTransfer:r});var l=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({depComp:l});var c=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);return e.setState({deproom:c}),"ok"})}),this.myTimer=setTimeout(function(){var t=0+e.state.RoomTotal;e.setState({TotalSales:t})},1e3),fetch("".concat("https://zarvichdemo.localto.net/hoteladdress"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){t.map(function(t){return e.setState({Hotelname:t.HotelName,Hoteladdress:t.Address,Hotelphone:t.Phone}),"ok"})}),fetch("".concat("https://zarvichdemo.localto.net/billingUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({loginDetails:t})}),this.myTimer=setTimeout(function(){var t=e.state.loginDetails,a=e.state.name;t.some(function(e){return e.name===a})?e.setState({Blogin:!0}):e.setState({Blogin:!1})},1e3)}}]),a}(n.Component),wn=On,Pn=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value))},n.renderRoomSales=function(e){if(e)return e.map(function(e){var t=k()(e.date).format("MMM DD YYYY"),a=e.docketDetails;return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:e._id},s.a.createElement("td",{className:"table-light table-striped adjust2"},t),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet"},a.map(function(e){return e.meal})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:e.POSAmount,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:e.CashAmount,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:e.TransferAmount,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:e.CompDebit,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:e.roomDebit,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},e.roomNumbers),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(e.POSAmount)+parseInt(e.CashAmount)+parseInt(e.TransferAmount)+parseInt(e.roomDebit),thousandSeparator:!0,displayType:"text"})))))})},console.log(">>>Inside CashConstructor",e),n.state={RoomSales:"",RoomTotal:"",depPOS:"",depCash:"",depTransfer:"",depComp:"",TotalSales:"",date:"",deproom:"",loginDetails:"",name:localStorage.getItem("userInfo"),login:"",Blogin:"",shift:"",startdate:"",endDate:"",levyData:"",ServiceChrg:"",TourismLevy:"",VAT:"",Hotelname:"",Hoteladdress:"",Hotelphone:""},n.checkinhandleChange=n.checkinhandleChange.bind(Object(f.a)(n)),n.endhandleChange=n.endhandleChange.bind(Object(f.a)(n)),n}return Object(p.a)(a,[{key:"checkinhandleChange",value:function(e){this.setState({date:e,startdate:e})}},{key:"endhandleChange",value:function(e){this.setState({endDate:e})}},{key:"renderDate",value:function(){return s.a.createElement("div",null,s.a.createElement(y.a,{selected:this.state.date,onChange:this.checkinhandleChange,dropdownMode:"select",dateFormat:"MMM/d/ yyyy",className:"form-control mb-3 formsize printing alignText112",placeholderText:"Select Start Date"}))}},{key:"renderendDate",value:function(){return s.a.createElement("div",null,s.a.createElement(y.a,{selected:this.state.endDate,onChange:this.endhandleChange,dropdownMode:"select",dateFormat:"MMM/d/ yyyy",className:"form-control mb-3 formsize printing alignText112 mvrght",placeholderText:"Search End Date"}))}},{key:"logout",value:function(){localStorage.removeItem("userInfo"),this.setState({login:!0}),localStorage.removeItem("shift")}},{key:"cleanup",value:function(){this.setState({RoomSales:"",RoomTotal:"",depPOS:"",depCash:"",depTransfer:"",depComp:"",TotalSales:"",deproom:""})}},{key:"findRoomReport",value:function(){var e=this,t=k()(this.state.date).format("MMM DD YYYY"),a=k()(this.state.endDate).format("MMM DD YYYY"),n="".concat("https://zarvichdemo.localto.net/findPoolSalesNow?poolNowDep84=PoolBar%20Sales","&&poolstartdate84=").concat(t,"&&poolendDate84=").concat(a);this.setState({RoomSales:""}),fetch("".concat(n),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({RoomSales:t}),t.map(function(a){var n=0+parseInt(a.CashAmount)+parseInt(a.POSAmount)+parseInt(a.TransferAmount)+parseInt(a.roomDebit);e.setState({RoomTotal:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({depPOS:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({depCash:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({depTransfer:r});var l=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({depComp:l});var c=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);return e.setState({deproom:c}),"ok"})}),this.myTimer=setTimeout(function(){var t=0+e.state.RoomTotal;e.setState({TotalSales:t})},1e3)}},{key:"render",value:function(){var e=this;console.log(">>> Inside Cashdetails",this.state);var t=this.state.depPOS+this.state.depCash+this.state.depTransfer+this.state.deproom;return null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement(et,null)):s.a.createElement("div",{className:"container"},s.a.createElement("div",null,s.a.createElement("img",{src:"https://i.ibb.co/pP1xN03/Orange-Groove2.png",className:"alignImg2",style:{width:"100px",height:"70px"},alt:"companylogo"})),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("h6",null,this.state.Hotelname),s.a.createElement("p",{className:"textSize"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSize"},this.state.Hotelphone))),s.a.createElement("center",null,s.a.createElement("h5",null,"Daily PoolBar Sales Report (",this.state.shift,")"),s.a.createElement("br",null),s.a.createElement("div",null,s.a.createElement("span",null,s.a.createElement("label",null,this.renderDate(this.state.startdate))),s.a.createElement("span",null,s.a.createElement("label",null,this.renderendDate(this.state.endDate))),s.a.createElement("span",null,s.a.createElement("select",{type:"button",className:"form-select mb-2 btn btn-primary mt-3 btnwidthp printing space selectadjuster",name:"shift",value:this.state.shift,onChange:this.handleChange},s.a.createElement("option",{selected:!0,value:""},"Select Shift"),s.a.createElement("option",{value:"Morning Shift"},"Morning Shift"),s.a.createElement("option",{value:"Night Shift"},"Night Shift"),s.a.createElement("option",{value:"All Day"},"All Day"),s.a.createElement("option",{value:"All Shifts"},"All Shifts")),s.a.createElement("button",{className:"btn btn-primary space btnadjuster printing",onClick:function(){e.cleanup(),e.findRoomReport()}},"Find")))),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust50"},"Date"),s.a.createElement("th",{className:"adjust50"},"Description"),s.a.createElement("th",{className:"adjust50"},"POS (NGN)"),s.a.createElement("th",{className:"adjust50"},"Cash(NGN)"),s.a.createElement("th",{className:"adjust50"},"Transfer(NGN)"),s.a.createElement("th",{className:"adjust50"},"Compl(NGN)"),s.a.createElement("th",{className:"adjust50"},"Room(NGN)"),s.a.createElement("th",{className:"adjust50"},"Rm Num"),s.a.createElement("th",{className:"adjust50"},"Total(NGN)"))),s.a.createElement("tbody",{className:"table table-hover"},this.renderRoomSales(this.state.RoomSales),s.a.createElement("tr",null,s.a.createElement("td",{className:"table-light table-striped adjust2"}," "),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet"},s.a.createElement("b",null,"Total Collection")),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.depPOS),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.depCash),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.depTransfer),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.depComp),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.deproom),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"}," "),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null," ",s.a.createElement(E.a,{value:t,thousandSeparator:!0,displayType:"text"})))))),s.a.createElement("h6",null,"Total Collection:         ",s.a.createElement(E.a,{value:t,thousandSeparator:!0,displayType:"text",prefix:"NGN"})),s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-danger movebtn printing",onClick:function(){return e.props.history.push("/EndOfDay")}},"Close"),s.a.createElement("button",{className:"btn btn-primary movebtn printing",onClick:function(){return window.print()}},"Print"),s.a.createElement("button",{className:"btn btn-warning movebtn printing",onClick:function(){e.props.history.push("/Dashboard")}},"Goto Dashboard")))}},{key:"componentDidMount",value:function(){var e=this;console.log(">>> Inside CashDidMount",this.state),fetch("".concat("https://zarvichdemo.localto.net/feesAndCharges"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({levyData:t})}),fetch("".concat("https://zarvichdemo.localto.net/billingUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({loginDetails:t})}),fetch("".concat("https://zarvichdemo.localto.net/hoteladdress"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){t.map(function(t){return e.setState({Hotelname:t.HotelName,Hoteladdress:t.Address,Hotelphone:t.Phone}),"ok"})}),this.myTimer=setTimeout(function(){var t=e.state.loginDetails,a=e.state.name;t.some(function(e){return e.name===a})?e.setState({Blogin:!0}):e.setState({Blogin:!1})},1e3)}}]),a}(n.Component),Rn=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),n=t.call(this,e),console.log(">>>Inside SalesConstructor",e),n.state={salesRecords:"",totalSales:"",loginDetails:"",name:localStorage.getItem("userInfo"),login:"",Blogin:""},n}return Object(p.a)(a,[{key:"handleTotal",value:function(){var e=this.state.salesRecords.reduce(function(e,t){return e+parseInt(t.amountPaid)},0);this.setState({totalSales:e})}},{key:"logout",value:function(){localStorage.removeItem("userInfo"),this.setState({login:!0})}},{key:"renderSalesData",value:function(e){if(e)return e.map(function(e,t){return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:e._id},s.a.createElement("td",{className:"table-light table-striped adjust2"},k()(e.date).format("MMM DD YYYY")),s.a.createElement("td",{className:"table-light table-striped adjust2"},e.docketNum),s.a.createElement("td",{className:"table-light table-striped adjust2"},e.refID),s.a.createElement("td",{className:"table-light table-striped adjust2"},e.roomNumbers),s.a.createElement("td",{className:"table-light table-striped adjust2"},e.paymentMethod),s.a.createElement("td",{className:"table-light table-striped adjust2"},s.a.createElement(E.a,{value:e.cost,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2"},s.a.createElement(E.a,{value:e.amountPaid,thousandSeparator:!0,displayType:"text"}))),s.a.createElement("div",{className:"accordion-flush",id:"accordionFlushExample"},s.a.createElement("div",{className:"accordion-item"},s.a.createElement("h5",{className:"accordion-header",id:"flush-headingOne"},s.a.createElement("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapseOne","aria-expanded":"false","aria-controls":"flush-collapseOne"},s.a.createElement("b",{style:{color:"blue"}},"Order Details"))),s.a.createElement("div",{id:"flush-collapseOne",className:"accordion-collapse collapse","aria-labelledby":"flush-headingOne","data-bs-parent":"#accordionFlushExample"},s.a.createElement("div",{className:"accordion-body"},e.docketDetails.map(function(e){return s.a.createElement(s.a.Fragment,null,e.meal," (",s.a.createElement(E.a,{value:e.mealPrice,thousandSeparator:!0,displayType:"text"}),".00), \xa0;")}))))))})}},{key:"render",value:function(){return console.log(">>> Inside CompTorender",this.state),null==localStorage.getItem("userInfo")||!1===this.state.login?s.a.createElement(s.a.Fragment,null,s.a.createElement($a,null)):s.a.createElement(s.a.Fragment,null,s.a.createElement(De,null),s.a.createElement("center",null,s.a.createElement("h5",null,"Reservations Daily Sales Report")),s.a.createElement("br",null),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust2"},"Date"),s.a.createElement("th",{className:"adjust2"},"Docket Num"),s.a.createElement("th",{className:"adjust2"},"Room ID"),s.a.createElement("th",{className:"adjust2"},"Room Num"),s.a.createElement("th",{className:"adjust2"},"Payment Method"),s.a.createElement("th",{className:"adjust2"},"Price(=N)"),s.a.createElement("th",{className:"adjust2"},"Amount Paid(=N)"))),s.a.createElement("tbody",{className:"table table-hover"},this.renderSalesData(this.state.salesRecords))))}},{key:"componentDidMount",value:function(){var e=this;console.log(">>> Inside BarSalesTodidMount"),fetch("https://zarvichdemo.localto.net/clubSales",{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({salesRecords:t})}),fetch("".concat("https://zarvichdemo.localto.net/clubUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({loginDetails:t})}),this.myTimer=setTimeout(function(){var t=e.state.loginDetails,a=e.state.name;t.some(function(e){return e.name===a})?e.setState({Blogin:!0}):e.setState({Blogin:!1})},1e3)}}]),a}(n.Component),An=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),n=t.call(this,e),console.log(">>>Inside GstConstructor",e),n.state={loginDetails:"",name:localStorage.getItem("userInfo"),login:"",Blogin:""},n}return Object(p.a)(a,[{key:"logout",value:function(){localStorage.removeItem("userInfo"),this.setState({login:!0})}},{key:"render",value:function(){var e=this;return console.log(">>> Inside logindetails",this.state),null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement(et,null)):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"background15ba"},s.a.createElement("center",null,s.a.createElement("div",{className:"formdesign152"},s.a.createElement("h4",{className:"mb-3"},"Billing Reports"),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-primary btnwidth15 mb-3",onClick:function(){e.props.history.push("./CashCollection")}},"Daily Sales Report"),s.a.createElement("button",{className:"btn btn-primary btnwidth15 mb-3",onClick:function(){e.props.history.push("./DailyRoomSales")}},"Accommodation Report"),s.a.createElement("button",{className:"btn btn-danger btnwidth15 mb-3",onClick:function(){e.props.history.push("./GuestBal")}},"Guest Balances"),s.a.createElement("button",{className:"btn btn-primary btnwidth15 mb-3",onClick:function(){e.props.history.push("./RestaurantReport")}},"Restaurant Sales Report"),s.a.createElement("button",{className:"btn btn-primary btnwidth15 mb-3",onClick:function(){e.props.history.push("./BarSalesReport")}},"Bar Sales Report"),s.a.createElement("button",{className:"btn btn-primary btnwidth15 mb-3",onClick:function(){e.props.history.push("./PoolBarDailySales")}},"PoolBar Sales Report"),s.a.createElement("button",{className:"btn btn-primary btnwidth15 mb-3",onClick:function(){e.props.history.push("./ReservationReports")}},"Reservations Report"),s.a.createElement("button",{className:"btn btn-primary btnwidth15 mb-3",onClick:function(){e.props.history.push("./LaundryReport")}},"Laundry Sales Report"),s.a.createElement("button",{className:"btn btn-primary btnwidth15 mb-3",onClick:function(){e.props.history.push("./GymnasiumReport")}},"Gymnasium Sales Report"),s.a.createElement("button",{className:"btn btn-primary btnwidth15 mb-3",onClick:function(){e.props.history.push("./SmoothieReport")}},"Suya Sales Report"),s.a.createElement("button",{className:"btn btn-primary btnwidth15 mb-3",onClick:function(){e.props.history.push("./SwimmingReport")}},"Swimming Pool Report"),s.a.createElement("button",{className:"btn btn-primary btnwidth15 mb-3",onClick:function(){e.props.history.push("./MinimartReport")}},"Mini Mart Sales Report"),s.a.createElement("button",{className:"btn btn-primary btnwidth15 mb-3",onClick:function(){e.props.history.push("./BarbequeReport")}},"Barbeque Sales Report"),s.a.createElement("button",{className:"btn btn-primary btnwidth15 mb-3",onClick:function(){e.props.history.push("./ShishaReport")}},"Games Sales Report"),s.a.createElement("button",{className:"btn btn-primary btnwidth15 mb-3",onClick:function(){e.props.history.push("./HallHireReport")}},"Hall Hire Report"),s.a.createElement("button",{className:"btn btn-primary btnwidth15 mb-3",onClick:function(){e.props.history.push("./OtherSalesReport")}},"Other Sales Report"),s.a.createElement("button",{className:"btn btn-primary btnwidth15 mb-3",onClick:function(){e.props.history.push("./DailyDiscountList")}},"Room Discount Report"),s.a.createElement("button",{className:"btn btn-danger btnwidth15 mb-3",onClick:function(){e.props.history.push("./BillingMenu")}},"Close"),s.a.createElement("button",{className:"btn btn-warning btnwidth15 mb-3",onClick:function(){e.props.history.push("/Dashboard")}},"Goto Dashboard")))))),s.a.createElement("div",{className:"pagebody3"},s.a.createElement("input",{hidden:!0})))}},{key:"componentDidMount",value:function(){var e=this;fetch("".concat("https://zarvichdemo.localto.net/billingUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({loginDetails:t})}),this.myTimer=setTimeout(function(){var t=e.state.loginDetails,a=e.state.name;t.some(function(e){return e.name===a})?e.setState({Blogin:!0}):e.setState({Blogin:!1})},1e3)}}]),a}(n.Component),zn=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).renderDiscountRooms=function(e){if(e)return e.map(function(e){var t=k()(e.arrivalDate).format("YYYY-DD-MMM");return""!==e.discounType?s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:e.refID},s.a.createElement("td",{className:"table-light table-striped adjust2"},t),s.a.createElement("td",{className:"table-light table-striped adjust224"},e.fname," ",e.lname),s.a.createElement("td",{className:"table-light table-striped adjust2"},e.roomNumbers),s.a.createElement("td",{className:"table-light table-striped adjust2"},e.roomtypeName),s.a.createElement("td",{className:"table-light table-striped adjust2"},e.discounType),s.a.createElement("td",{className:"table-light table-striped adjust2"},s.a.createElement(E.a,{value:e.roomRate,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2"},s.a.createElement(E.a,{value:e.dailyRate,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(e.roomRate)-parseInt(e.dailyRate),thousandSeparator:!0,displayType:"text"}))))):s.a.createElement(s.a.Fragment,null)})},console.log(">>>Inside CashConstructor",e),n.state={discountedRooms:"",discountAmount:"",discountType:"",TotalDiscount:0,TotalRoomRate:0,TotalDailyRate:0,roomRate:"",date:new Date,searchDates:"",loginDetails:"",name:localStorage.getItem("userInfo"),login:"",Blogin:"",Hotelname:"",Hoteladdress:"",Hotelphone:""},n.checkinhandleChange=n.checkinhandleChange.bind(Object(f.a)(n)),n}return Object(p.a)(a,[{key:"checkinhandleChange",value:function(e){this.setState({date:e})}},{key:"renderDate",value:function(){return s.a.createElement("div",null,s.a.createElement(y.a,{selected:this.state.date,onChange:this.checkinhandleChange,maxDate:Object(N.default)(new Date,1),dropdownMode:"select",dateFormat:"MMM/d/ yyyy",className:"form-control mb-3 formsize printing alignText112"}))}},{key:"logout",value:function(){localStorage.removeItem("userInfo"),this.setState({login:!0})}},{key:"findRoomReport",value:function(){var e=this,t=k()(this.state.date).format("YYYY-DD-MMM");fetch("".concat("https://zarvichdemo.localto.net/checkin?actual=").concat(t),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({discountedRooms:t}),t.map(function(t){var a=parseInt(t.roomRate)-parseInt(t.dailyRate)+0;return e.setState({TotalDiscount:a}),"ok"})})}},{key:"render",value:function(){var e=this;return console.log(">>> Inside Cashdetails",this.state),null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement(et,null)):s.a.createElement("div",{className:"container"},s.a.createElement("div",null,s.a.createElement("img",{src:"https://i.ibb.co/pP1xN03/Orange-Groove2.png",className:"alignImg2",style:{width:"100px",height:"70px"},alt:"companylogo"})),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("h6",null,this.state.Hotelname),s.a.createElement("p",{className:"textSize"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSize"},this.state.Hotelphone))),s.a.createElement("center",null,s.a.createElement("h5",null,"Room Discount Report"),s.a.createElement("br",null),s.a.createElement("br",null)),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust50"},"Date"),s.a.createElement("th",{className:"adjust50"},"Names"),s.a.createElement("th",{className:"adjust50"},"Room Num"),s.a.createElement("th",{className:"adjust50"},"Room Type"),s.a.createElement("th",{className:"adjust50"},"Discount Type"),s.a.createElement("th",{className:"adjust50"},"Room Rate(NGN)"),s.a.createElement("th",{className:"adjust50"},"Daily Rate(NGN)"),s.a.createElement("th",{className:"adjust50"},"Discount (NGN)"))),s.a.createElement("tbody",{className:"table table-hover"},this.renderDiscountRooms(this.state.discountedRooms),s.a.createElement("tr",null,s.a.createElement("td",{className:"table-light table-striped adjust2"},s.a.createElement("b",null,"Total Discount")),s.a.createElement("td",{className:"table-light table-striped adjust2"}," "),s.a.createElement("td",{className:"table-light table-striped adjust2"}," "),s.a.createElement("td",{className:"table-light table-striped adjust2"}," "),s.a.createElement("td",{className:"table-light table-striped adjust2"}," "),s.a.createElement("td",{className:"table-light table-striped adjust2"}," "),s.a.createElement("td",{className:"table-light table-striped adjust2"}," "),s.a.createElement("td",{className:"table-light table-striped adjust2"},s.a.createElement("b",null," ",s.a.createElement(E.a,{value:this.state.TotalDiscount,thousandSeparator:!0,displayType:"text"})))))),s.a.createElement("h6",null,"Total Daily Discount:         ",s.a.createElement(E.a,{value:this.state.TotalDiscount,thousandSeparator:!0,displayType:"text",prefix:"NGN"})),s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-danger movebtn printing",onClick:function(){return e.props.history.push("/EndOfDay")}},"Close"),s.a.createElement("button",{className:"btn btn-primary movebtn printing",onClick:function(){return window.print()}},"Print"),s.a.createElement("button",{className:"btn btn-primary movebtn printing",onClick:function(){e.props.history.push("/Dashboard")}},"Goto Dashboard")))}},{key:"componentDidMount",value:function(){var e=this;console.log(">>> Inside CashDidMount",this.state),fetch("".concat("https://zarvichdemo.localto.net/checkin?actual="),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({discountedRooms:t});var a=0+t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomRate)},0)-t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.dailyRate)},0);return e.setState({TotalDiscount:a}),"ok"}),fetch("".concat("https://zarvichdemo.localto.net/billingUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({loginDetails:t})}),fetch("".concat("https://zarvichdemo.localto.net/hoteladdress"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){t.map(function(t){return e.setState({Hotelname:t.HotelName,Hoteladdress:t.Address,Hotelphone:t.Phone}),"ok"})}),this.myTimer=setTimeout(function(){var t=e.state.loginDetails,a=e.state.name;t.some(function(e){return e.name===a})?e.setState({Blogin:!0}):e.setState({Blogin:!1})},1e3)}}]),a}(n.Component),Bn="https://zarvichdemo.localto.net/guestbillingSummary?orgName=",Gn=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value))},n.renderRooms=function(e){if(e)return e.sort(function(e,t){return new Date(t.arrivalDate)-new Date(e.arrivalDate)}),e.map(function(e){var t=k()(e.departureDate).format("MMM DD YYYY");return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:e.refID},s.a.createElement("td",{className:"table-light table-striped adjust2b"},e.fname," ",e.lname),s.a.createElement("td",{className:"table-light table-striped adjust2b"},e.arrivalDate),s.a.createElement("td",{className:"table-light table-striped adjust2b"},t),s.a.createElement("td",{className:"table-light table-striped adjust2b"},e.roomNum),s.a.createElement("td",{className:"table-light table-striped adjust2b"},e.roomtype),s.a.createElement("td",{className:"table-light table-striped adjust2b"},s.a.createElement(E.a,{value:e.dailyRte,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2b"},e.stay," Nights"),s.a.createElement("td",{className:"table-light table-striped adjust2b"},s.a.createElement(E.a,{value:e.TotalAccommodation,thousandSeparator:!0,displayType:"text"}))))})},n.renderDockets=function(e){if(e)return e.sort(function(e,t){return new Date(t.departureDate)-new Date(e.departureDate)}),e.map(function(e){var t=k()(e.departureDate).format("MMM DD YYYY");return"0"!==e.TotalRoomService?s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:e.refID},s.a.createElement("td",{className:"table-light table-striped adjust2b"},t),s.a.createElement("td",{className:"table-light table-striped adjust2b"},e.roomNum),s.a.createElement("td",{className:"table-light table-striped adjust2b"},e.fname," ",e.lname),s.a.createElement("td",{className:"table-light table-striped adjust2b"},s.a.createElement(E.a,{value:e.TotalRoomService,thousandSeparator:!0,displayType:"text"})))):null})},n.renderInhouseDockets=function(e){if(e)return e.sort(function(e,t){return new Date(t.departureDate)-new Date(e.departureDate)}),e.map(function(e){return"0"!==e.cost?s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:e.refID},s.a.createElement("td",{className:"table-light table-striped adjust2b"},e.date),s.a.createElement("td",{className:"table-light table-striped adjust2b"},e.roomNumbers),s.a.createElement("td",{className:"table-light table-striped adjust2b"},s.a.createElement(E.a,{value:e.cost,thousandSeparator:!0,displayType:"text"})))):null})},n.renderFandB=function(e){if(e)return e.map(function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:e.resID},s.a.createElement("td",{className:"table-light table-striped adjust2b"},e.transactionDate),s.a.createElement("td",{className:"table-light table-striped adjust2b"},e.resID),s.a.createElement("td",{className:"table-light table-striped adjust2b"},e.description),s.a.createElement("td",{className:"table-light table-striped adjust2b"},e.qty),s.a.createElement("td",{className:"table-light table-striped adjust2b"},s.a.createElement(E.a,{value:e.amount,thousandSeparator:!0,displayType:"text"}))))})},n.renderDeposits=function(e){if(e)return e.map(function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:e.refID},s.a.createElement("td",{className:"table-light table-striped adjust2b"},e.date),s.a.createElement("td",{className:"table-light table-striped adjust2b"},e.description),s.a.createElement("td",{className:"table-light table-striped adjust2b"},e.receiptNum),s.a.createElement("td",{className:"table-light table-striped adjust2b"},s.a.createElement(E.a,{value:n.state.POSDeposit,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2b"},s.a.createElement(E.a,{value:n.state.CashDeposit,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2b"},s.a.createElement(E.a,{value:n.state.TransferDeposit,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2b"},s.a.createElement(E.a,{value:n.state.TotalDeposits,thousandSeparator:!0,displayType:"text"}))))})},console.log(">>>Inside GstConstructor",e),n.state={groupData:"",groupBillData:"",functionFandB:"",totalfuncttionFandB:0,groupPayments:"",org:"",orgName:"",startDate:"",endDate:"",departureDate:"",totalDockets:0,POSDeposit:0,CashDeposit:0,TransferDeposit:0,CompDebit:0,roomDebit:0,TotalDeposits:0,totalAcc:0,calcVAT:0,calcTourismLev:0,loginDetails:"",name:localStorage.getItem("userInfo"),login:"",Blogin:"",TotalStay:[],guestInHouse:"",TotalBillsInHouse:0,Inhousebilldetails:"",calDockets:0},n.starthandleChange=n.starthandleChange.bind(Object(f.a)(n)),n.endhandleChange=n.endhandleChange.bind(Object(f.a)(n)),n}return Object(p.a)(a,[{key:"renderstartDate",value:function(){return s.a.createElement("div",null,s.a.createElement(y.a,{selected:this.state.startDate,onChange:this.starthandleChange,maxDate:new Date,dropdownMode:"select",dateFormat:"MMM/d/ yyyy",className:"form-control mb-3 formsize printing alignText112",placeholderText:"Search Start Date"}))}},{key:"starthandleChange",value:function(e){this.setState({startDate:e})}},{key:"renderendDate",value:function(){return s.a.createElement("div",null,s.a.createElement(y.a,{selected:this.state.endDate,onChange:this.endhandleChange,maxDate:new Date,dropdownMode:"select",dateFormat:"MMM/d/ yyyy",className:"form-control mb-3 formsize printing alignText112",placeholderText:"Search End Date"}))}},{key:"endhandleChange",value:function(e){this.setState({endDate:e})}},{key:"renderAllOrgs",value:function(e){if(e)return e.sort(function(e,t){return e.orgName-t.orgName}),e.map(function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{key:e._id,value:e.orgName},e.orgName))})}},{key:"findGroup",value:function(){var e=this;fetch("".concat(Bn).concat(this.state.orgName),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({groupData:t});var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TotalAccommodation)},0);e.setState({totalAcc:a})}),fetch("".concat(Bn).concat(this.state.orgName),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({groupBillData:t});var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TotalRoomService)},0);e.setState({totalDockets:a})}),fetch("".concat("https://zarvichdemo.localto.net/getfoodanddrinks?orgName=").concat(this.state.orgName),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({functionFandB:t});var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.amount)},0);e.setState({totalfuncttionFandB:a})}),fetch("".concat("https://zarvichdemo.localto.net/MainfunctionDep?orgName=").concat(this.state.orgName),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({groupPayments:t});var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({POSDeposit:a});var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({CashDeposit:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({TransferDeposit:s}),e.setState({CompDebit:0,roomDebit:0});var o=0+s+n+a;e.setState({TotalDeposits:o})})}},{key:"render",value:function(){var e=this;return console.log(">>> Inside Gstrender",this.state),null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement(et,null)):s.a.createElement("div",{className:"container"},s.a.createElement("div",null,s.a.createElement("img",{src:"https://i.ibb.co/pP1xN03/Orange-Groove2.png",className:"alignImg2",style:{width:"100px",height:"70px"},alt:"companylogo"})),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("h6",null,"Zarvich Hotels Ltd."),s.a.createElement("p",{className:"textSize"},"No ABC Road, Wuse II, Abuja, Nigeria"),s.a.createElement("p",{className:"textSize"},"+234 803 590 5421, info@zarvichosh.com"))),s.a.createElement("center",null,s.a.createElement("h5",null,this.state.orgName," Group Bill"),s.a.createElement("br",null),s.a.createElement("hr",{style:{color:"deeppink"}}),s.a.createElement("div",{className:"row mt-4"},s.a.createElement("div",{className:"col-3"},s.a.createElement("select",{type:"button",className:"form-select mb-2 btn btn-primary mt-3 col-2 set1 printing",name:"orgName",onChange:this.handleChange},s.a.createElement("option",{selected:!0,value:""},"Select Org"),this.renderAllOrgs(this.state.org))),s.a.createElement("div",{className:"col-3"},s.a.createElement("button",{className:"btn btn-primary printing set2",onClick:function(){return e.findGroup()}},"Find"))),s.a.createElement("hr",{style:{color:"deeppink"}}),s.a.createElement("br",null),s.a.createElement("br",null)),s.a.createElement("h6",{style:{color:"blue"}},"Accommodation Details"),s.a.createElement("hr",null),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust5"},"Names"),s.a.createElement("th",{className:"adjust5"},"Arrival Date"),s.a.createElement("th",{className:"adjust5"},"Departure Date"),s.a.createElement("th",{className:"adjust5"},"Room Num"),s.a.createElement("th",{className:"adjust5"},"Room Type"),s.a.createElement("th",{className:"adjust5"},"Daily Rate(NGN)"),s.a.createElement("th",{className:"adjust5"},"Stay"),s.a.createElement("th",{className:"adjust5"},"Total(NGN)"))),s.a.createElement("tbody",{className:"table table-hover"},this.renderRooms(this.state.groupData))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-3"},s.a.createElement("h6",null,"Accommodation Total: ",s.a.createElement(E.a,{value:this.state.totalAcc,thousandSeparator:!0,displayType:"text",prefix:"NGN"})))),s.a.createElement("hr",null),s.a.createElement("h6",{style:{color:"blue"}},"Room Service Details"),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust5"},"Date"),s.a.createElement("th",{className:"adjust5"},"Room Num"),s.a.createElement("th",{className:"adjust5"},"Names"),s.a.createElement("th",{className:"adjust5"},"Total(NGN)"))),s.a.createElement("tbody",{className:"table table-hover"},this.renderDockets(this.state.groupBillData),s.a.createElement("h6",null,"Room Service Total: ",s.a.createElement(E.a,{value:this.state.totalDockets,thousandSeparator:!0,displayType:"text",prefix:"NGN"})))),s.a.createElement("h6",{style:{color:"blue"}},"Banquet Bill"),s.a.createElement("hr",null),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust5"},"Date"),s.a.createElement("th",{className:"adjust5"},"ID"),s.a.createElement("th",{className:"adjust5"},"Description"),s.a.createElement("th",{className:"adjust5"},"Qty"),s.a.createElement("th",{className:"adjust5"},"Amount (NGN)"))),s.a.createElement("tbody",{className:"table table-hover"},this.renderFandB(this.state.functionFandB),s.a.createElement("h6",null,"Banquet Bill Total: ",s.a.createElement(E.a,{value:this.state.totalfuncttionFandB,thousandSeparator:!0,displayType:"text",prefix:"NGN"})))),s.a.createElement("h6",{style:{color:"blue"}},"Deposit Details"),s.a.createElement("hr",null),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust5"},"Date"),s.a.createElement("th",{className:"adjust5"},"Description"),s.a.createElement("th",{className:"adjust5"},"Receipt Num"),s.a.createElement("th",{className:"adjust5"},"POS(NGN)"),s.a.createElement("th",{className:"adjust5"},"Cash(NGN)"),s.a.createElement("th",{className:"adjust5"},"Transfer(NGN)"),s.a.createElement("th",{className:"adjust5"},"Total(NGN)"))),s.a.createElement("tbody",{className:"table table-hover"},this.renderDeposits(this.state.groupPayments),s.a.createElement("h6",null,"Total Deposits: ",s.a.createElement(E.a,{value:this.state.TotalDeposits,thousandSeparator:!0,displayType:"text",prefix:"NGN"})))),s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-2 increasewidth"},s.a.createElement("h6",null,"Total Deposit:"),s.a.createElement("p",null,s.a.createElement(E.a,{value:this.state.TotalDeposits,thousandSeparator:!0,displayType:"text",prefix:"NGN"}))),s.a.createElement("div",{className:"col-2 increasewidth"},s.a.createElement("h6",null,"Accommodation:"),s.a.createElement("p",null,s.a.createElement(E.a,{value:this.state.totalAcc,thousandSeparator:!0,displayType:"text",prefix:"NGN"}))),s.a.createElement("div",{className:"col-2 increasewidth"},s.a.createElement("h6",null,"Room Service:"),s.a.createElement("p",null,s.a.createElement(E.a,{value:this.state.totalDockets,thousandSeparator:!0,displayType:"text",prefix:"NGN"}))),s.a.createElement("div",{className:"col-2 increasewidth"},s.a.createElement("h6",null,"Banquet Bill:"),s.a.createElement("p",null,s.a.createElement(E.a,{value:this.state.totalfuncttionFandB,thousandSeparator:!0,displayType:"text",prefix:"NGN"}))),s.a.createElement("div",{className:"col-2 increasewidth"},s.a.createElement("h6",null,"Balance:"),s.a.createElement("p",null,s.a.createElement(E.a,{value:this.state.TotalDeposits-(this.state.totalAcc+this.state.totalDockets+this.state.totalfuncttionFandB),thousandSeparator:!0,displayType:"text",prefix:"NGN"}))),s.a.createElement("hr",null))),s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-danger printing",onClick:function(){return e.props.history.push("/EndOfDay")}},"Close"),s.a.createElement("button",{className:"btn btn-primary movebtn printing",onClick:function(){return window.print()}},"Print")))}},{key:"componentDidMount",value:function(){var e=this;console.log(">>> Inside GstDidMount",this.state),fetch("".concat("https://zarvichdemo.localto.net/org?grpName="),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({org:t})}),fetch("".concat("https://zarvichdemo.localto.net/billingUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({loginDetails:t})}),this.myTimer=setTimeout(function(){var t=e.state.loginDetails,a=e.state.name;t.some(function(e){return e.name===a})?e.setState({Blogin:!0}):e.setState({Blogin:!1})},1e3)}}]),a}(n.Component),Yn=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),n=t.call(this,e),console.log(">>>Inside GstConstructor",e),n.state={loginDetails:"",name:localStorage.getItem("userInfo"),login:"",Blogin:""},n}return Object(p.a)(a,[{key:"logout",value:function(){localStorage.removeItem("userInfo"),this.setState({login:!0})}},{key:"render",value:function(){var e=this;return console.log(">>> Inside logindetails",this.state),null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement(T,null)):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"background15b"},s.a.createElement("center",null,s.a.createElement("div",{className:"formdesign152"},s.a.createElement("h4",{className:"mb-3"},"Reception Reports"),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-primary btnwidth15 mb-3",onClick:function(){return e.props.history.push("./Occuppancy")}},"Occupancy Report"),s.a.createElement("button",{className:"btn btn-primary btnwidth15 mb-3",onClick:function(){return e.props.history.push("./HouseKeepingPrint")}},"HouseKeeping Print"),s.a.createElement("button",{className:"btn btn-primary btnwidth15 mb-3",onClick:function(){return e.props.history.push("./roomChangeReport")}},"Room Change Report"),s.a.createElement("button",{className:"btn btn-primary btnwidth15 mb-3",onMouseOver:function(){return sessionStorage.setItem("chkOutDate",k()(new Date).format("YYYY-DD-MMM"))},onClick:function(){return e.props.history.push("./DailyCheckIn")}},"Daily Check In"),s.a.createElement("button",{className:"btn btn-primary btnwidth15 mb-3",onMouseOver:function(){return sessionStorage.setItem("chkOutDate",k()(new Date).format("YYYY-DD-MMM"))},onClick:function(){return e.props.history.push("./checkOut")}},"Daily Check Out"),s.a.createElement("button",{className:"btn btn-primary btnwidth15 mb-3",onClick:function(){return e.props.history.push("./policeReport")}},"Police Report"),s.a.createElement("button",{className:"btn btn-danger btnwidth15 mb-3",onClick:function(){e.props.history.push("/roomchart")}},"Close"),s.a.createElement("button",{className:"btn btn-danger btnwidth15 mb-3",onClick:function(){return e.logout()}},"Log Out ",localStorage.getItem("userInfo").split(" ")[0])))))),s.a.createElement("div",{className:"pagebody3"},s.a.createElement("input",{hidden:!0})))}},{key:"componentDidMount",value:function(){var e=this;fetch("".concat("https://zarvichdemo.localto.net/fofUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({loginDetails:t})}),this.myTimer=setTimeout(function(){var t=e.state.loginDetails,a=e.state.name;t.some(function(e){return e.name===a})?e.setState({Blogin:!0}):e.setState({Blogin:!1})},1e3)}}]),a}(n.Component),Fn=Object(Ut.b)({format:Ht.default,parse:qt.default,startOfWeek:Lt.default,getDay:_t.default,locales:C.locales}),Un="https://zarvichdemo.localto.net/getHalls?hallType=",Hn="https://zarvichdemo.localto.net/paymentMethods",qn=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handlePayMethData=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value)),null!==n.state.rsvAmount&&fetch("".concat(Hn),{method:"GET"}).then(function(e){return e.json()}).then(function(e){n.setState({displayPaymentMethods:e})})},n.handleChange=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value))},n.handleroomData2=function(e){var t;n.setState((t={},Object(h.a)(t,e.target.name,e.target.value),Object(h.a)(t,"allDay",!0),t)),null!==n.state.orgName&&fetch("".concat(Un),{method:"GET"}).then(function(e){return e.json()}).then(function(e){n.setState({displayAllHalls:e})})},console.log(">>> inside ReservContructor",e),n.state={events:[],_id:Math.floor(1e4*Math.random()),fname:"",lname:"",allDay:"",start:"",end:"",Hall:"",title:"",phone:"",price:"",rsvAmount:"",displayAllHalls:"",othersedit:!1,printBTN:"Print",displayPaymentMethods:"",paymentMethod:"",date:new Date,loginDetails:"",description1:"Room Reservation",email:"None",name:localStorage.getItem("userInfo"),login:"",Blogin:""},n.starthandleChange=n.starthandleChange.bind(Object(f.a)(n)),n.endhandleChange=n.endhandleChange.bind(Object(f.a)(n)),n}return Object(p.a)(a,[{key:"logout",value:function(){localStorage.removeItem("userInfo"),this.setState({login:!0})}},{key:"onOpenOthrsModal",value:function(){this.setState({othersedit:!0})}},{key:"onCloseOthrspModal",value:function(){this.setState({othersedit:!1})}},{key:"sendtoprinterOthrs",value:function(){"Print"===this.state.printBTN?(window.print(),this.setState({printBTN:"Close"})):"Close"===this.state.printBTN&&(this.setState({othersedit:!1}),this.setState({printBTN:"Print"}),this.handleResvSubmit(),this.handleSubmit())}},{key:"renderPayMeth",value:function(e){if(e)return e.map(function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{key:e.method,value:e.method},e.method))})}},{key:"starthandleChange",value:function(e){this.setState({start:e});var t=this.state.room+" "+this.state.fname+" "+this.state.lname+" "+this.state.phone;this.setState({title:t})}},{key:"endhandleChange",value:function(e){this.setState({end:e})}},{key:"renderstartDate",value:function(){return s.a.createElement("div",null,s.a.createElement(y.a,{selected:this.state.start,onChange:this.starthandleChange,minDate:new Date,maxDate:Object(N.default)(new Date,31),dropdownMode:"select",dateFormat:"MMM/d/ yyyy",className:"form-control mb-3 formsize51",placeholderText:"Start Date"}))}},{key:"renderendDate",value:function(){return s.a.createElement("div",null,s.a.createElement(y.a,{selected:this.state.end,onChange:this.endhandleChange,minDate:Object(N.default)(this.state.start,1),maxDate:Object(N.default)(new Date,31),dropdownMode:"select",dateFormat:"MMM/d/ yyyy",className:"form-control mb-3 formsize51",placeholderText:"End Date"}))}},{key:"handleSubmit",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o,r,l,c;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"POS"!==this.state.paymentMethod){e.next=7;break}return t={docketNum:"BillSales"+Math.floor(1e4*Math.random()),date:k()("".concat(new Date)).format("MMM DD YYYY"),cost:"".concat(this.state.rsvAmount),POSAmount:"".concat(this.state.rsvAmount),CashAmount:0,TransferAmount:0,CompDebit:0,roomDebit:0,description:"".concat(this.state.description1),group:"".concat(this.state.group),groupEmail:"".concat(this.state.email),groupPhone:"".concat(this.state.phone),refID:"".concat(this.state._id),department:"Other Sales",paymentMethod:"".concat(this.state.paymentMethod),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=5,fetch("https://zarvichdemo.localto.net/otherSales",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)});case 5:a=e.sent,console.log("result1>  "+a);case 7:if("Cash"!==this.state.paymentMethod){e.next=13;break}return n={docketNum:"BillSales"+Math.floor(1e4*Math.random()),date:k()("".concat(new Date)).format("MMM DD YYYY"),cost:"".concat(this.state.rsvAmount),POSAmount:0,CashAmount:"".concat(this.state.rsvAmount),TransferAmount:0,CompDebit:0,roomDebit:0,description:"".concat(this.state.description1),group:"".concat(this.state.group),groupEmail:"".concat(this.state.email),groupPhone:"".concat(this.state.phone),refID:"".concat(this.state._id),department:"Other Sales",paymentMethod:"".concat(this.state.paymentMethod),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=11,fetch("https://zarvichdemo.localto.net/otherSales",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)});case 11:s=e.sent,console.log("result2>  "+s);case 13:if("Transfer"!==this.state.paymentMethod){e.next=19;break}return o={docketNum:"BillSales"+Math.floor(1e4*Math.random()),date:k()("".concat(new Date)).format("MMM DD YYYY"),cost:"".concat(this.state.rsvAmount),POSAmount:0,CashAmount:0,TransferAmount:"".concat(this.state.rsvAmount),CompDebit:0,roomDebit:0,description:"".concat(this.state.description1),group:"".concat(this.state.group),groupEmail:"".concat(this.state.email),groupPhone:"".concat(this.state.phone),refID:"".concat(this.state._id),department:"Other Sales",paymentMethod:"".concat(this.state.paymentMethod),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=17,fetch("https://zarvichdemo.localto.net/otherSales",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(o)});case 17:r=e.sent,console.log("result3>  "+r);case 19:if("Complimentary"!==this.state.paymentMethod){e.next=25;break}return l={docketNum:"BillSales"+Math.floor(1e4*Math.random()),date:k()("".concat(new Date)).format("MMM DD YYYY"),cost:"".concat(this.state.rsvAmount),POSAmount:0,CashAmount:0,TransferAmount:0,CompDebit:"".concat(this.state.rsvAmount),roomDebit:0,description:"".concat(this.state.description1),group:"".concat(this.state.group),groupEmail:"".concat(this.state.email),groupPhone:"".concat(this.state.phone),refID:"".concat(this.state._id),department:"Other Sales",paymentMethod:"".concat(this.state.paymentMethod),user:localStorage.getItem("userInfo"),shift:localStorage.getItem("shift")},e.next=23,fetch("https://zarvichdemo.localto.net/otherSales",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(l)});case 23:c=e.sent,console.log("result4>  "+c);case 25:this.setState({description1:""}),this.setState({displayPaymentMethods:""}),e.next=32;break;case 29:e.prev=29,e.t0=e.catch(0),console.log(e.t0);case 32:case"end":return e.stop()}},e,this,[[0,29]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleResvSubmit",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={_id:"".concat(this.state._id),resID:"".concat(this.state._id),fname:"".concat(this.state.fname),lname:"".concat(this.state.lname),allDay:"".concat(this.state.allDay),start:"".concat(this.state.start),end:"".concat(this.state.end),title:"".concat(this.state.title),phone:"".concat(this.state.phone),Hall:"".concat(this.state.Hall),rsvAmount:"".concat(this.state.rsvAmount),transactionDate:k()(this.state.date).format("MMM DD YYYY")},e.next=4,fetch("https://zarvichdemo.localto.net/functionPosts",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)});case 4:a=e.sent,console.log("result2>  "+a),alert("Reservation made for "+this.state.title),this.setState({fname:"",lname:"",allDay:"",start:"",end:"",title:"",Hall:"",phone:"",rsvAmount:"",displayAllHalls:"",_id:""}),fetch("".concat("https://zarvichdemo.localto.net/getHallReservation"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){n.setState({events:e}),n.myTimer=setTimeout(function(){n.setState({_id:Math.floor(1e4*Math.random())})},1e3)}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}},e,this,[[0,11]])}));return function(){return e.apply(this,arguments)}}()},{key:"renderHalls",value:function(e){if(e)return e.sort(function(e,t){return e.price-t.price}),e.map(function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{key:e._id,value:e.hallName},e.hallName))})}},{key:"render",value:function(){var e=this;return console.log(">>> Inside Rsvdetails",this.state),null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement(T,null)):s.a.createElement("div",{className:"background993"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-3"},s.a.createElement("h4",{style:{color:"silver",marginLeft:"50px",marginBottom:"-50px"}},"Hall Reservation ")),s.a.createElement("div",{className:"col-6"},s.a.createElement("h6",{style:{color:"purple",marginLeft:"480px",marginBottom:"-50px"}},"Welcome, ",localStorage.getItem("userInfo").split(" ")[0]," ")),s.a.createElement("div",{className:"col-3"},s.a.createElement("h6",{type:"button",style:{color:"yellow",marginLeft:"180",textAlign:"left",marginBottom:"-50px"},onClick:function(){return e.logout()}},"Logout "))),s.a.createElement("h4",{style:{color:"rgb(23, 23, 71)",marginLeft:"50px",marginBottom:"-40px"}}," "),s.a.createElement("div",{className:"formdesign510"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-3"},s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize51",name:"fname",require:!0,placeholder:"Firstname",value:this.state.fname,onChange:this.handleroomData2})),s.a.createElement("div",{className:"col-3"},s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize51",name:"lname",require:!0,placeholder:"Surname",value:this.state.lname,onChange:this.handleChange})),s.a.createElement("div",{className:"col-3"},s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize51",name:"phone",require:!0,placeholder:"Phone Num.",value:this.state.phone,onChange:this.handleChange})),s.a.createElement("div",{className:"col-3"},s.a.createElement("select",{className:"form-select  mb-3 formsize51",name:"Hall",onChange:this.handleChange},s.a.createElement("option",{defaultValue:""},"Select Hall"),this.renderHalls(this.state.displayAllHalls)))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-3"},s.a.createElement("label",null,this.renderstartDate(this.state.start))),s.a.createElement("div",{className:"col-3"},s.a.createElement("label",null,this.renderendDate(this.state.end))),s.a.createElement("div",{className:"col-3"},s.a.createElement("input",{type:"number",className:"form-control mb-3 formsize51",name:"rsvAmount",require:!0,placeholder:"Enter Amount",value:this.state.rsvAmount,onChange:this.handlePayMethData})),s.a.createElement("select",{type:"button",className:"form-select formsize3 mb-2 btn btn-primary mt-3 spaceleft",name:"paymentMethod",onChange:this.handleChange},s.a.createElement("option",{selected:!0,value:""},"Payment Method"),this.renderPayMeth(this.state.displayPaymentMethods))),s.a.createElement("div",null),s.a.createElement(v.a,{open:this.state.othersedit},s.a.createElement("div",{className:"backgroundRetRep"},s.a.createElement("center",null,s.a.createElement("h6",null,"Zarvich Hotels Ltd."),s.a.createElement("p",{className:"textSize"},"No ABC Road, Wuse II, Abuja, Nigeria"),s.a.createElement("p",{className:"textSize"},"+234 803 590 5421, info@zarvichosh.com"),s.a.createElement("h5",null,"General Receipt"),s.a.createElement("p",{className:"textSize"},"Date: ",this.state.date))),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust50"},"Description"),s.a.createElement("th",{className:"adjust50"},"Payment Method"),s.a.createElement("th",{className:"adjust50"},"Amount Paid(NGN)"))),s.a.createElement("tbody",{className:"table table-hover"},s.a.createElement("tr",null,s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet"},s.a.createElement("b",null,this.state.description1)),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet"},s.a.createElement("b",null,this.state.paymentMethod)),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.rsvAmount),thousandSeparator:!0,displayType:"text"})))))),s.a.createElement("div",{className:"printing"},s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-primary",style:{height:"40px"},onClick:function(){e.sendtoprinterOthrs()}},s.a.createElement("p",null,this.state.printBTN))))),s.a.createElement(Ut.a,{localizer:Fn,events:this.state.events,startAccessor:"start",endAccessor:"end",style:{height:500,margin:"50px"},selectable:!0,onSelectEvent:this.handleEventSelection})))}},{key:"componentDidMount",value:function(){var e=this;console.log(">>> Inside RsvDidMount",this.state),fetch("".concat("https://zarvichdemo.localto.net/getHallReservation"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({events:t})}),fetch("".concat("https://zarvichdemo.localto.net/fofUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({loginDetails:t})}),this.myTimer=setTimeout(function(){var t=e.state.loginDetails,a=e.state.name;t.some(function(e){return e.name===a})?e.setState({Blogin:!0}):e.setState({Blogin:!1})},1e3)}}]),a}(n.Component),Ln="https://zarvichdemo.localto.net/getHallReservation?resavtnID=",_n=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value))},n.handleroomData2=function(e){var t;n.setState((t={},Object(h.a)(t,e.target.name,e.target.value),Object(h.a)(t,"allDay",!0),t))},n.renderEvents=function(e){if(e)return e.sort(function(e,t){return new Date(e.start)-new Date(t.start)}),e.map(function(e){var t=k()(e.start).format("YYYY-DD-MMM"),a=k()(e.end).format("YYYY-DD-MMM");return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:e._id},s.a.createElement("td",{className:"table-light table-striped adjust2"},t),s.a.createElement("td",{className:"table-light table-striped adjust2"},a),s.a.createElement("td",{className:"table-light table-striped adjust2"},e.fname),s.a.createElement("td",{className:"table-light table-striped adjust2"},e.lname),s.a.createElement("td",{className:"table-light table-striped adjust2"},e.phone),s.a.createElement("td",{className:"table-light table-striped adjust2"},e.room),s.a.createElement("td",{className:"table-light table-striped adjust2"},e.rsvAmount),s.a.createElement("td",{className:"table-light table-stripedadjust10"},s.a.createElement("button",{className:"btn btn-primary textcolor",onMouseOver:function(){return sessionStorage.setItem("getHsID",e.resID)},onClick:function(){n.onOpenModaledit()}},"Edit")),s.a.createElement("td",{className:"table-light table-striped adjust10"},s.a.createElement("button",{className:"btn btn-primary textcolor",onMouseOver:function(){sessionStorage.setItem("getRoomNum",e.room),sessionStorage.setItem("getrsvAmount",e.rsvAmount),sessionStorage.setItem("getrsvCode",e.resID)},onClick:function(){n.onOpenModalcheckin()}},"Check in"))))})},console.log(">>> inside ERsvCobtructor",e),n.state={eventsedit:"",displayAllRoomNums:"",edit:!1,checkIn:!1,_id:"",resID:"",fname:"",lname:"",allDay:"",end:"",start:"",room:"",title:"",start2:"",end2:"",phone:"",rsvAmount:"",loginDetails:"",name:localStorage.getItem("userInfo"),login:"",Blogin:""},n.starthandleChange=n.starthandleChange.bind(Object(f.a)(n)),n.endhandleChange=n.endhandleChange.bind(Object(f.a)(n)),n}return Object(p.a)(a,[{key:"logout",value:function(){localStorage.removeItem("userInfo"),this.setState({login:!0})}},{key:"onOpenModaledit",value:function(){var e=this;this.setState({edit:!0}),fetch("".concat(Ln).concat(sessionStorage.getItem("getHsID")),{method:"GET"}).then(function(e){return e.json()}).then(function(t){t.map(function(t){var a=k()(t.start).format("YYYY-DD-MMM"),n=k()(t.end).format("YYYY-DD-MMM");return e.setState({_id:t._id,resID:t.resID,fname:t.fname,lname:t.lname,allDay:t.allDay,end:n,start:a,room:t.room,phone:t.phone}),"ok"})})}},{key:"onCloseModaledit",value:function(){var e=this;this.setState({edit:!1}),fetch("".concat(Ln),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({eventsedit:t})})}},{key:"onCloseModalcheckin",value:function(){this.setState({checkIn:!1})}},{key:"handleChange2",value:function(){if(""!==this.state.room||""!==this.state.fname){var e=this.state.room+" "+this.state.fname+" "+this.state.lname+" "+this.state.phone;this.setState({title:e})}if(""===this.state.start2&&""===this.state.end2){var t=new Date(this.state.start),a=new Date(this.state.end);this.setState({start2:t,end2:a})}}},{key:"starthandleChange",value:function(e){this.setState({start2:e})}},{key:"endhandleChange",value:function(e){this.setState({end2:e})}},{key:"renderstartDate",value:function(){return s.a.createElement("div",null,s.a.createElement(y.a,{selected:this.state.start2,onChange:this.starthandleChange,minDate:new Date,maxDate:Object(N.default)(new Date,26),dropdownMode:"select",dateFormat:"MMM/d/ yyyy",className:"form-control mb-3 formsize53",placeholderText:"Edit Arrival"}))}},{key:"renderendDate",value:function(){return s.a.createElement("div",null,s.a.createElement(y.a,{selected:this.state.end2,onChange:this.endhandleChange,minDate:Object(N.default)(this.state.start2,1),maxDate:Object(N.default)(new Date,31),dropdownMode:"select",dateFormat:"MMM/d/ yyyy",className:"form-control mb-3 formsize53 moveagain",placeholderText:"Edit Departure"}))}},{key:"handleResvUpdate",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=sessionStorage.getItem("getRsID"),a={resID:"".concat(this.state.resID),fname:"".concat(this.state.fname),lname:"".concat(this.state.lname),allDay:"".concat(this.state.allDay),end:"".concat(this.state.end2),start:"".concat(this.state.start2),title:"".concat(this.state.title),phone:"".concat(this.state.phone),room:"".concat(this.state.room)},e.next=5,fetch("".concat("https://zarvichdemo.localto.net/Hallreservatn","/").concat(t),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(a)});case 5:n=e.sent,console.log("result>  "+n),alert("Reservation updated for Room "+this.state.title),this.setState({fname:"",_id:"",lname:"",allDay:!0,start:"",end:"",end2:"",start2:"",room:"",title:"",phone:"",displayAllRoomNums:"",eventsedit:""}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}},e,this,[[0,11]])}));return function(){return e.apply(this,arguments)}}()},{key:"renderVacantRooms",value:function(e){if(e)return e.sort(function(e,t){return e.roomNumbers-t.roomNumbers}),e.map(function(e,t){return"green"===e.roomStatus?s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{key:t,value:e.roomNumbers},e.roomNumbers," - ",e.roomtypeName)):s.a.createElement(s.a.Fragment,null)})}},{key:"render",value:function(){var e=this;return console.log(">>> Inside ERsvdetails",this.state),null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement(T,null)):s.a.createElement("div",{className:"background993"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-3"},s.a.createElement("h4",{style:{color:"silver",marginLeft:"50px",marginBottom:"-50px"}},"Hotel Reservation ")),s.a.createElement("div",{className:"col-6"},s.a.createElement("h6",{style:{color:"purple",marginLeft:"480px",marginBottom:"-50px"}},"Welcome, ",localStorage.getItem("userInfo").split(" ")[0]," ")),s.a.createElement("div",{className:"col-3"},s.a.createElement("h6",{type:"button",style:{color:"yellow",marginLeft:"180",textAlign:"left",marginBottom:"-50px"},onClick:function(){return e.logout()}},"Logout "))),s.a.createElement("h4",{style:{color:"rgb(23, 23, 71)",marginLeft:"50px",marginBottom:"-40px"}}," "),s.a.createElement("div",{className:"formdesign510"},s.a.createElement("div",null,s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust5"},"Arrival Date"),s.a.createElement("th",{className:"adjust5"},"Departure Date"),s.a.createElement("th",{className:"adjust5"},"Firstname"),s.a.createElement("th",{className:"adjust5"},"Surname"),s.a.createElement("th",{className:"adjust5"},"Phone Num"),s.a.createElement("th",{className:"adjust5"},"Room Num"),s.a.createElement("th",{className:"adjust5"},"Amount"),s.a.createElement("th",{className:"adjust5"},"Edit"),s.a.createElement("th",{className:"adjust5"},"Check in"))),s.a.createElement("tbody",{className:"table table-hover"},this.renderEvents(this.state.eventsedit))))),s.a.createElement("br",null),s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-danger",onClick:function(){sessionStorage.removeItem("getrsvAmount"),e.props.history.push("/Reservation")}},"Close")),s.a.createElement(v.a,{open:this.state.edit,onClose:function(){return e.onCloseModaledit()}},s.a.createElement("div",{className:"background591"},s.a.createElement("h4",{style:{color:"silver",marginLeft:"50px",marginBottom:"-70px"}},"Edit Reservation"),s.a.createElement("div",{className:"formdesign511"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-3"},s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize53",name:"fname",value:this.state.fname,onChange:this.handleroomData2})),s.a.createElement("div",{className:"col-3"},s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize53",name:"lname",value:this.state.lname,onChange:this.handleChange})),s.a.createElement("div",{className:"col-3"},s.a.createElement("input",{type:"number",className:"form-control mb-3 formsize53",name:"phone",value:this.state.phone,onChange:this.handleChange})),s.a.createElement("div",{className:"col-3"},s.a.createElement("input",{type:"number",className:"form-control mb-3 formsize53",name:"rsvAmount",value:this.state.rsvAmount,onChange:this.handleChange})),s.a.createElement("select",{className:"form-select  mb-3 formsize53",name:"room",onChange:this.handleChange},s.a.createElement("option",{defaultValue:""},this.state.room),this.renderVacantRooms(this.state.displayAllRoomNums)),s.a.createElement("div",{className:"col-3"},s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize53 adjustText",name:"start",value:k()(this.state.start).format("YYYY-DD-MMM"),readOnly:!0})),s.a.createElement("div",{className:"col-3"},s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize53 adjustText",name:"end",value:k()(this.state.end).format("YYYY-DD-MMM"),readOnly:!0})),s.a.createElement("div",{className:"col-3"},s.a.createElement("label",null,this.renderstartDate(this.state.start2))),s.a.createElement("div",{className:"col-3"},s.a.createElement("label",null,this.renderendDate(this.state.end2))))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("center",null,s.a.createElement("span",null,s.a.createElement("button",{className:"btn btn-warning space2",onMouseOver:function(){return e.handleChange2()},onClick:function(){return e.handleResvUpdate()}},"Save"),s.a.createElement("button",{className:"btn btn-danger space3",onClick:function(){e.onCloseModaledit(),e.props.history.push("/EditReservation")}},"close"))),s.a.createElement("br",null))))}},{key:"componentDidMount",value:function(){var e=this;console.log(">>> Inside ERsvDidMount",this.state),fetch("".concat(Ln),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({eventsedit:t})}),this.myTimer=setInterval(function(){fetch("".concat(Ln),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({eventsedit:t})})},6e4),fetch("".concat("https://zarvichdemo.localto.net/fofUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({loginDetails:t})}),this.myTimer=setTimeout(function(){var t=e.state.loginDetails,a=e.state.name;t.some(function(e){return e.name===a})?e.setState({Blogin:!0}):e.setState({Blogin:!1})},1e3)}}]),a}(n.Component),Wn=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value))},console.log(">>> inside loginConstructor",e),n.state={login:!1,userInfo:"",userPassword:"",authPassword:"",selectUserName:"",shift:""},n}return Object(p.a)(a,[{key:"login",value:function(){var e=this;fetch("".concat("https://zarvichdemo.localto.net/storeUserInfo?storecode=").concat(this.state.userPassword),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({userInfo:t}),e.myTimer=setTimeout(function(){e.state.userInfo.length>0&&(e.setState({login:!1}),window.location.reload(),t.map(function(t){return localStorage.setItem("userInfo",t.name),localStorage.setItem("shift",e.state.shift),"ok"}))},1e3)})}},{key:"onCloseModallogin",value:function(){this.setState({login:!0})}},{key:"render",value:function(){var e=this;return console.log(">>> Inside logindetails",this.state),s.a.createElement(s.a.Fragment,null,s.a.createElement(v.a,{open:this.state.login,onClose:function(){return e.onCloseModallogin()},center:!0},s.a.createElement("div",null,s.a.createElement("div",{className:"formdesign152"},s.a.createElement("h6",{className:"mb-3"},"Login First"),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("input",{type:"password",autoComplete:"off",className:"form-control mb-3 formsize51",name:"userPassword",require:!0,placeholder:"Enter password",value:this.state.userPassword,onChange:this.handleChange}),s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize51",name:"shift",require:!0,placeholder:"Select Shift",value:this.state.shift,list:"shift",onChange:this.handleChange}),s.a.createElement("datalist",{id:"shift"},s.a.createElement("option",{value:"Morning Shift"}),s.a.createElement("option",{value:"Night Shift"}),s.a.createElement("option",{value:"All Day"})),s.a.createElement("button",{disabled:""===this.state.userPassword||""===this.state.shift,className:"btn btn-warning formsize91",onClick:function(){return e.login()}},"Login")))))))}},{key:"componentDidMount",value:function(){var e=this;console.log(">>> Inside loginDidMount",this.state),fetch("".concat("https://zarvichdemo.localto.net/storeUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({selectUserName:t,login:!0})})}}]),a}(n.Component),Qn=Object(Ut.b)({format:Ht.default,parse:qt.default,startOfWeek:Lt.default,getDay:_t.default,locales:C.locales}),Jn="https://zarvichdemo.localto.net/org",Vn=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value))},console.log(">>> inside RsvCobtructor",e),console.log(">>> inside ReservContructor",e),n.state={_id:Math.floor(1e4*Math.random()),orgName:"",findGroup:"",description:"",amount:"",qty:"",date:new Date,events:[],displayAllHalls:"",loginDetails:"",name:localStorage.getItem("userInfo"),login:"",Blogin:""},n}return Object(p.a)(a,[{key:"logout",value:function(){localStorage.removeItem("userInfo"),this.setState({login:!0})}},{key:"handleResvSubmit",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={_id:"".concat(this.state._id),transactionDate:k()(this.state.date).format("MMM DD YYYY"),resID:"".concat(this.state._id),group:"".concat(this.state.orgName),description:"".concat(this.state.description),amount:"".concat(this.state.amount),qty:"".concat(this.state.qty)},e.next=4,fetch("https://zarvichdemo.localto.net/foodanddrinks",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)});case 4:a=e.sent,console.log("result2>  "+a),alert("Bill Posted for "+this.state.orgName),this.setState({orgName:"",description:"",amount:0,qty:"",findGroup:""}),this.myTimer=setTimeout(function(){n.setState({_id:Math.floor(1e4*Math.random())}),fetch("".concat(Jn),{method:"GET"}).then(function(e){return e.json()}).then(function(e){n.setState({findGroup:e})})},1e3),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}},e,this,[[0,11]])}));return function(){return e.apply(this,arguments)}}()},{key:"renderGroup",value:function(e){if(e)return e.sort(function(e,t){return e.orgName-t.orgName}),e.map(function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{key:e._id,value:e.orgName},e.orgName))})}},{key:"renderHalls",value:function(e){if(e)return e.sort(function(e,t){return e.price-t.price}),e.map(function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{key:e._id,value:e.hallName},e.hallName))})}},{key:"render",value:function(){var e=this;return console.log(">>> Inside Rsvdetails",this.state),null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement(Wn,null)):s.a.createElement("div",{className:"background993b"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-3"},s.a.createElement("h4",{style:{color:"silver",marginLeft:"50px",marginBottom:"-50px"}},"Function Management ")),s.a.createElement("div",{className:"col-6"},s.a.createElement("h6",{style:{color:"purple",marginLeft:"480px",marginBottom:"-50px"}},"Welcome, ",localStorage.getItem("userInfo").split(" ")[0]," ")),s.a.createElement("div",{className:"col-3"},s.a.createElement("h6",{type:"button",style:{color:"yellow",marginLeft:"180",textAlign:"left",marginBottom:"-50px"},onClick:function(){return e.logout()}},"Logout "))),s.a.createElement("h4",{style:{color:"rgb(23, 23, 71)",marginLeft:"50px",marginBottom:"-40px"}}," "),s.a.createElement("div",{className:"formdesign510"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-3"},s.a.createElement("select",{type:"button",className:"form-control mb-3 formsize51",name:"orgName",onChange:this.handleChange},s.a.createElement("option",{defaultValue:""},"Select Org"),this.renderGroup(this.state.findGroup))),s.a.createElement("div",{className:"col-3"},s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize51",name:"description",require:!0,placeholder:"Description",value:this.state.description,list:"description",onChange:this.handleChange}),s.a.createElement("datalist",{id:"description"},s.a.createElement("option",{value:"Breakfast"}),s.a.createElement("option",{value:"Tea Break"}),s.a.createElement("option",{value:"Lunch"}),s.a.createElement("option",{value:"Dinner"}),this.renderHalls(this.state.displayAllHalls))),s.a.createElement("div",{className:"col-3"},s.a.createElement("input",{type:"number",className:"form-control mb-3 formsize51",name:"qty",require:!0,placeholder:"Qty",value:this.state.qty,onChange:this.handleChange})),s.a.createElement("div",{className:"col-3"},s.a.createElement("input",{type:"number",className:"form-control mb-3 formsize51",name:"amount",require:!0,placeholder:"Amount",value:this.state.amount,onChange:this.handleChange}))),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("span",null,s.a.createElement("button",{disabled:""===this.state.orgName||""===this.state.description||""===this.state.amount||""===this.state.qty,className:"btn btn-warning",onClick:function(){return e.handleResvSubmit()}},"Post"),s.a.createElement("button",{className:"btn btn-danger space",onClick:function(){return e.props.history.push("/FandBMenu")}},"Close")))),s.a.createElement("br",null),s.a.createElement("hr",{style:{color:"silver"}}),s.a.createElement(Ut.a,{localizer:Qn,events:this.state.events,startAccessor:"start",endAccessor:"end",style:{height:500,margin:"50px"},selectable:!0,onSelectEvent:this.handleEventSelection})))}},{key:"componentDidMount",value:function(){var e=this;console.log(">>> Inside RsvDidMount",this.state),fetch("".concat(Jn),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({findGroup:t})}),fetch("".concat("https://zarvichdemo.localto.net/getHallReservation"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({events:t})}),fetch("".concat("https://zarvichdemo.localto.net/getHalls?hallType="),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({displayAllHalls:t})}),fetch("".concat("https://zarvichdemo.localto.net/fandbUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({loginDetails:t})}),this.myTimer=setTimeout(function(){var t=e.state.loginDetails,a=e.state.name;t.some(function(e){return e.name===a})?e.setState({Blogin:!0}):e.setState({Blogin:!1})},1e3)}}]),a}(n.Component),Kn=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={loginDetails:"",name:localStorage.getItem("userInfo"),login:"",Blogin:""},n}return Object(p.a)(a,[{key:"logout",value:function(){localStorage.removeItem("userInfo"),this.setState({login:!0})}},{key:"render",value:function(){var e=this;return null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement(Wn,null)):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"background15k"},s.a.createElement("center",null,s.a.createElement("div",{className:"formdesign15k"},s.a.createElement("h4",{className:"mb-3"},"F and B Portal"),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-primary btnwidth15k mb-3",onClick:function(){e.props.history.push("./AddMenu")}},"Restaurant Menu Manager"),s.a.createElement("button",{className:"btn btn-warning btnwidth15k mb-3",onClick:function(){e.props.history.push("/Dashboard")}},"Goto Dashboard"),s.a.createElement("button",{className:"btn btn-danger btnwidth15 mb-3",onClick:function(){return e.logout()}},"Log Out ",localStorage.getItem("userInfo").split(" ")[0])))))))}},{key:"componentDidMount",value:function(){var e=this;fetch("".concat("https://zarvichdemo.localto.net/fandbUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({loginDetails:t})}),this.myTimer=setTimeout(function(){var t=e.state.loginDetails,a=e.state.name;t.some(function(e){return e.name===a})?e.setState({Blogin:!0}):e.setState({Blogin:!1})},1e3)}}]),a}(n.Component),Xn="https://zarvichdemo.localto.net/menuCategories?findID=",Zn="https://zarvichdemo.localto.net/menuitems?mealtypes=",$n=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).renderMenu=function(e){if(e)return e.map(function(t){return e.sort(function(e,t){return e.mealType-t.mealType}),s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{key:t._id,value:t.mealType},t.mealType))})},n.handleChange=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value))},n.handleChange1=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value)),fetch("".concat(Xn).concat(e.target.value),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return n.setState({mealTypeID:e.mealTypeID}),fetch("".concat(Zn).concat(e.mealTypeID),{method:"GET"}).then(function(e){return e.json()}).then(function(e){n.setState({menuData:e})}),"ok"})})},n.handleChange5=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value));var t=n.state.menuData,a=e.target.value;t.some(function(e){return e.mealName===a})&&(alert("Product already registered"),n.setState({_id:0,MenuCategoryData:"",mealType:"",mealTypeID:"",mealName:"",menuData:"",mealPrice:"",category:""}),fetch("".concat(Xn),{method:"GET"}).then(function(e){return e.json()}).then(function(e){n.setState({MenuCategoryData:e})}),fetch("".concat(Zn),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){var t=parseInt(e._id),a=Math.max(t)+1;return n.setState({_id:a}),"ok"})}))},n.handleChange6=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value));var t=n.state.MenuCategoryData,a=e.target.value;t.some(function(e){return e.mealType===a})&&(alert("Product already registered"),n.setState({catmealTypeID:0,catmealType:""}),fetch("".concat(Xn),{method:"GET"}).then(function(e){return e.json()}).then(function(e){n.setState({MenuCategoryData:e}),e.map(function(e){var t=parseInt(e.mealTypeID),a=Math.max(t)+1;return n.setState({catmealTypeID:a}),"ok"})}))},console.log(">>> inside GrpCobtructor",e),n.state={_id:0,MenuCategoryData:"",mealType:"",mealTypeID:"",mealName:"",menuData:"",mealPrice:"",category:"",edit:!1,catmealTypeID:0,catmealType:"",loginDetails:"",name:localStorage.getItem("userInfo"),login:"",Blogin:""},n}return Object(p.a)(a,[{key:"onCloseModaledit",value:function(){this.setState({edit:!1})}},{key:"onOpenModaledit",value:function(){var e=this;this.setState({_id:0,MenuCategoryData:"",mealType:"",mealTypeID:"",mealName:"",menuData:"",mealPrice:"",category:"",edit:!0}),fetch("".concat(Xn),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({MenuCategoryData:t}),t.map(function(t){var a=parseInt(t.mealTypeID),n=Math.max(a)+1;return e.setState({catmealTypeID:n}),"ok"})})}},{key:"renderMenuData",value:function(e){var t=this;if(e)return e.map(function(a){return e.sort(function(e,t){return e.mealName-t.mealName}),s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:a._id},s.a.createElement("td",{className:"table-light table-striped adjust2"},a.mealType),s.a.createElement("td",{className:"table-light table-striped adjust2"},a.mealName),s.a.createElement("td",{className:"table-light table-striped adjust2"},s.a.createElement(E.a,{value:a.mealPrice,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust10"},s.a.createElement("button",{className:"btn btn-danger textcolor",onMouseOver:function(){return sessionStorage.setItem("getMenuID",a._id)},onClick:function(){return t.deleteNow()}},"Delete"))))})}},{key:"renderCatData",value:function(e){var t=this;if(e)return e.map(function(a){return e.sort(function(e,t){return e.mealType-t.mealType}),s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:a._id},s.a.createElement("td",{className:"table-light table-striped adjust2"},a.mealTypeID),s.a.createElement("td",{className:"table-light table-striped adjust2"},a.mealType),s.a.createElement("td",{className:"table-light table-striped adjust10"},s.a.createElement("button",{className:"btn btn-danger textcolor",onMouseOver:function(){return sessionStorage.setItem("getCatID",a.mealTypeID)},onClick:function(){return t.deleteCatNow()}},"Delete"))))})}},{key:"logout",value:function(){localStorage.removeItem("userInfo"),this.setState({login:!0})}},{key:"deleteNow",value:function(){var e=this;fetch("".concat("https://zarvichdemo.localto.net/restaurantMenus","/").concat(sessionStorage.getItem("getMenuID")),{method:"delete"}),alert("Item Deleted"),this.setState({_id:0,MenuCategoryData:"",mealType:"",mealTypeID:"",mealName:"",menuData:"",mealPrice:"",category:""}),this.myTimer=setTimeout(function(){fetch("".concat(Xn),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({MenuCategoryData:t})}),fetch("".concat(Zn),{method:"GET"}).then(function(e){return e.json()}).then(function(t){t.map(function(t){var a=parseInt(t._id),n=Math.max(a)+1;return e.setState({_id:n}),"ok"})})},1e3)}},{key:"deleteCatNow",value:function(){var e=this;fetch("".concat("https://zarvichdemo.localto.net/delCat","/").concat(sessionStorage.getItem("getCatID")),{method:"delete"}),alert("Category Deleted"),this.setState({catmealTypeID:0,catmealType:""}),fetch("".concat(Xn),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({MenuCategoryData:t}),t.map(function(t){var a=parseInt(t.mealTypeID),n=Math.max(a)+1;return e.setState({catmealTypeID:n}),"ok"})})}},{key:"handleSubmitNew",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=this.state.menuData,a=this.state.mealName,n={mealTypeID:parseInt("".concat(this.state.mealTypeID)),mealName:"".concat(this.state.mealName),mealPrice:"".concat(this.state.mealPrice),mealQt:1,mealType:"".concat(this.state.mealType),categoryID:parseInt("".concat(this.state.mealTypeID)),category:"".concat(this.state.category)},!t.some(function(e){return e.mealName===a})){e.next=11;break}alert("Product already registered"),this.setState({mealTypeID:"",mealName:"",mealType:"",MenuCategoryData:"",menuData:""}),fetch("".concat(Xn),{method:"GET"}).then(function(e){return e.json()}).then(function(e){o.setState({MenuCategoryData:e})}),fetch("".concat(Zn),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){var t=parseInt(e._id),a=Math.max(t)+1;return o.setState({_id:a}),"ok"})}),e.next=19;break;case 11:return e.next=13,fetch("".concat("https://zarvichdemo.localto.net/postRestMenu"),{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)});case 13:s=e.sent,console.log("result>  "+s),alert(this.state.mealName+" Added"),this.setState({mealTypeID:"",mealName:"",mealType:"",MenuCategoryData:"",menuData:""}),fetch("".concat(Xn),{method:"GET"}).then(function(e){return e.json()}).then(function(e){o.setState({MenuCategoryData:e})}),fetch("".concat(Zn),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){var t=parseInt(e._id),a=Math.max(t)+1;return o.setState({_id:a}),"ok"})});case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(0),console.log(e.t0);case 24:case"end":return e.stop()}},e,this,[[0,21]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleSubmitCat",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=this.state.MenuCategoryData,a=this.state.catmealType,n={mealTypeID:parseInt("".concat(this.state.catmealTypeID)),mealType:"".concat(this.state.catmealType)},!t.some(function(e){return e.mealType===a})){e.next=10;break}alert("Product already registered"),this.setState({catmealTypeID:0,catmealType:""}),fetch("".concat(Xn),{method:"GET"}).then(function(e){return e.json()}).then(function(e){o.setState({MenuCategoryData:e}),e.map(function(e){var t=parseInt(e.mealTypeID),a=Math.max(t)+1;return o.setState({catmealTypeID:a}),"ok"})}),e.next=17;break;case 10:return e.next=12,fetch("".concat("https://zarvichdemo.localto.net/postCategory"),{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)});case 12:s=e.sent,console.log("result>  "+s),alert(this.state.catmealType+" Added"),this.setState({catmealType:"",catmealTypeID:0,MenuCategoryData:"",menuData:""}),fetch("".concat(Xn),{method:"GET"}).then(function(e){return e.json()}).then(function(e){o.setState({MenuCategoryData:e}),fetch("".concat(Xn),{method:"GET"}).then(function(e){return e.json()}).then(function(e){o.setState({MenuCategoryData:e}),e.map(function(e){var t=parseInt(e.mealTypeID),a=Math.max(t)+1;return o.setState({catmealTypeID:a}),"ok"})})});case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),console.log(e.t0);case 22:case"end":return e.stop()}},e,this,[[0,19]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return console.log(">>> Inside Grpdetails",this.state),null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement(Wn,null)):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"background990i2Menu"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-3"},s.a.createElement("h4",{style:{color:"silver",marginLeft:"50px",marginBottom:"-50px"}},"Restaurant Menu")),s.a.createElement("div",{className:"col-6"},s.a.createElement("h6",{style:{color:"purple",marginLeft:"480px",marginBottom:"-50px"}},"Welcome, ",localStorage.getItem("userInfo").split(" ")[0]," ")),s.a.createElement("div",{className:"col-3"},s.a.createElement("h6",{type:"button",style:{color:"yellow",marginLeft:"180",textAlign:"left",marginBottom:"-50px"},onClick:function(){return e.logout()}},"Logout "))),s.a.createElement("h4",{style:{color:"rgb(23, 23, 71)",marginLeft:"50px",marginBottom:"-40px"}}," "),s.a.createElement("div",{className:"formdesign510b"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-3"},s.a.createElement("select",{className:"form-select  mb-3 formsize51",name:"mealType",onChange:this.handleChange1},s.a.createElement("option",{defaultValue:""},"Select Category"),this.renderMenu(this.state.MenuCategoryData))),s.a.createElement("div",{className:"col-3"},s.a.createElement("p",{type:"text",className:"form-control mb-3 formsize51 ikem"},this.state.mealTypeID)),s.a.createElement("div",{className:"col-3"},s.a.createElement("input",{type:"text",disabled:""===this.state.mealType,className:"form-control mb-3 formsize51",name:"mealName",require:!0,placeholder:"Enter Name",value:this.state.mealName,onChange:this.handleChange5})),s.a.createElement("div",{className:"col-3"},s.a.createElement("input",{type:"number",disabled:""===this.state.mealName,className:"form-control mb-3 formsize51",name:"mealPrice",require:!0,placeholder:"Enter Selling Price",value:this.state.mealPrice,onChange:this.handleChange}))),s.a.createElement("center",null,s.a.createElement("br",null),s.a.createElement("span",null,s.a.createElement("button",{disabled:""===this.state.mealType||""===this.state.mealName||""===this.state.mealTypeID||""===this.state.mealPrice,className:"btn btn-warning",onClick:function(){return e.handleSubmitNew()}},"Add New"),s.a.createElement("button",{className:"btn btn-primary gap",onClick:function(){return e.onOpenModaledit()}},"Add New Category"),s.a.createElement("button",{className:"btn btn-danger gap",onClick:function(){return e.props.history.push("/FandBMenu")}},"Close")))),s.a.createElement("br",null),s.a.createElement("div",{className:"container"},s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust5"},"Meal Type"),s.a.createElement("th",{className:"adjust5"},"Meal Name"),s.a.createElement("th",{className:"adjust5"},"Meal Price"),s.a.createElement("th",{className:"adjust5"},"Action"))),s.a.createElement("tbody",{className:"table table-hover"},this.renderMenuData(this.state.menuData))),s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-danger gap mb-3",onClick:function(){return e.props.history.push("/FandBMenu")}},"Close"))))),s.a.createElement(v.a,{open:this.state.edit,onClose:function(){return e.onCloseModaledit()}},s.a.createElement("div",{className:"background990i2b5"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-6"},s.a.createElement("h6",{style:{color:"silver",marginLeft:"50px",marginBottom:"-50px"}},"Add New Category"))),s.a.createElement("h4",{style:{color:"rgb(23, 23, 71)",marginLeft:"50px",marginBottom:"-40px"}}," "),s.a.createElement("center",null,s.a.createElement("div",{className:"formdesign510b21Cat"},s.a.createElement("center",null,s.a.createElement("div",{className:"row container"},s.a.createElement("div",{className:"col-6"},s.a.createElement("p",{type:"text",className:"form-control mb-3 formsize51",name:"catmealTypeID"},this.state.catmealTypeID," ")),s.a.createElement("div",{className:"col-6"},s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize51",name:"catmealType",require:!0,placeholder:"Enter Meal Category",value:this.state.catmealType,onChange:this.handleChange6})),s.a.createElement("center",null,s.a.createElement("br",null),s.a.createElement("span",null,s.a.createElement("button",{disabled:0===this.state.catmealTypeID||""===this.state.catmealType,className:"btn btn-warning",onClick:function(){return e.handleSubmitCat()}},"Add Meal Category"),s.a.createElement("button",{className:"btn btn-danger gap",onClick:function(){return e.onCloseModaledit()}},"Close"))))),s.a.createElement("br",null),s.a.createElement("div",{className:"container"},s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust5"},"Category ID"),s.a.createElement("th",{className:"adjust5"},"Category Name"),s.a.createElement("th",{className:"adjust5"},"Action"),s.a.createElement("th",{className:"adjust5"}," "))),s.a.createElement("tbody",{className:"table table-hover"},this.renderCatData(this.state.MenuCategoryData))),s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-danger gap mb-3",onClick:function(){return e.onCloseModaledit()}},"Close"))))))))}},{key:"componentDidMount",value:function(){var e=this;console.log(">>> Inside GrpDidMount",this.state),fetch("".concat(Xn),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({MenuCategoryData:t})}),fetch("".concat(Zn),{method:"GET"}).then(function(e){return e.json()}).then(function(t){t.map(function(t){var a=parseInt(t._id),n=Math.max(a)+1;return e.setState({_id:n}),"ok"})}),fetch("".concat("https://zarvichdemo.localto.net/fandbUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({loginDetails:t})}),this.myTimer=setTimeout(function(){var t=e.state.loginDetails,a=e.state.name;t.some(function(e){return e.name===a})?e.setState({Blogin:!0}):e.setState({Blogin:!1})},1e3)}}]),a}(n.Component),es=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value))},n.renderDockets=function(e){if(e)return e.map(function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:e.refID},s.a.createElement("td",{className:"table-light table-striped adjust2"},e.date),s.a.createElement("td",{className:"table-light table-striped adjust2"},e.roomNumbers),s.a.createElement("td",{className:"table-light table-striped adjust2"},e.docketNum),s.a.createElement("td",{className:"table-light table-striped adjust2"},e.description),s.a.createElement("td",{className:"table-light table-striped adjust2"},s.a.createElement(E.a,{value:e.cost,thousandSeparator:!0,displayType:"text"}))))})},n.renderFandB=function(e){if(e)return e.map(function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:e.resID},s.a.createElement("td",{className:"table-light table-striped adjust2"},e.transactionDate),s.a.createElement("td",{className:"table-light table-striped adjust2"},e.resID),s.a.createElement("td",{className:"table-light table-striped adjust2"},e.description),s.a.createElement("td",{className:"table-light table-striped adjust2"},e.qty),s.a.createElement("td",{className:"table-light table-striped adjust2"},s.a.createElement(E.a,{value:e.amount,thousandSeparator:!0,displayType:"text"}))))})},console.log(">>>Inside GstConstructor",e),n.state={groupBillData:"",functionFandB:"",totalfuncttionFandB:"",org:"",orgName:"",startDate:"",endDate:"",departureDate:"",totalDockets:"",loginDetails:"",name:localStorage.getItem("userInfo"),login:"",Blogin:""},n.starthandleChange=n.starthandleChange.bind(Object(f.a)(n)),n.endhandleChange=n.endhandleChange.bind(Object(f.a)(n)),n}return Object(p.a)(a,[{key:"renderstartDate",value:function(){return s.a.createElement("div",null,s.a.createElement(y.a,{selected:this.state.startDate,onChange:this.starthandleChange,maxDate:new Date,dropdownMode:"select",dateFormat:"MMM/d/ yyyy",className:"form-control mb-3 formsize printing alignText112",placeholderText:"Search Start Date"}))}},{key:"starthandleChange",value:function(e){this.setState({startDate:e})}},{key:"renderendDate",value:function(){return s.a.createElement("div",null,s.a.createElement(y.a,{selected:this.state.endDate,onChange:this.endhandleChange,maxDate:new Date,dropdownMode:"select",dateFormat:"MMM/d/ yyyy",className:"form-control mb-3 formsize printing alignText112",placeholderText:"Search End Date"}))}},{key:"endhandleChange",value:function(e){this.setState({endDate:e})}},{key:"renderAllOrgs",value:function(e){if(e)return e.sort(function(e,t){return e.orgName-t.orgName}),e.map(function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{key:e._id,value:e.orgName},e.orgName))})}},{key:"findGroup",value:function(){var e=this,t=k()(this.state.startDate).format("MMM DD YYYY"),a=k()(this.state.endDate).format("MMM DD YYYY"),n="".concat("https://zarvichdemo.localto.net/posting","?orgName=").concat(this.state.orgName,"&&startDate=").concat(t,"&&endDate=").concat(a),s="".concat("https://zarvichdemo.localto.net/getfoodanddrinks","?orgName=").concat(this.state.orgName,"&&startDate=").concat(t,"&&endDate=").concat(a);fetch("".concat(n),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({groupBillData:t});var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.cost)},0);e.setState({totalDockets:a})}),fetch("".concat(s),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({functionFandB:t});var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.amount)},0);e.setState({totalfuncttionFandB:a})})}},{key:"render",value:function(){var e=this;return console.log(">>> Inside Gstrender",this.state),null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement(T,null)):s.a.createElement("div",{className:"container"},s.a.createElement("div",null,s.a.createElement("img",{src:"https://i.ibb.co/pP1xN03/Orange-Groove2.png",className:"alignImg2",style:{width:"100px",height:"70px"},alt:"companylogo"})),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("h6",null,"Zarvich Hotels Ltd."),s.a.createElement("p",{className:"textSize"},"No ABC Road, Wuse II, Abuja, Nigeria"),s.a.createElement("p",{className:"textSize"},"+234 803 590 5421, info@zarvichosh.com"))),s.a.createElement("center",null,s.a.createElement("h5",null,this.state.orgName," Function F&B Report"),s.a.createElement("br",null),s.a.createElement("hr",{style:{color:"deeppink"}}),s.a.createElement("div",{className:"row mt-4"},s.a.createElement("div",{className:"col-3"},s.a.createElement("select",{type:"button",className:"form-select mb-2 btn btn-primary mt-3 col-2 set1 printing",name:"orgName",onChange:this.handleChange},s.a.createElement("option",{selected:!0,value:""},"Select Org"),this.renderAllOrgs(this.state.org))),s.a.createElement("div",{className:"col-3"},s.a.createElement("label",null,this.renderstartDate(this.state.startDate))),s.a.createElement("div",{className:"col-3"},s.a.createElement("label",null,this.renderendDate(this.state.endDate))),s.a.createElement("div",{className:"col-3"},s.a.createElement("button",{className:"btn btn-primary printing set2",onClick:function(){return e.findGroup()}},"Find"))),s.a.createElement("hr",{style:{color:"deeppink"}}),s.a.createElement("br",null),s.a.createElement("br",null)),s.a.createElement("h6",null,"Room Service Details"),s.a.createElement("hr",null),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust5"},"Date"),s.a.createElement("th",{className:"adjust5"},"Room Num"),s.a.createElement("th",{className:"adjust5"},"Docket Num"),s.a.createElement("th",{className:"adjust5"},"Description"),s.a.createElement("th",{className:"adjust5"},"Amount (NGN)"))),s.a.createElement("tbody",{className:"table table-hover"},this.renderDockets(this.state.groupBillData),s.a.createElement("h6",null,"Room Service Total: ",s.a.createElement(E.a,{value:this.state.totalDockets,thousandSeparator:!0,displayType:"text",prefix:"NGN"})))),s.a.createElement("h6",null,"Banquet Details"),s.a.createElement("hr",null),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust5"},"Date"),s.a.createElement("th",{className:"adjust5"},"ID"),s.a.createElement("th",{className:"adjust5"},"Description"),s.a.createElement("th",{className:"adjust5"},"Qty"),s.a.createElement("th",{className:"adjust5"},"Amount (NGN)"))),s.a.createElement("tbody",{className:"table table-hover"},this.renderFandB(this.state.functionFandB),s.a.createElement("h6",null,"Banquet Details Total: ",s.a.createElement(E.a,{value:this.state.totalfuncttionFandB,thousandSeparator:!0,displayType:"text",prefix:"NGN"})))),s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-4"},s.a.createElement("h6",null,"Room Service:"),s.a.createElement("p",null,s.a.createElement(E.a,{value:this.state.totalDockets,thousandSeparator:!0,displayType:"text",prefix:"NGN"}))),s.a.createElement("div",{className:"col-4"},s.a.createElement("h6",null,"Banquet Bill:"),s.a.createElement("p",null,s.a.createElement(E.a,{value:this.state.totalfuncttionFandB,thousandSeparator:!0,displayType:"text",prefix:"NGN"}))),s.a.createElement("div",{className:"col-4"},s.a.createElement("h6",null,"Total:"),s.a.createElement("h6",null,s.a.createElement(E.a,{value:this.state.totalDockets+this.state.totalfuncttionFandB,thousandSeparator:!0,displayType:"text",prefix:"NGN"}))),s.a.createElement("hr",null))),s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-danger printing",onClick:function(){return e.props.history.push("/FandBMenu")}},"Close"),s.a.createElement("button",{className:"btn btn-primary movebtn printing",onClick:function(){return window.print()}},"Print")))}},{key:"componentDidMount",value:function(){var e=this;console.log(">>> Inside GstDidMount",this.state),fetch("".concat("https://zarvichdemo.localto.net/org?grpName="),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({org:t})}),fetch("".concat("https://zarvichdemo.localto.net/fofUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({loginDetails:t})}),this.myTimer=setTimeout(function(){var t=e.state.loginDetails,a=e.state.name;t.some(function(e){return e.name===a})?e.setState({Blogin:!0}):e.setState({Blogin:!1})},1e3)}}]),a}(n.Component),ts=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value))},n.renderRooms=function(e){if(e)return e.sort(function(e,t){return e.arrivalDate-t.arrivalDate}),e.map(function(e){var t=new Date,a=k()(t),n=k()(e.arrivalDate),o=a.diff(n),r=Math.ceil(o/864e5),l=k()(e.arrivalDate).format("MMM DD YYYY");return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:e.refID},s.a.createElement("td",{className:"table-light table-striped adjust2"},e.fname," ",e.lname),s.a.createElement("td",{className:"table-light table-striped adjust2"},l),s.a.createElement("td",{className:"table-light table-striped adjust2"},e.roomNumbers),s.a.createElement("td",{className:"table-light table-striped adjust2"},e.roomtypeName),s.a.createElement("td",{className:"table-light table-striped adjust2"},e.discounType),s.a.createElement("td",{className:"table-light table-striped adjust2"},s.a.createElement(E.a,{value:e.discountAmount,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2"},s.a.createElement(E.a,{value:e.dailyRate,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2"},r," Nights"),s.a.createElement("td",{className:"table-light table-striped adjust2"},s.a.createElement(E.a,{value:r*e.dailyRate,thousandSeparator:!0,displayType:"text"}))))})},console.log(">>>Inside GstConstructor",e),n.state={groupData:"",org:"",orgName:"",startDate:"",endDate:"",departureDate:"",totalAcc:0,loginDetails:"",name:localStorage.getItem("userInfo"),login:"",Blogin:""},n.starthandleChange=n.starthandleChange.bind(Object(f.a)(n)),n.endhandleChange=n.endhandleChange.bind(Object(f.a)(n)),n}return Object(p.a)(a,[{key:"renderstartDate",value:function(){return s.a.createElement("div",null,s.a.createElement(y.a,{selected:this.state.startDate,onChange:this.starthandleChange,maxDate:new Date,dropdownMode:"select",dateFormat:"MMM/d/ yyyy",className:"form-control mb-3 formsize printing alignText112",placeholderText:"Search Start Date"}))}},{key:"starthandleChange",value:function(e){this.setState({startDate:e})}},{key:"renderendDate",value:function(){return s.a.createElement("div",null,s.a.createElement(y.a,{selected:this.state.endDate,onChange:this.endhandleChange,maxDate:new Date,dropdownMode:"select",dateFormat:"MMM/d/ yyyy",className:"form-control mb-3 formsize printing alignText112",placeholderText:"Search End Date"}))}},{key:"endhandleChange",value:function(e){this.setState({endDate:e})}},{key:"renderAllOrgs",value:function(e){if(e)return e.sort(function(e,t){return e.orgName-t.orgName}),e.map(function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{key:e._id,value:e.orgName},e.orgName))})}},{key:"cleanup",value:function(){this.setState({groupData:"",departureDate:"",totalAcc:0})}},{key:"findGroup",value:function(){var e=this,t=k()(this.state.startDate).format("MMM DD YYYY"),a=k()(this.state.endDate).format("MMM DD YYYY"),n="".concat("https://zarvichdemo.localto.net/groupCheckin","?orgName=").concat(this.state.orgName,"&&startDate=").concat(t,"&&endDate=").concat(a);fetch("".concat(n),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({groupData:t}),t.map(function(a){var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.calculatedstay)},0);return e.setState({totalAcc:n}),"ok"})})}},{key:"render",value:function(){var e=this;return console.log(">>> Inside Gstrender",this.state),null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement(T,null)):s.a.createElement("div",{className:"container"},s.a.createElement("div",null,s.a.createElement("img",{src:"zarvichlogo.png",className:"alignImg2",style:{width:"100px",height:"70px"},alt:"companylogo"})),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("h6",null,"Zarvich Hotels Ltd."),s.a.createElement("p",{className:"textSize"},"No ABC Road, Wuse II, Abuja, Nigeria"),s.a.createElement("p",{className:"textSize"},"+234 803 590 5421, info@zarvichosh.com"))),s.a.createElement("center",null,s.a.createElement("h5",null,this.state.orgName," Group Bill"),s.a.createElement("p",{className:"textSize"},"From ",k()(this.state.startDate).format("MMM DD YYYY")," to ",k()(this.state.endDate).format("MMM DD YYYY")),s.a.createElement("hr",{style:{color:"deeppink"}}),s.a.createElement("div",{className:"row mt-4"},s.a.createElement("div",{className:"col-3"},s.a.createElement("select",{type:"button",className:"form-select mb-2 btn btn-primary mt-3 col-2 set1 printing",name:"orgName",onChange:this.handleChange},s.a.createElement("option",{selected:!0,value:""},"Select Org"),this.renderAllOrgs(this.state.org))),s.a.createElement("div",{className:"col-3"},s.a.createElement("label",null,this.renderstartDate(this.state.startDate))),s.a.createElement("div",{className:"col-3"},s.a.createElement("label",null,this.renderendDate(this.state.endDate))),s.a.createElement("div",{className:"col-3"},s.a.createElement("button",{className:"btn btn-primary printing set2",onClick:function(){e.cleanup(),e.findGroup()}},"Find"))),s.a.createElement("hr",{style:{color:"deeppink"}}),s.a.createElement("br",null),s.a.createElement("br",null)),s.a.createElement("h6",null,"Accommodation Details"),s.a.createElement("hr",null),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust5"},"Names"),s.a.createElement("th",{className:"adjust5"},"Arrival Date"),s.a.createElement("th",{className:"adjust5"},"Room Num"),s.a.createElement("th",{className:"adjust5"},"Room Type"),s.a.createElement("th",{className:"adjust5"},"Discount Type"),s.a.createElement("th",{className:"adjust5"},"Discount Amount"),s.a.createElement("th",{className:"adjust5"},"Daily Rate(NGN)"),s.a.createElement("th",{className:"adjust5"},"Stay"),s.a.createElement("th",{className:"adjust5"},"Amount(NGN)"))),s.a.createElement("tbody",{className:"table table-hover"},this.renderRooms(this.state.groupData),s.a.createElement("h6",null,"Accommodation Total: ",s.a.createElement(E.a,{value:this.state.totalAcc,thousandSeparator:!0,displayType:"text",prefix:"NGN"})))),s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("div",{className:"row"})),s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-danger printing",onClick:function(){return e.props.history.push("/ReceptionMenu")}},"Close"),s.a.createElement("button",{className:"btn btn-primary movebtn printing",onClick:function(){return window.print()}},"Print")))}},{key:"componentDidMount",value:function(){var e=this;console.log(">>> Inside GstDidMount",this.state),fetch("".concat("https://zarvichdemo.localto.net/org?grpName="),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({org:t})}),fetch("".concat("https://zarvichdemo.localto.net/fofUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({loginDetails:t})}),this.myTimer=setTimeout(function(){var t=e.state.loginDetails,a=e.state.name;t.some(function(e){return e.name===a})?e.setState({Blogin:!0}):e.setState({Blogin:!1})},1e3)}}]),a}(n.Component),as=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value))},n.renderRoomSales=function(e){if(e)return e.map(function(t){e.sort(function(e,t){return e.date-t.date});var a=k()(t.date).format("MMM DD YYYY"),n=t.docketDetails;return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:t._id},s.a.createElement("td",{className:"table-light table-striped adjust222"},a),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet"},n.map(function(e){return e.meal})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:t.POSAmount,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:t.CashAmount,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:t.TransferAmount,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:t.CompDebit,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:t.roomDebit,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},t.roomNumbers),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(t.POSAmount)+parseInt(t.CashAmount)+parseInt(t.TransferAmount)-parseInt(t.CompDebit)+parseInt(t.roomDebit),thousandSeparator:!0,displayType:"text"})))))})},console.log(">>>Inside CashConstructor",e),n.state={RoomSales:"",RoomTotal:"",depPOS:"",depCash:"",depTransfer:"",depComp:"",TotalSales:"",date:"",deproom:"",loginDetails:"",name:localStorage.getItem("userInfo"),login:"",Blogin:"",shift:"",startdate:"",endDate:"",levyData:"",ServiceChrg:"",TourismLevy:"",VAT:"",Hotelname:"",Hoteladdress:"",Hotelphone:""},n.checkinhandleChange=n.checkinhandleChange.bind(Object(f.a)(n)),n.endhandleChange=n.endhandleChange.bind(Object(f.a)(n)),n}return Object(p.a)(a,[{key:"checkinhandleChange",value:function(e){this.setState({date:e,startdate:e})}},{key:"endhandleChange",value:function(e){this.setState({endDate:e})}},{key:"renderDate",value:function(){return s.a.createElement("div",null,s.a.createElement(y.a,{selected:this.state.date,onChange:this.checkinhandleChange,maxDate:Object(N.default)(new Date,0),dropdownMode:"select",dateFormat:"MMM/d/ yyyy",className:"form-control mb-3 formsize printing alignText112",placeholderText:"Select Start Date"}))}},{key:"renderendDate",value:function(){return s.a.createElement("div",null,s.a.createElement(y.a,{selected:this.state.endDate,onChange:this.endhandleChange,maxDate:new Date,dropdownMode:"select",dateFormat:"MMM/d/ yyyy",className:"form-control mb-3 formsize printing alignText112 mvrght",placeholderText:"Search End Date"}))}},{key:"logout",value:function(){localStorage.removeItem("userInfo"),this.setState({login:!0}),localStorage.removeItem("shift")}},{key:"cleanup",value:function(){this.setState({RoomSales:"",RoomTotal:"",depPOS:"",depCash:"",depTransfer:"",depComp:"",TotalSales:"",deproom:""})}},{key:"findRoomReport",value:function(){var e=this,t=k()(this.state.date).format("MMM DD YYYY"),a=k()(this.state.endDate).format("MMM DD YYYY"),n="".concat("https://zarvichdemo.localto.net/findbarsales?barDep44=Bar%20Sales","&&startdate44=").concat(t,"&&endDate44=").concat(a);this.setState({RoomSales:""}),fetch("".concat(n),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({RoomSales:t}),t.map(function(a){var n=0+parseInt(a.CashAmount)+parseInt(a.POSAmount)+parseInt(a.TransferAmount)+parseInt(a.CompDebit)+parseInt(a.roomDebit);e.setState({RoomTotal:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({depPOS:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({depCash:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({depTransfer:r});var l=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({depComp:l});var c=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);return e.setState({deproom:c}),"ok"})}),this.myTimer=setTimeout(function(){var t=0+e.state.RoomTotal;e.setState({TotalSales:t})},1e3)}},{key:"render",value:function(){var e=this;console.log(">>> Inside Cashdetails",this.state);var t=this.state.depPOS+this.state.depCash+this.state.depTransfer+this.state.depComp+this.state.deproom;return null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement(et,null)):s.a.createElement("div",{className:"container"},s.a.createElement("div",null,s.a.createElement("img",{src:"https://i.ibb.co/pP1xN03/Orange-Groove2.png",className:"alignImg2",style:{width:"100px",height:"70px"},alt:"companylogo"})),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("h6",null,this.state.Hotelname),s.a.createElement("p",{className:"textSize"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSize"},this.state.Hotelphone))),s.a.createElement("center",null,s.a.createElement("h5",null,"Daily Bar Sales Report"),s.a.createElement("br",null),s.a.createElement("div",null,s.a.createElement("span",null,s.a.createElement("label",null,this.renderDate(this.state.startdate))),s.a.createElement("span",null,s.a.createElement("label",null,this.renderendDate(this.state.endDate))),s.a.createElement("span",null,s.a.createElement("select",{type:"button",className:"form-select mb-2 btn btn-primary mt-3 btnwidthp printing space selectadjuster",name:"shift",value:this.state.shift,onChange:this.handleChange},s.a.createElement("option",{selected:!0,value:""},"Select Shift"),s.a.createElement("option",{value:"Morning Shift"},"Morning Shift"),s.a.createElement("option",{value:"Night Shift"},"Night Shift"),s.a.createElement("option",{value:"All Day"},"All Day"),s.a.createElement("option",{value:"All Shifts"},"All Shifts")),s.a.createElement("button",{className:"btn btn-primary space btnadjuster printing",onClick:function(){e.cleanup(),e.findRoomReport()}},"Find"))),s.a.createElement("br",null)),s.a.createElement("br",null),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust50"},"Date"),s.a.createElement("th",{className:"adjust50"},"Description"),s.a.createElement("th",{className:"adjust50"},"POS (NGN)"),s.a.createElement("th",{className:"adjust50"},"Cash(NGN)"),s.a.createElement("th",{className:"adjust50"},"Transfer(NGN)"),s.a.createElement("th",{className:"adjust50"},"Compl(NGN)"),s.a.createElement("th",{className:"adjust50"},"Room(NGN)"),s.a.createElement("th",{className:"adjust50"},"Rm Num"),s.a.createElement("th",{className:"adjust50"},"Total(NGN)"))),s.a.createElement("tbody",{className:"table table-hover"},this.renderRoomSales(this.state.RoomSales),s.a.createElement("tr",null,s.a.createElement("td",{className:"table-light table-striped adjust2"}," "),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet"},s.a.createElement("b",null,"Total Collection")),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.depPOS),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.depCash),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.depTransfer),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.depComp),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.deproom),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"}," "),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null," ",s.a.createElement(E.a,{value:t,thousandSeparator:!0,displayType:"text"})))))),s.a.createElement("h6",null,"Total Collection:         ",s.a.createElement(E.a,{value:t,thousandSeparator:!0,displayType:"text",prefix:"NGN"})),s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-danger movebtn printing",onClick:function(){return e.props.history.push("/EndOfDay")}},"Close"),s.a.createElement("button",{className:"btn btn-primary movebtn printing",onClick:function(){return window.print()}},"Print"),s.a.createElement("button",{className:"btn btn-primary movebtn printing",onClick:function(){e.props.history.push("/Dashboard")}},"Goto Dashboard")))}},{key:"componentDidMount",value:function(){var e=this;console.log(">>> Inside CashDidMount",this.state),fetch("".concat("https://zarvichdemo.localto.net/feesAndCharges"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({levyData:t})}),fetch("".concat("https://zarvichdemo.localto.net/billingUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({loginDetails:t})});var t=k()(new Date).format("MMM DD YYYY"),a=k()(new Date).format("MMM DD YYYY"),n="".concat("https://zarvichdemo.localto.net/findbarsales?barDep44=Bar%20Sales","&&startdate44=").concat(t,"&&endDate44=").concat(a);this.setState({RoomSales:""}),fetch("".concat(n),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({RoomSales:t}),t.map(function(a){var n=0+parseInt(a.CashAmount)+parseInt(a.POSAmount)+parseInt(a.TransferAmount)+parseInt(a.CompDebit)+parseInt(a.roomDebit);e.setState({RoomTotal:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({depPOS:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({depCash:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({depTransfer:r});var l=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({depComp:l});var c=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);return e.setState({deproom:c}),"ok"})}),this.myTimer=setTimeout(function(){var t=0+e.state.RoomTotal;e.setState({TotalSales:t})},1e3),fetch("".concat("https://zarvichdemo.localto.net/hoteladdress"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){t.map(function(t){return e.setState({Hotelname:t.HotelName,Hoteladdress:t.Address,Hotelphone:t.Phone}),"ok"})}),this.myTimer=setTimeout(function(){var t=e.state.loginDetails,a=e.state.name;t.some(function(e){return e.name===a})?e.setState({Blogin:!0}):e.setState({Blogin:!1})},1e3)}}]),a}(n.Component),ns="https://zarvichdemo.localto.net/issueDepts",ss=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value))},console.log(">>> inside GrpCobtructor",e),n.state={_id:Math.floor(1e4*Math.random()),deptData:"",departmentName:"",departmentID:"",deptIDs:"",loginDetails:"",name:localStorage.getItem("userInfo"),login:"",Blogin:""},n}return Object(p.a)(a,[{key:"logout",value:function(){localStorage.removeItem("userInfo"),this.setState({login:!0})}},{key:"deletedept",value:function(){var e=this;fetch("".concat("https://zarvichdemo.localto.net/deldepartment","/").concat(sessionStorage.getItem("getdeptdelID")),{method:"delete"}),alert("Department Deleted"),this.myTimer=setTimeout(function(){fetch("".concat(ns),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({deptData:t}),t.map(function(t){var a=parseInt(t.departmentID),n=Math.max(a)+1;return e.setState({departmentID:n}),"ok"})})},1e3)}},{key:"editDept",value:function(){var e=this;fetch("".concat("https://zarvichdemo.localto.net/issueDepts?deptID=").concat(sessionStorage.getItem("getdeptID")),{method:"GET"}).then(function(e){return e.json()}).then(function(t){t.map(function(t){return e.setState({departmentID:t.departmentID,departmentName:t.departmentName}),"ok"})})}},{key:"handleSubmit",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=this.state.deptData,a=this.state.departmentID,n={departmentID:"".concat(this.state.departmentID),departmentName:"".concat(this.state.departmentName),_id:"".concat(this.state._id)},!t.some(function(e){return e.departmentID===a})){e.next=10;break}alert(this.state.departmentName+" already exist"),fetch("".concat(ns),{method:"GET"}).then(function(e){return e.json()}).then(function(e){o.setState({deptData:e}),e.map(function(e){var t=parseInt(e.departmentID),a=Math.max(t)+1;return o.setState({departmentID:a,departmentName:""}),"ok"})}),this.myTimer=setTimeout(function(){o.setState({_id:Math.floor(1e4*Math.random())})},1e3),e.next=18;break;case 10:return e.next=12,fetch("".concat("https://zarvichdemo.localto.net/newDept"),{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)});case 12:s=e.sent,console.log("result>  "+s),alert(this.state.departmentName+" Added"),this.setState({departmentName:"",deptIDs:"",departmentID:"",_id:""}),fetch("".concat(ns),{method:"GET"}).then(function(e){return e.json()}).then(function(e){o.setState({deptData:e}),e.map(function(e){var t=parseInt(e.departmentID),a=Math.max(t)+1;return o.setState({departmentID:a}),"ok"})}),this.myTimer=setTimeout(function(){o.setState({_id:Math.floor(1e4*Math.random())})},1e3);case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),console.log(e.t0);case 23:case"end":return e.stop()}},e,this,[[0,20]])}));return function(){return e.apply(this,arguments)}}()},{key:"deptUpdate",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=sessionStorage.getItem("getdeptID"),a={departmentName:"".concat(this.state.departmentName),_id:"".concat(this.state._id)},e.next=5,fetch("".concat("https://zarvichdemo.localto.net/editdept","/").concat(t),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(a)});case 5:n=e.sent,console.log("result>  "+n),alert(this.state.departmentName+" updated"),this.setState({departmentName:"",deptIDs:"",departmentID:"",_id:""}),fetch("".concat(ns),{method:"GET"}).then(function(e){return e.json()}).then(function(e){s.setState({deptData:e}),e.map(function(e){var t=parseInt(e.departmentID),a=Math.max(t)+1;return s.setState({departmentID:a}),"ok"})}),this.myTimer=setTimeout(function(){s.setState({_id:Math.floor(1e4*Math.random())})},1e3),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}},e,this,[[0,13]])}));return function(){return e.apply(this,arguments)}}()},{key:"renderdeptData",value:function(e){var t=this;if(e)return e.map(function(a){return e.sort(function(e,t){return e.departmentID-t.departmentID}),s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:a._id},s.a.createElement("td",{className:"table-light table-striped adjust2"},a.departmentID),s.a.createElement("td",{className:"table-light table-striped adjust2"},a.departmentName),s.a.createElement("td",{className:"table-light table-striped adjust10"},s.a.createElement("button",{className:"btn btn-primary textcolor",onMouseOver:function(){return sessionStorage.setItem("getdeptID",a.departmentID)},onClick:function(){t.editDept()}},"Edit")),s.a.createElement("td",{className:"table-light table-striped adjust10"},s.a.createElement("button",{className:"btn btn-danger textcolor",onMouseOver:function(){return sessionStorage.setItem("getdeptdelID",a.departmentID)},onClick:function(){t.deletedept()}},"Delete"))))})}},{key:"render",value:function(){var e=this;return console.log(">>> Inside Grpdetails",this.state),null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement(Wn,null)):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"background990i"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-3"},s.a.createElement("h4",{style:{color:"silver",marginLeft:"50px",marginBottom:"-50px"}},"Issue Departments ")),s.a.createElement("div",{className:"col-6"},s.a.createElement("h6",{style:{color:"purple",marginLeft:"480px",marginBottom:"-50px"}},"Welcome, ",localStorage.getItem("userInfo").split(" ")[0]," ")),s.a.createElement("div",{className:"col-3"},s.a.createElement("h6",{type:"button",style:{color:"yellow",marginLeft:"180",textAlign:"left",marginBottom:"-50px"},onClick:function(){return e.logout()}},"Logout "))),s.a.createElement("h4",{style:{color:"rgb(23, 23, 71)",marginLeft:"50px",marginBottom:"-40px"}}," "),s.a.createElement("div",{className:"formdesign510b"},s.a.createElement("div",{className:"row container"},s.a.createElement("div",{className:"col-6"},s.a.createElement("p",{type:"text",className:"form-control mb-3 formsize51",name:"departmentID"},this.state.departmentID," ")),s.a.createElement("div",{className:"col-6"},s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize51",name:"departmentName",require:!0,placeholder:"Enter Dept. Name",value:this.state.departmentName,onChange:this.handleChange})),s.a.createElement("center",null,s.a.createElement("br",null),s.a.createElement("span",null,s.a.createElement("button",{disabled:""===this.state.departmentName,className:"btn btn-warning",onClick:function(){return e.handleSubmit()}},"Add New"),s.a.createElement("button",{disabled:""===this.state.departmentName,className:"btn btn-warning gap",onClick:function(){return e.deptUpdate()}},"Save Update"),s.a.createElement("button",{className:"btn btn-danger gap",onClick:function(){return e.props.history.push("/storeMenu")}},"Close")))),s.a.createElement("br",null),s.a.createElement("div",{className:"container"},s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust5"},"Department ID"),s.a.createElement("th",{className:"adjust5"},"Department Name"),s.a.createElement("th",{className:"adjust5"},"Action"),s.a.createElement("th",{className:"adjust5"}," "))),s.a.createElement("tbody",{className:"table table-hover"},this.renderdeptData(this.state.deptData))),s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-danger gap mb-3",onClick:function(){return e.props.history.push("/storeMenu")}},"Close"))))))}},{key:"componentDidMount",value:function(){var e=this;console.log(">>> Inside GrpDidMount",this.state),fetch("".concat(ns),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({deptData:t}),t.map(function(t){var a=parseInt(t.departmentID),n=Math.max(a)+1;return e.setState({departmentID:n}),"ok"})}),fetch("".concat("https://zarvichdemo.localto.net/storeUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({loginDetails:t})}),this.myTimer=setTimeout(function(){var t=e.state.loginDetails,a=e.state.name;t.some(function(e){return e.name===a})?e.setState({Blogin:!0}):e.setState({Blogin:!1})},1e3)}}]),a}(n.Component),os="https://zarvichdemo.localto.net/storeTypes",rs=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value))},console.log(">>> inside GrpCobtructor",e),n.state={_id:Math.floor(1e4*Math.random()),deptData:"",departmentName:"",departmentID:"",categoryCode:"",deptIDs:"",loginDetails:"",name:localStorage.getItem("userInfo"),login:"",Blogin:""},n}return Object(p.a)(a,[{key:"logout",value:function(){localStorage.removeItem("userInfo"),this.setState({login:!0})}},{key:"deletedept",value:function(){var e=this;fetch("".concat("https://zarvichdemo.localto.net/delcategory","/").concat(sessionStorage.getItem("getcatdelID")),{method:"delete"}),alert("Category Deleted"),this.myTimer=setTimeout(function(){fetch("".concat(os),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({deptData:t}),t.map(function(t){var a=parseInt(t.catgoryID),n=Math.max(a)+1,s=parseInt(t.categoryCode),o=Math.max(s)+1e5;return e.setState({departmentID:n,categoryCode:o}),"ok"})})},1e3)}},{key:"editDept",value:function(){var e=this;fetch("".concat("https://zarvichdemo.localto.net/storeTypes?catID=").concat(sessionStorage.getItem("getcatID")),{method:"GET"}).then(function(e){return e.json()}).then(function(t){t.map(function(t){return e.setState({departmentID:t.catgoryID,departmentName:t.categoryName,categoryCode:t.categoryCode}),"ok"})})}},{key:"handleSubmit",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=this.state.deptData,a=this.state.departmentID,n={catgoryID:"".concat(this.state.departmentID),categoryName:"".concat(this.state.departmentName),categoryCode:"".concat(this.state.categoryCode),_id:"".concat(this.state._id)},!t.some(function(e){return e.departmentID===a})){e.next=10;break}alert(this.state.departmentName+" already exist"),fetch("".concat(os),{method:"GET"}).then(function(e){return e.json()}).then(function(e){o.setState({deptData:e}),e.map(function(e){var t=parseInt(e.catgoryID),a=Math.max(t)+1,n=parseInt(e.categoryCode),s=Math.max(n)+1e5;return o.setState({departmentID:a,categoryCode:s,departmentName:""}),"ok"})}),this.myTimer=setTimeout(function(){o.setState({_id:Math.floor(1e4*Math.random())})},1e3),e.next=18;break;case 10:return e.next=12,fetch("".concat("https://zarvichdemo.localto.net/storeTypePost"),{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)});case 12:s=e.sent,console.log("result>  "+s),alert(this.state.departmentName+" Added"),this.setState({departmentName:"",deptIDs:"",departmentID:"",categoryCode:"",_id:""}),fetch("".concat(os),{method:"GET"}).then(function(e){return e.json()}).then(function(e){o.setState({deptData:e}),e.map(function(e){var t=parseInt(e.catgoryID),a=Math.max(t)+1,n=parseInt(e.categoryCode),s=Math.max(n)+1e5;return o.setState({departmentID:a,categoryCode:s}),"ok"})}),this.myTimer=setTimeout(function(){o.setState({_id:Math.floor(1e4*Math.random())})},1e3);case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),console.log(e.t0);case 23:case"end":return e.stop()}},e,this,[[0,20]])}));return function(){return e.apply(this,arguments)}}()},{key:"deptUpdate",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=sessionStorage.getItem("getcatID"),a={categoryName:"".concat(this.state.departmentName),categoryCode:"".concat(this.state.categoryCode)},e.next=5,fetch("".concat("https://zarvichdemo.localto.net/editcategory","/").concat(t),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(a)});case 5:n=e.sent,console.log("result>  "+n),alert(this.state.departmentName+" Updated"),this.setState({departmentName:"",deptIDs:"",departmentID:"",categoryCode:"",_id:""}),fetch("".concat(os),{method:"GET"}).then(function(e){return e.json()}).then(function(e){s.setState({deptData:e}),e.map(function(e){var t=parseInt(e.catgoryID),a=Math.max(t)+1,n=parseInt(e.categoryCode),o=Math.max(n)+1e5;return s.setState({departmentID:a,categoryCode:o}),"ok"})}),this.myTimer=setTimeout(function(){s.setState({_id:Math.floor(1e4*Math.random())})},1e3),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}},e,this,[[0,13]])}));return function(){return e.apply(this,arguments)}}()},{key:"renderdeptData",value:function(e){var t=this;if(e)return e.map(function(a){return e.sort(function(e,t){return e.catgoryID-t.catgoryID}),s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:a._id},s.a.createElement("td",{className:"table-light table-striped adjust2"},a.catgoryID),s.a.createElement("td",{className:"table-light table-striped adjust2"},a.categoryCode),s.a.createElement("td",{className:"table-light table-striped adjust2"},a.categoryName),s.a.createElement("td",{className:"table-light table-striped adjust10"},s.a.createElement("button",{className:"btn btn-primary textcolor",onMouseOver:function(){return sessionStorage.setItem("getcatID",a.catgoryID)},onClick:function(){t.editDept()}},"Edit")),s.a.createElement("td",{className:"table-light table-striped adjust10"},s.a.createElement("button",{className:"btn btn-danger textcolor",onMouseOver:function(){return sessionStorage.setItem("getcatdelID",a.catgoryID)},onClick:function(){t.deletedept()}},"Delete"))))})}},{key:"render",value:function(){var e=this;return console.log(">>> Inside Grpdetails",this.state),null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement(Wn,null)):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"background990i"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-3"},s.a.createElement("h4",{style:{color:"silver",marginLeft:"50px",marginBottom:"-50px"}},"Store Categories")),s.a.createElement("div",{className:"col-6"},s.a.createElement("h6",{style:{color:"purple",marginLeft:"480px",marginBottom:"-50px"}},"Welcome, ",localStorage.getItem("userInfo").split(" ")[0]," ")),s.a.createElement("div",{className:"col-3"},s.a.createElement("h6",{type:"button",style:{color:"yellow",marginLeft:"180",textAlign:"left",marginBottom:"-50px"},onClick:function(){return e.logout()}},"Logout "))),s.a.createElement("h4",{style:{color:"rgb(23, 23, 71)",marginLeft:"50px",marginBottom:"-40px"}}," "),s.a.createElement("div",{className:"formdesign510b"},s.a.createElement("div",{className:"row container"},s.a.createElement("div",{className:"col-4"},s.a.createElement("p",{type:"text",className:"form-control mb-3 formsize51",name:"departmentID"},this.state.departmentID," ")),s.a.createElement("div",{className:"col-4"},s.a.createElement("p",{type:"text",className:"form-control mb-3 formsize51",name:"categoryCode"},this.state.categoryCode," ")),s.a.createElement("div",{className:"col-4"},s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize51",name:"departmentName",require:!0,placeholder:"Category Name",value:this.state.departmentName,onChange:this.handleChange})),s.a.createElement("center",null,s.a.createElement("br",null),s.a.createElement("span",null,s.a.createElement("button",{disabled:""===this.state.departmentName,className:"btn btn-warning",onClick:function(){return e.handleSubmit()}},"Add New"),s.a.createElement("button",{disabled:""===this.state.departmentName,className:"btn btn-warning gap",onClick:function(){return e.deptUpdate()}},"Save Update"),s.a.createElement("button",{className:"btn btn-danger gap",onClick:function(){return e.props.history.push("/storeMenu")}},"Close")))),s.a.createElement("br",null),s.a.createElement("div",{className:"container"},s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust5"},"Category ID"),s.a.createElement("th",{className:"adjust5"},"Category Code"),s.a.createElement("th",{className:"adjust5"},"Category Name"),s.a.createElement("th",{className:"adjust5"},"Action"),s.a.createElement("th",{className:"adjust5"}," "))),s.a.createElement("tbody",{className:"table table-hover"},this.renderdeptData(this.state.deptData))),s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-danger gap mb-3",onClick:function(){return e.props.history.push("/storeMenu")}},"Close"))))))}},{key:"componentDidMount",value:function(){var e=this;console.log(">>> Inside GrpDidMount",this.state),fetch("".concat(os),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({deptData:t}),t.map(function(t){var a=parseInt(t.catgoryID),n=Math.max(a)+1,s=parseInt(t.categoryCode),o=Math.max(s)+1e5;return e.setState({departmentID:n,categoryCode:o}),"ok"})}),fetch("".concat("https://zarvichdemo.localto.net/storeUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({loginDetails:t})}),this.myTimer=setTimeout(function(){var t=e.state.loginDetails,a=e.state.name;t.some(function(e){return e.name===a})?e.setState({Blogin:!0}):e.setState({Blogin:!1})},1e3)}}]),a}(n.Component),ls=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={loginDetails:"",name:localStorage.getItem("userInfo"),login:"",Blogin:""},n}return Object(p.a)(a,[{key:"logout",value:function(){localStorage.removeItem("userInfo"),this.setState({login:!0})}},{key:"render",value:function(){var e=this;return null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement(Wn,null)):s.a.createElement("div",{className:"fill-window"},s.a.createElement("div",{className:"background15k"},s.a.createElement("center",null,s.a.createElement("div",{className:"formdesign15k"},s.a.createElement("h4",{className:"mb-3"},"Central Store"),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-primary btnwidth15k mb-3",onClick:function(){e.props.history.push("/departments")}},"Issue Departments"),s.a.createElement("button",{className:"btn btn-primary btnwidth15k mb-3",onClick:function(){e.props.history.push("/categories")}},"Store Types"),s.a.createElement("button",{className:"btn btn-primary btnwidth15k mb-3",onClick:function(){e.props.history.push("/vendor")}},"Manage Vendors"),s.a.createElement("button",{className:"btn btn-primary btnwidth15k mb-3",onClick:function(){e.props.history.push("/units")}},"Product Units"),s.a.createElement("button",{className:"btn btn-primary btnwidth15k mb-3",onClick:function(){e.props.history.push("/Products")}},"Register Products"),s.a.createElement("button",{className:"btn btn-primary btnwidth15k mb-3",onClick:function(){e.props.history.push("/stockIn")}},"Stock In Products"),s.a.createElement("button",{className:"btn btn-primary btnwidth15k mb-3",onClick:function(){e.props.history.push("/stockOut")}},"Stock Out Products"),s.a.createElement("button",{className:"btn btn-primary btnwidth15k mb-3",onClick:function(){e.props.history.push("/FandBMenu")}},"Restaurant Menu"),s.a.createElement("button",{className:"btn btn-warning btnwidth15k mb-3",onClick:function(){e.props.history.push("/StoreReport")}},"Stock Movement"),s.a.createElement("button",{className:"btn btn-success btnwidth15k mb-3",onClick:function(){e.props.history.push("/Dashboard")}},"Goto Dashboard"),s.a.createElement("button",{className:"btn btn-danger btnwidth15 mb-3",onClick:function(){return e.logout()}},"Log Out ",localStorage.getItem("userInfo").split(" ")[0])))))))}},{key:"componentDidMount",value:function(){var e=this;fetch("".concat("https://zarvichdemo.localto.net/storeUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({loginDetails:t})}),this.myTimer=setTimeout(function(){var t=e.state.loginDetails,a=e.state.name;t.some(function(e){return e.name===a})?e.setState({Blogin:!0}):e.setState({Blogin:!1})},1e3)}}]),a}(n.Component),cs="https://zarvichdemo.localto.net/vendors",is=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value))},console.log(">>> inside GrpCobtructor",e),n.state={_id:Math.floor(1e4*Math.random()),deptData:"",departmentName:"",departmentID:"",deptIDs:"",address:"",phone:"",email:"",productDescription:"",dateRegistered:"",loginDetails:"",name:localStorage.getItem("userInfo"),login:"",Blogin:""},n.checkinhandleChange=n.checkinhandleChange.bind(Object(f.a)(n)),n}return Object(p.a)(a,[{key:"checkinhandleChange",value:function(e){this.setState({dateRegistered:e})}},{key:"rendercheckinDate",value:function(){return s.a.createElement("div",null,s.a.createElement(y.a,{selected:this.state.dateRegistered,onChange:this.checkinhandleChange,minDate:new Date,maxDate:Object(N.default)(new Date,1),dropdownMode:"select",dateFormat:"MMM/d/ yyyy",placeholderText:"Registration Date",className:"form-control mb-3 formsize51"}))}},{key:"logout",value:function(){localStorage.removeItem("userInfo"),this.setState({login:!0})}},{key:"deletedept",value:function(){var e=this;fetch("".concat("https://zarvichdemo.localto.net/delvendor","/").concat(sessionStorage.getItem("getvendelID")),{method:"delete"}),alert("Vendor Deleted"),this.myTimer=setTimeout(function(){fetch("".concat(cs),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({deptData:t}),t.map(function(t){var a=parseInt(t.vendorID),n=Math.max(a)+1;return e.setState({departmentID:n}),"ok"})})},1e3)}},{key:"editDept",value:function(){var e=this;fetch("".concat("https://zarvichdemo.localto.net/vendors?venid=").concat(sessionStorage.getItem("getvenID")),{method:"GET"}).then(function(e){return e.json()}).then(function(t){t.map(function(t){return e.setState({departmentID:t.vendorID,departmentName:t.vendorName,address:t.address,phone:t.phone,email:t.email,productDescription:t.productDescription,dateRegistered:new Date(t.dateRegistered)}),"ok"})})}},{key:"handleSubmit",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=this.state.deptData,a=this.state.departmentID,n={vendorID:"".concat(this.state.departmentID),vendorName:"".concat(this.state.departmentName),_id:"".concat(this.state._id),address:"".concat(this.state.address),phone:"".concat(this.state.phone),email:"".concat(this.state.email),productDescription:"".concat(this.state.productDescription),dateRegistered:"".concat(this.state.dateRegistered)},!t.some(function(e){return e.vendorID===a})){e.next=10;break}alert("Vendor already exist"),fetch("".concat(cs),{method:"GET"}).then(function(e){return e.json()}).then(function(e){o.setState({deptData:e}),e.map(function(e){var t=parseInt(e.vendorID),a=Math.max(t)+1;return o.setState({departmentID:a,departmentName:"",_id:"",address:"",phone:"",email:"",productDescription:"",dateRegistered:""}),"ok"})}),this.myTimer=setTimeout(function(){o.setState({_id:Math.floor(1e4*Math.random())})},1e3),e.next=18;break;case 10:return e.next=12,fetch("".concat("https://zarvichdemo.localto.net/addVendor"),{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)});case 12:s=e.sent,console.log("result>  "+s),alert("Vendor Added"),this.setState({departmentName:"",deptIDs:"",departmentID:"",_id:"",address:"",phone:"",email:"",productDescription:"",dateRegistered:""}),fetch("".concat(cs),{method:"GET"}).then(function(e){return e.json()}).then(function(e){o.setState({deptData:e}),e.map(function(e){var t=parseInt(e.vendorID),a=Math.max(t)+1;return o.setState({departmentID:a}),"ok"})}),this.myTimer=setTimeout(function(){o.setState({_id:Math.floor(1e4*Math.random())})},1e3);case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),console.log(e.t0);case 23:case"end":return e.stop()}},e,this,[[0,20]])}));return function(){return e.apply(this,arguments)}}()},{key:"deptUpdate",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=sessionStorage.getItem("getvenID"),a={vendorName:"".concat(this.state.departmentName),address:"".concat(this.state.address),phone:"".concat(this.state.phone),email:"".concat(this.state.email),productDescription:"".concat(this.state.productDescription),dateRegistered:"".concat(this.state.dateRegistered)},e.next=5,fetch("".concat("https://zarvichdemo.localto.net/editVendor","/").concat(t),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(a)});case 5:n=e.sent,console.log("result>  "+n),this.setState({departmentName:"",deptIDs:"",departmentID:"",_id:"",address:"",phone:"",email:"",productDescription:"",dateRegistered:""}),fetch("".concat(cs),{method:"GET"}).then(function(e){return e.json()}).then(function(e){s.setState({deptData:e}),e.map(function(e){var t=parseInt(e.vendorID),a=Math.max(t)+1;return s.setState({departmentID:a}),"ok"})}),this.myTimer=setTimeout(function(){s.setState({_id:Math.floor(1e4*Math.random())})},1e3),alert("Vendor Data Updated"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}},e,this,[[0,13]])}));return function(){return e.apply(this,arguments)}}()},{key:"renderdeptData",value:function(e){var t=this;if(e)return e.map(function(a){e.sort(function(e,t){return e.vendorID-t.vendorID});var n=k()(a.dateRegistered).format("MMM DD YYYY");return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:a._id},s.a.createElement("td",{className:"table-light table-striped adjust2"},a.vendorID),s.a.createElement("td",{className:"table-light table-striped adjust2"},a.vendorName),s.a.createElement("td",{className:"table-light table-striped adjust2"},a.address),s.a.createElement("td",{className:"table-light table-striped adjust2"},a.phone),s.a.createElement("td",{className:"table-light table-striped adjust2"},a.email),s.a.createElement("td",{className:"table-light table-striped adjust2"},a.productDescription),s.a.createElement("td",{className:"table-light table-striped adjust2"},n),s.a.createElement("td",{className:"table-light table-striped adjust10"},s.a.createElement("button",{className:"btn btn-primary textcolor",onMouseOver:function(){return sessionStorage.setItem("getvenID",a.vendorID)},onClick:function(){t.editDept()}},"Edit")),s.a.createElement("td",{className:"table-light table-striped adjust10"},s.a.createElement("button",{className:"btn btn-danger textcolor",onMouseOver:function(){return sessionStorage.setItem("getvendelID",a.vendorID)},onClick:function(){t.deletedept()}},"Delete"))))})}},{key:"render",value:function(){var e=this;return console.log(">>> Inside Grpdetails",this.state),null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement(Wn,null)):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"background990i"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-3"},s.a.createElement("h4",{style:{color:"silver",marginLeft:"50px",marginBottom:"-50px"}},"Vendors Management")),s.a.createElement("div",{className:"col-6"},s.a.createElement("h6",{style:{color:"purple",marginLeft:"480px",marginBottom:"-50px"}},"Welcome, ",localStorage.getItem("userInfo").split(" ")[0]," ")),s.a.createElement("div",{className:"col-3"},s.a.createElement("h6",{type:"button",style:{color:"yellow",marginLeft:"180",textAlign:"left",marginBottom:"-50px"},onClick:function(){return e.logout()}},"Logout "))),s.a.createElement("h4",{style:{color:"rgb(23, 23, 71)",marginLeft:"50px",marginBottom:"-40px"}}," "),s.a.createElement("div",{className:"formdesign510b"},s.a.createElement("div",{className:"row container"},s.a.createElement("div",{className:"col-3"},s.a.createElement("p",{type:"text",className:"form-control mb-3 formsize51",name:"departmentID"},this.state.departmentID," ")),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-4"},s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize51",name:"departmentName",require:!0,placeholder:"Name",value:this.state.departmentName,onChange:this.handleChange})),s.a.createElement("div",{className:"col-4"},s.a.createElement("textarea",{row:"4",className:"form-control mb-3 formsize51",name:"address",require:!0,placeholder:"Address",value:this.state.address,onChange:this.handleChange})),s.a.createElement("div",{className:"col-4"},s.a.createElement("input",{type:"number",className:"form-control mb-3 formsize51",name:"phone",require:!0,placeholder:"Phone",value:this.state.phone,onChange:this.handleChange}))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-4"},s.a.createElement("input",{type:"email",className:"form-control mb-3 formsize51",name:"email",require:!0,placeholder:"Email",value:this.state.email,onChange:this.handleChange})),s.a.createElement("div",{className:"col-4"},s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize51",name:"productDescription",require:!0,placeholder:"Description",value:this.state.productDescription,onChange:this.handleChange})),s.a.createElement("div",{className:"col-4"},s.a.createElement("label",null,this.rendercheckinDate(this.state.dateRegistered)))),s.a.createElement("center",null,s.a.createElement("br",null),s.a.createElement("span",null,s.a.createElement("button",{disabled:""===this.state.departmentName,className:"btn btn-warning",onClick:function(){return e.handleSubmit()}},"Add New"),s.a.createElement("button",{disabled:""===this.state.departmentName,className:"btn btn-warning gap",onClick:function(){return e.deptUpdate()}},"Save Update"),s.a.createElement("button",{className:"btn btn-danger gap",onClick:function(){return e.props.history.push("/storeMenu")}},"Close")))),s.a.createElement("br",null),s.a.createElement("div",{className:"container"},s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust5"},"ID"),s.a.createElement("th",{className:"adjust5"},"Name"),s.a.createElement("th",{className:"adjust5"},"Address"),s.a.createElement("th",{className:"adjust5"},"Phone"),s.a.createElement("th",{className:"adjust5"},"Email"),s.a.createElement("th",{className:"adjust5"},"Product Description"),s.a.createElement("th",{className:"adjust5"},"Date Registered"),s.a.createElement("th",{className:"adjust5"},"Action"),s.a.createElement("th",{className:"adjust5"}," "))),s.a.createElement("tbody",{className:"table table-hover"},this.renderdeptData(this.state.deptData))),s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-danger gap mb-3",onClick:function(){return e.props.history.push("/storeMenu")}},"Close"))))))}},{key:"componentDidMount",value:function(){var e=this;console.log(">>> Inside GrpDidMount",this.state),fetch("".concat(cs),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({deptData:t}),t.map(function(t){var a=parseInt(t.vendorID),n=Math.max(a)+1;return e.setState({departmentID:n}),"ok"})}),fetch("".concat("https://zarvichdemo.localto.net/storeUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({loginDetails:t})}),this.myTimer=setTimeout(function(){var t=e.state.loginDetails,a=e.state.name;t.some(function(e){return e.name===a})?e.setState({Blogin:!0}):e.setState({Blogin:!1})},1e3)}}]),a}(n.Component),ms="https://zarvichdemo.localto.net/pricemanager",us=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value))},console.log(">>> inside GrpCobtructor",e),n.state={_id:Math.floor(1e7*Math.random()),deptData:"",departmentName:"",departmentID:"",productPrice:"",productUnit:"",deptIDs:"",loginDetails:"",name:localStorage.getItem("userInfo"),login:"",Blogin:""},n}return Object(p.a)(a,[{key:"logout",value:function(){localStorage.removeItem("userInfo"),this.setState({login:!0})}},{key:"deletedept",value:function(){var e=this;fetch("".concat("https://zarvichdemo.localto.net/delpricereview","/").concat(sessionStorage.getItem("getpricerevdelID")),{method:"delete"}),alert("Product Deleted"),this.myTimer=setTimeout(function(){fetch("".concat(ms),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({deptData:t}),t.map(function(t){var a=parseInt(t.productID),n=Math.max(a)+1;return e.setState({departmentID:n}),"ok"})})},1e3)}},{key:"editDept",value:function(){var e=this;fetch("".concat("https://zarvichdemo.localto.net/pricemanager?priceID=").concat(sessionStorage.getItem("getpricerevID")),{method:"GET"}).then(function(e){return e.json()}).then(function(t){t.map(function(t){return e.setState({departmentID:t.productID,departmentName:t.productName,productPrice:t.productPrice,productUnit:t.productUnit}),"ok"})})}},{key:"handleSubmit",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=this.state.deptData,a=this.state.departmentID,n={productID:"".concat(this.state.departmentID),productName:"".concat(this.state.departmentName),productPrice:"".concat(this.state.productPrice),productUnit:"".concat(this.state.productUnit),_id:"".concat(this.state._id)},!t.some(function(e){return e.productID===a})){e.next=10;break}alert(this.state.departmentName+" already exist"),fetch("".concat(ms),{method:"GET"}).then(function(e){return e.json()}).then(function(e){o.setState({deptData:e}),e.map(function(e){var t=parseInt(e.productID),a=Math.max(t)+1;return o.setState({departmentID:a,departmentName:"",productPrice:"",deptIDs:"",productUnit:"",_id:""}),"ok"})}),this.myTimer=setTimeout(function(){o.setState({_id:Math.floor(1e7*Math.random())})},1e3),e.next=18;break;case 10:return e.next=12,fetch("".concat("https://zarvichdemo.localto.net/pricereview"),{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)});case 12:s=e.sent,console.log("result>  "+s),alert(this.state.departmentName+" Price Added"),this.setState({departmentName:"",productPrice:"",deptIDs:"",departmentID:"",productUnit:"",_id:""}),fetch("".concat(ms),{method:"GET"}).then(function(e){return e.json()}).then(function(e){o.setState({deptData:e}),e.map(function(e){var t=parseInt(e.productID),a=Math.max(t)+1;return o.setState({departmentID:a}),"ok"})}),this.myTimer=setTimeout(function(){o.setState({_id:Math.floor(1e7*Math.random())})},1e3);case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),console.log(e.t0);case 23:case"end":return e.stop()}},e,this,[[0,20]])}));return function(){return e.apply(this,arguments)}}()},{key:"deptUpdate",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=sessionStorage.getItem("getpricerevID"),a={productName:"".concat(this.state.departmentName),productPrice:"".concat(this.state.productPrice),productUnit:"".concat(this.state.productUnit)},e.next=5,fetch("".concat("https://zarvichdemo.localto.net/editpricereview","/").concat(t),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(a)});case 5:n=e.sent,console.log("result>  "+n),alert(this.state.departmentName+" Price updated"),this.setState({departmentName:"",deptIDs:"",departmentID:"",productPrice:"",productUnit:"",_id:""}),fetch("".concat(ms),{method:"GET"}).then(function(e){return e.json()}).then(function(e){s.setState({deptData:e}),e.map(function(e){var t=parseInt(e.productID),a=Math.max(t)+1;return s.setState({departmentID:a}),"ok"})}),this.myTimer=setTimeout(function(){s.setState({_id:Math.floor(1e7*Math.random())})},1e3),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}},e,this,[[0,13]])}));return function(){return e.apply(this,arguments)}}()},{key:"renderdeptData",value:function(e){var t=this;if(e)return e.map(function(a){return e.sort(function(e,t){return e.productID-t.productID}),s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:a._id},s.a.createElement("td",{className:"table-light table-striped adjust2"},a.productID),s.a.createElement("td",{className:"table-light table-striped adjust2"},a.productName),s.a.createElement("td",{className:"table-light table-striped adjust2"},a.productUnit),s.a.createElement("td",{className:"table-light table-striped adjust2"},a.productPrice),s.a.createElement("td",{className:"table-light table-striped adjust10"},s.a.createElement("button",{className:"btn btn-primary textcolor",onMouseOver:function(){return sessionStorage.setItem("getpricerevID",a.productID)},onClick:function(){t.editDept()}},"Edit")),s.a.createElement("td",{className:"table-light table-striped adjust10"},s.a.createElement("button",{className:"btn btn-danger textcolor",onMouseOver:function(){return sessionStorage.setItem("getpricerevdelID",a.productID)},onClick:function(){t.deletedept()}},"Delete"))))})}},{key:"render",value:function(){var e=this;return console.log(">>> Inside Grpdetails",this.state),null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement(T,null)):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"background990i"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-3"},s.a.createElement("h4",{style:{color:"silver",marginLeft:"50px",marginBottom:"-50px"}},"Price Review ")),s.a.createElement("div",{className:"col-6"},s.a.createElement("h6",{style:{color:"purple",marginLeft:"480px",marginBottom:"-50px"}},"Welcome, ",localStorage.getItem("userInfo").split(" ")[0]," ")),s.a.createElement("div",{className:"col-3"},s.a.createElement("h6",{type:"button",style:{color:"yellow",marginLeft:"180",textAlign:"left",marginBottom:"-50px"},onClick:function(){return e.logout()}},"Logout "))),s.a.createElement("h4",{style:{color:"rgb(23, 23, 71)",marginLeft:"50px",marginBottom:"-40px"}}," "),s.a.createElement("div",{className:"formdesign510b"},s.a.createElement("div",{className:"row container"},s.a.createElement("div",{className:"col-3"},s.a.createElement("p",{type:"text",className:"form-control mb-3 formsize51",name:"departmentID"},this.state.departmentID," ")),s.a.createElement("div",{className:"col-3"},s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize51",name:"departmentName",require:!0,placeholder:"Enter Product Name",value:this.state.departmentName,onChange:this.handleChange})),s.a.createElement("div",{className:"col-3"},s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize51",name:"productUnit",require:!0,placeholder:"Enter Product Unit",value:this.state.productUnit,onChange:this.handleChange})),s.a.createElement("div",{className:"col-3"},s.a.createElement("input",{type:"number",className:"form-control mb-3 formsize51",name:"productPrice",require:!0,placeholder:"Enter Product Price",value:this.state.productPrice,onChange:this.handleChange})),s.a.createElement("center",null,s.a.createElement("br",null),s.a.createElement("span",null,s.a.createElement("button",{disabled:""===this.state.departmentName||""===this.state.productPrice,className:"btn btn-warning",onClick:function(){return e.handleSubmit()}},"Add New"),s.a.createElement("button",{disabled:""===this.state.departmentName||""===this.state.productPrice,className:"btn btn-warning gap",onClick:function(){return e.deptUpdate()}},"Save Update"),s.a.createElement("button",{className:"btn btn-danger gap",onClick:function(){return e.props.history.push("/storeMenu")}},"Close")))),s.a.createElement("br",null),s.a.createElement("div",{className:"container"},s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust5"},"Product ID"),s.a.createElement("th",{className:"adjust5"},"Product Name"),s.a.createElement("th",{className:"adjust5"},"Product Unit"),s.a.createElement("th",{className:"adjust5"},"Product Price"),s.a.createElement("th",{className:"adjust5"},"Action"),s.a.createElement("th",{className:"adjust5"}," "))),s.a.createElement("tbody",{className:"table table-hover"},this.renderdeptData(this.state.deptData))),s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-danger gap mb-3",onClick:function(){return e.props.history.push("/storeMenu")}},"Close"))))))}},{key:"componentDidMount",value:function(){var e=this;console.log(">>> Inside GrpDidMount",this.state),fetch("".concat(ms),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({deptData:t}),t.map(function(t){var a=parseInt(t.productID),n=Math.max(a)+1;return e.setState({departmentID:n}),"ok"})}),fetch("".concat("https://zarvichdemo.localto.net/fofUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({loginDetails:t})}),this.myTimer=setTimeout(function(){var t=e.state.loginDetails,a=e.state.name;t.some(function(e){return e.name===a})?e.setState({Blogin:!0}):e.setState({Blogin:!1})},1e3)}}]),a}(n.Component),hs="https://zarvichdemo.localto.net/storeUnits",ds=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value))},console.log(">>> inside GrpCobtructor",e),n.state={_id:Math.floor(1e7*Math.random()),deptData:"",departmentName:"",departmentID:"",deptIDs:"",loginDetails:"",name:localStorage.getItem("userInfo"),login:"",Blogin:""},n}return Object(p.a)(a,[{key:"logout",value:function(){localStorage.removeItem("userInfo"),this.setState({login:!0})}},{key:"deletedept",value:function(){var e=this;fetch("".concat("https://zarvichdemo.localto.net/delUnit","/").concat(sessionStorage.getItem("getunitdelID")),{method:"delete"}),alert("Unit Deleted"),this.myTimer=setTimeout(function(){fetch("".concat(hs),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({deptData:t}),t.map(function(t){var a=parseInt(t.unitsID),n=Math.max(a)+1;return e.setState({departmentID:n}),"ok"})})},1e3)}},{key:"editDept",value:function(){var e=this;fetch("".concat("https://zarvichdemo.localto.net/storeUnits?storeUnitID=").concat(sessionStorage.getItem("getunitID")),{method:"GET"}).then(function(e){return e.json()}).then(function(t){t.map(function(t){return e.setState({departmentID:t.unitsID,departmentName:t.unit}),"ok"})})}},{key:"handleSubmit",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=this.state.deptData,a=this.state.departmentID,n={unitsID:"".concat(this.state.departmentID),unit:"".concat(this.state.departmentName),_id:"".concat(this.state._id)},!t.some(function(e){return e.unitsID===a})){e.next=10;break}alert(this.state.departmentName+" already exist"),fetch("".concat(hs),{method:"GET"}).then(function(e){return e.json()}).then(function(e){o.setState({deptData:e}),e.map(function(e){var t=parseInt(e.unitsID),a=Math.max(t)+1;return o.setState({departmentID:a,departmentName:""}),"ok"})}),this.myTimer=setTimeout(function(){o.setState({_id:Math.floor(1e7*Math.random())})},1e3),e.next=18;break;case 10:return e.next=12,fetch("".concat("https://zarvichdemo.localto.net/newUnit"),{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)});case 12:s=e.sent,console.log("result>  "+s),alert(this.state.departmentName+" Added"),this.setState({departmentName:"",deptIDs:"",departmentID:"",_id:""}),fetch("".concat(hs),{method:"GET"}).then(function(e){return e.json()}).then(function(e){o.setState({deptData:e}),e.map(function(e){var t=parseInt(e.unitsID),a=Math.max(t)+1;return o.setState({departmentID:a}),"ok"})}),this.myTimer=setTimeout(function(){o.setState({_id:Math.floor(1e7*Math.random())})},1e3);case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),console.log(e.t0);case 23:case"end":return e.stop()}},e,this,[[0,20]])}));return function(){return e.apply(this,arguments)}}()},{key:"deptUpdate",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=sessionStorage.getItem("getunitID"),a={unit:"".concat(this.state.departmentName)},e.next=5,fetch("".concat("https://zarvichdemo.localto.net/editUnit","/").concat(t),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(a)});case 5:n=e.sent,console.log("result>  "+n),alert(this.state.departmentName+" updated"),this.setState({departmentName:"",deptIDs:"",departmentID:"",_id:""}),fetch("".concat(hs),{method:"GET"}).then(function(e){return e.json()}).then(function(e){s.setState({deptData:e}),e.map(function(e){var t=parseInt(e.unitsID),a=Math.max(t)+1;return s.setState({departmentID:a}),"ok"})}),this.myTimer=setTimeout(function(){s.setState({_id:Math.floor(1e7*Math.random())})},1e3),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}},e,this,[[0,13]])}));return function(){return e.apply(this,arguments)}}()},{key:"renderdeptData",value:function(e){var t=this;if(e)return e.map(function(a){return e.sort(function(e,t){return e.unitsID-t.unitsID}),s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:a._id},s.a.createElement("td",{className:"table-light table-striped adjust2"},a.unitsID),s.a.createElement("td",{className:"table-light table-striped adjust2"},a.unit),s.a.createElement("td",{className:"table-light table-striped adjust10"},s.a.createElement("button",{className:"btn btn-primary textcolor",onMouseOver:function(){return sessionStorage.setItem("getunitID",a.unitsID)},onClick:function(){t.editDept()}},"Edit")),s.a.createElement("td",{className:"table-light table-striped adjust10"},s.a.createElement("button",{className:"btn btn-danger textcolor",onMouseOver:function(){return sessionStorage.setItem("getunitdelID",a.unitsID)},onClick:function(){t.deletedept()}},"Delete"))))})}},{key:"render",value:function(){var e=this;return console.log(">>> Inside Grpdetails",this.state),null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement(Wn,null)):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"background990i"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-3"},s.a.createElement("h4",{style:{color:"silver",marginLeft:"50px",marginBottom:"-50px"}},"Product Units ")),s.a.createElement("div",{className:"col-6"},s.a.createElement("h6",{style:{color:"purple",marginLeft:"480px",marginBottom:"-50px"}},"Welcome, ",localStorage.getItem("userInfo").split(" ")[0]," ")),s.a.createElement("div",{className:"col-3"},s.a.createElement("h6",{type:"button",style:{color:"yellow",marginLeft:"180",textAlign:"left",marginBottom:"-50px"},onClick:function(){return e.logout()}},"Logout "))),s.a.createElement("h4",{style:{color:"rgb(23, 23, 71)",marginLeft:"50px",marginBottom:"-40px"}}," "),s.a.createElement("div",{className:"formdesign510b"},s.a.createElement("div",{className:"row container"},s.a.createElement("div",{className:"col-6"},s.a.createElement("p",{type:"text",className:"form-control mb-3 formsize51",name:"departmentID"},this.state.departmentID," ")),s.a.createElement("div",{className:"col-6"},s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize51",name:"departmentName",require:!0,placeholder:"Enter Unit",value:this.state.departmentName,onChange:this.handleChange})),s.a.createElement("center",null,s.a.createElement("br",null),s.a.createElement("span",null,s.a.createElement("button",{disabled:""===this.state.departmentName,className:"btn btn-warning",onClick:function(){return e.handleSubmit()}},"Add New"),s.a.createElement("button",{disabled:""===this.state.departmentName,className:"btn btn-warning gap",onClick:function(){return e.deptUpdate()}},"Save Update"),s.a.createElement("button",{className:"btn btn-danger gap",onClick:function(){return e.props.history.push("/storeMenu")}},"Close")))),s.a.createElement("br",null),s.a.createElement("div",{className:"container"},s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust5"},"Units ID"),s.a.createElement("th",{className:"adjust5"},"Units"),s.a.createElement("th",{className:"adjust5"},"Action"),s.a.createElement("th",{className:"adjust5"}," "))),s.a.createElement("tbody",{className:"table table-hover"},this.renderdeptData(this.state.deptData))),s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-danger gap mb-3",onClick:function(){return e.props.history.push("/storeMenu")}},"Close"))))))}},{key:"componentDidMount",value:function(){var e=this;console.log(">>> Inside GrpDidMount",this.state),fetch("".concat(hs),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({deptData:t}),t.map(function(t){var a=parseInt(t.unitsID),n=Math.max(a)+1;return e.setState({departmentID:n}),"ok"})}),fetch("".concat("https://zarvichdemo.localto.net/storeUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({loginDetails:t})}),this.myTimer=setTimeout(function(){var t=e.state.loginDetails,a=e.state.name;t.some(function(e){return e.name===a})?e.setState({Blogin:!0}):e.setState({Blogin:!1})},1e3)}}]),a}(n.Component),ps="https://zarvichdemo.localto.net/storeUnits",fs=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value))},console.log(">>> inside GrpCobtructor",e),n.state={_id:Math.floor(1e7*Math.random()),deptData:"",departmentName:"",departmentID:"",deptIDs:"",loginDetails:"",name:localStorage.getItem("userInfo"),login:"",Blogin:""},n}return Object(p.a)(a,[{key:"logout",value:function(){localStorage.removeItem("userInfo"),this.setState({login:!0})}},{key:"deletedept",value:function(){var e=this;fetch("".concat("https://zarvichdemo.localto.net/delUnit","/").concat(sessionStorage.getItem("getunitdelID")),{method:"delete"}),alert("Unit Deleted"),this.myTimer=setTimeout(function(){fetch("".concat(ps),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({deptData:t}),t.map(function(t){var a=parseInt(t.unitsID),n=Math.max(a)+1;return e.setState({departmentID:n}),"ok"})})},1e3)}},{key:"editDept",value:function(){var e=this;fetch("".concat("https://zarvichdemo.localto.net/storeUnits?storeUnitID=").concat(sessionStorage.getItem("getunitID")),{method:"GET"}).then(function(e){return e.json()}).then(function(t){t.map(function(t){return e.setState({departmentID:t.unitsID,departmentName:t.unit}),"ok"})})}},{key:"handleSubmit",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=this.state.deptData,a=this.state.departmentID,n={unitsID:"".concat(this.state.departmentID),unit:"".concat(this.state.departmentName),_id:"".concat(this.state._id)},!t.some(function(e){return e.unitsID===a})){e.next=10;break}alert(this.state.departmentName+" already exist"),fetch("".concat(ps),{method:"GET"}).then(function(e){return e.json()}).then(function(e){o.setState({deptData:e}),e.map(function(e){var t=parseInt(e.unitsID),a=Math.max(t)+1;return o.setState({departmentID:a,departmentName:""}),"ok"})}),this.myTimer=setTimeout(function(){o.setState({_id:Math.floor(1e7*Math.random())})},1e3),e.next=18;break;case 10:return e.next=12,fetch("".concat("https://zarvichdemo.localto.net/newUnit"),{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)});case 12:s=e.sent,console.log("result>  "+s),alert(this.state.departmentName+" Added"),this.setState({departmentName:"",deptIDs:"",departmentID:"",_id:""}),fetch("".concat(ps),{method:"GET"}).then(function(e){return e.json()}).then(function(e){o.setState({deptData:e}),e.map(function(e){var t=parseInt(e.unitsID),a=Math.max(t)+1;return o.setState({departmentID:a}),"ok"})}),this.myTimer=setTimeout(function(){o.setState({_id:Math.floor(1e7*Math.random())})},1e3);case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),console.log(e.t0);case 23:case"end":return e.stop()}},e,this,[[0,20]])}));return function(){return e.apply(this,arguments)}}()},{key:"deptUpdate",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=sessionStorage.getItem("getunitID"),a={unit:"".concat(this.state.departmentName)},e.next=5,fetch("".concat("https://zarvichdemo.localto.net/editUnit","/").concat(t),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(a)});case 5:n=e.sent,console.log("result>  "+n),alert(this.state.departmentName+" updated"),this.setState({departmentName:"",deptIDs:"",departmentID:"",_id:""}),fetch("".concat(ps),{method:"GET"}).then(function(e){return e.json()}).then(function(e){s.setState({deptData:e}),e.map(function(e){var t=parseInt(e.unitsID),a=Math.max(t)+1;return s.setState({departmentID:a}),"ok"})}),this.myTimer=setTimeout(function(){s.setState({_id:Math.floor(1e4*Math.random())})},1e3),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}},e,this,[[0,13]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return console.log(">>> Inside Grpdetails",this.state),null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement(Wn,null)):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"background591"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-4"},s.a.createElement("h4",{style:{color:"silver",marginLeft:"10px",marginBottom:"-50px"}},"Product Units ")),s.a.createElement("div",{className:"col-4"},s.a.createElement("h6",{style:{color:"purple",marginLeft:"380px",marginBottom:"-50px"}},"Welcome, ",localStorage.getItem("userInfo").split(" ")[0]," ")),s.a.createElement("div",{className:"col-4"},s.a.createElement("h6",{type:"button",style:{color:"yellow",marginLeft:"100",textAlign:"left",marginBottom:"-50px"},onClick:function(){return e.logout()}},"Logout "))),s.a.createElement("h4",{style:{color:"rgb(23, 23, 71)",marginLeft:"50px",marginBottom:"-40px"}}," "),s.a.createElement("div",{className:"formdesign511"},s.a.createElement("div",{className:"row container"},s.a.createElement("div",{className:"col-6"},s.a.createElement("p",{type:"text",className:"form-control mb-3 formsize51",name:"departmentID"},this.state.departmentID," ")),s.a.createElement("div",{className:"col-6"},s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize51",name:"departmentName",require:!0,placeholder:"Enter Unit",value:this.state.departmentName,onChange:this.handleChange})),s.a.createElement("center",null,s.a.createElement("br",null),s.a.createElement("span",null,s.a.createElement("button",{disabled:""===this.state.departmentName,className:"btn btn-warning",onClick:function(){return e.handleSubmit()}},"Add New")))),s.a.createElement("br",null))))}},{key:"componentDidMount",value:function(){var e=this;console.log(">>> Inside GrpDidMount",this.state),fetch("".concat(ps),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({deptData:t}),t.map(function(t){var a=parseInt(t.unitsID),n=Math.max(a)+1;return e.setState({departmentID:n}),"ok"})}),fetch("".concat("https://zarvichdemo.localto.net/storeUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({loginDetails:t})}),this.myTimer=setTimeout(function(){var t=e.state.loginDetails,a=e.state.name;t.some(function(e){return e.name===a})?e.setState({Blogin:!0}):e.setState({Blogin:!1})},1e3)}}]),a}(n.Component),bs="https://zarvichdemo.localto.net/storeTypes?storeName=",gs="https://zarvichdemo.localto.net/storeUnits",Es="https://zarvichdemo.localto.net/products?getproductName=",Ss="https://zarvichdemo.localto.net/drinkitems?drinxxName=",ys="https://zarvichdemo.localto.net/drinkitems",Ns="https://zarvichdemo.localto.net/products?getcategoryName=",vs="https://zarvichdemo.localto.net/drinkCategories?drinkType=",Ds=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleChange12b=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value)),fetch("".concat(vs).concat(e.target.value),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return n.setState({productTypeID:e.mealTypeID}),"ok"})})},n.handleChange=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value))},n.handleChange5=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value));var t=n.state.productsData,a=n.state.barMenuData,s=e.target.value;t.some(function(e){return e.productName===s})?(alert("Product already registered"),n.setState({productID:"",categoryName:"",categoryCode:"",categoryTypes:"",productName:"",productUnit:"",productType:"",productTypeID:"",binNum:"",pieces:"",productTypeData:"",unitsData:"",reOrderLevel:"",entryDate:"",productSellingPrice:""}),fetch("".concat(bs),{method:"GET"}).then(function(e){return e.json()}).then(function(e){n.setState({categoryTypes:e})}),fetch("".concat(vs),{method:"GET"}).then(function(e){return e.json()}).then(function(e){n.setState({productTypeData:e})}),fetch("".concat(gs),{method:"GET"}).then(function(e){return e.json()}).then(function(e){n.setState({unitsData:e})}),n.myTimer=setTimeout(function(){n.setState({_id:Math.floor(1e7*Math.random())})},1e3)):a.some(function(e){return e.mealName===s})&&(alert("Product already registered"),n.setState({productID:"",categoryName:"",categoryCode:"",categoryTypes:"",productName:"",productUnit:"",productType:"",productTypeID:"",binNum:"",pieces:"",productTypeData:"",unitsData:"",reOrderLevel:"",entryDate:"",productSellingPrice:""}),fetch("".concat(bs),{method:"GET"}).then(function(e){return e.json()}).then(function(e){n.setState({categoryTypes:e})}),fetch("".concat(vs),{method:"GET"}).then(function(e){return e.json()}).then(function(e){n.setState({productTypeData:e})}),fetch("".concat(gs),{method:"GET"}).then(function(e){return e.json()}).then(function(e){n.setState({unitsData:e})}),n.myTimer=setTimeout(function(){n.setState({_id:Math.floor(1e7*Math.random())})},1e3))},n.handleChange4=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value)),"Add New"===e.target.value?n.setState({editunit:!0}):"Drink Store"!==n.state.categoryName&&n.setState({pieces:1})},n.handleChange111=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value)),"Drink Store"!==n.state.categoryName&&n.setState({pieces:1})},n.handleChange2=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value)),"Drink Store"===e.target.value&&fetch("".concat(vs),{method:"GET"}).then(function(e){return e.json()}).then(function(e){n.setState({productTypeData:e})}),fetch("".concat(Ns).concat(e.target.value),{method:"GET"}).then(function(e){return e.json()}).then(function(e){n.setState({productsData:e})}),n.myTimer=setTimeout(function(){0===n.state.productsData.length?fetch("".concat(bs).concat(e.target.value),{method:"GET"}).then(function(e){return e.json()}).then(function(e){n.setState({categoryData:e}),e.map(function(e){var t=parseInt(e.categoryCode),a=Math.max(t)+1;return n.setState({productID:a}),"ok"})}):n.state.productsData.map(function(e){var t=parseInt(e.productID),a=Math.max(t)+1;return n.setState({productID:a}),"ok"})},1e3)},n.handleChange3=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value)),fetch("".concat(Es).concat(e.target.value),{method:"GET"}).then(function(e){return e.json()}).then(function(e){n.setState({productseditData:e}),e.map(function(e){return n.setState({productID:e.productID,productName:e.productName,categoryName:e.categoryName,binNum:e.binNum,reOrderLevel:e.reOrderLevel,entryDate:new Date(e.entryDate),productUnit:e.productUnit,pieces:e.pieces,productType:e.productType,productTypeID:e.productTypeID,productSellingPrice:e.productSellingPrice}),"ok"})}),fetch("".concat(Ss).concat(e.target.value),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return n.setState({UseID:e._id}),"ok"})}),fetch("".concat(vs),{method:"GET"}).then(function(e){return e.json()}).then(function(e){n.setState({productTypeData:e})}),""===n.state.searchproductName&&n.setState({productID:"",productName:"",categoryName:"",binNum:"",reOrderLevel:"",entryDate:"",productUnit:"",productSellingPrice:""})},console.log(">>> inside GrpCobtructor",e),n.state={_id:Math.floor(1e8*Math.random()),productsData:"",productType:"",productTypeData:"",productTypeID:"",productSellingPrice:"",categoryData:"",unitsData:"",categoryTypes:"",productseditData:"",searchproductName:"",categoryCode:"",categoryName:"",productID:"",productName:"",productUnit:"",binNum:"",reOrderLevel:"",entryDate:"",pieces:"",edit:!1,editunit:!1,loginDetails:"",name:localStorage.getItem("userInfo"),login:"",Blogin:"",piecesData:[{_id:"1001",quantity:1},{_id:"1002",quantity:2},{_id:"1003",quantity:4},{_id:"1004",quantity:6},{_id:"1005",quantity:12},{_id:"1006",quantity:24},{_id:"1007",quantity:48}],barMenuID:"",UseID:"",barMenuData:""},n.checkinhandleChange=n.checkinhandleChange.bind(Object(f.a)(n)),n}return Object(p.a)(a,[{key:"onOpenModaledit",value:function(){this.setState({edit:!0})}},{key:"onCloseModaledit",value:function(){this.setState({edit:!1,productID:"",productName:"",productUnit:"",productType:"",productTypeID:"",productSellingPrice:"",productTypeData:"",binNum:"",reOrderLevel:"",entryDate:"",categoryName:"",categoryCode:"",pieces:""})}},{key:"onOpenModaleditunit",value:function(){this.setState({editunit:!0})}},{key:"onCloseModaleditunit",value:function(){var e=this;this.setState({editunit:!1}),fetch("".concat(gs),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({unitsData:t})})}},{key:"checkinhandleChange",value:function(e){this.setState({entryDate:e})}},{key:"rendercheckinDate",value:function(){return s.a.createElement("div",null,s.a.createElement(y.a,{selected:this.state.entryDate,onChange:this.checkinhandleChange,minDate:new Date,maxDate:Object(N.default)(new Date,1),dropdownMode:"select",dateFormat:"MMM/d/ yyyy",placeholderText:"Registration Date",className:"form-control mb-3 formsize51"}))}},{key:"renderProductType2",value:function(e){if(e)return e.map(function(t){return e.sort(function(e,t){return e.mealType-t.mealType}),s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{key:t._id,value:t.mealType},t.mealType))})}},{key:"renderPieces",value:function(e){if(e)return e.map(function(t){return e.sort(function(e,t){return e.quantity-t.quantity}),s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{key:t._id,value:t.quantity},t.quantity))})}},{key:"logout",value:function(){localStorage.removeItem("userInfo"),this.setState({login:!0})}},{key:"deletedept",value:function(){var e=this;fetch("".concat("https://zarvichdemo.localto.net/delProduct","/").concat(this.state.productID),{method:"delete"}),fetch("".concat("https://zarvichdemo.localto.net/delBarMenu","/").concat(this.state.searchproductName),{method:"delete"}),alert("Product Deleted"),this.setState({productID:"",productName:"",productUnit:"",productType:"",productTypeID:"",productSellingPrice:"",productTypeData:"",binNum:"",reOrderLevel:"",entryDate:"",categoryName:"",categoryCode:"",pieces:""}),fetch("".concat(Es),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({productsData:t})})}},{key:"handleSubmit",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o,r,l,c=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=this.state.productsData,a=this.state.barMenuData,n=this.state.productName,s={categoryName:"".concat(this.state.categoryName),productID:"".concat(this.state.productID),productName:"".concat(this.state.productName),productUnit:"".concat(this.state.productUnit),productType:"".concat(this.state.productType),productSellingPrice:parseInt("".concat(this.state.productSellingPrice)),productTypeID:"".concat(this.state.productTypeID),binNum:"".concat(this.state.binNum),reOrderLevel:"".concat(this.state.reOrderLevel),entryDate:"".concat(this.state.entryDate),pieces:parseInt("".concat(this.state.pieces)),name:localStorage.getItem("userInfo"),_id:"".concat(this.state._id)},o={_id:parseInt("".concat(this.state.barMenuID)),mealTypeID:parseInt("".concat(this.state.productTypeID)),mealName:"".concat(this.state.productName),mealPrice:"".concat(this.state.productSellingPrice),mealQt:1,mealType:"".concat(this.state.productType),categoryID:parseInt("".concat(this.state.productTypeID)),category:"".concat(this.state.productType)},!t.some(function(e){return e.productName===n})){e.next=15;break}alert("Product already registered"),this.setState({productID:"",productName:"",productUnit:"",productTypeData:"",productSellingPrice:"",productType:"",productTypeID:"",binNum:"",reOrderLevel:"",entryDate:"",categoryName:"",categoryCode:"",pieces:"",unitsData:"",productsData:"",categoryTypes:"",barMenuID:"",barMenuData:""}),fetch("".concat(bs),{method:"GET"}).then(function(e){return e.json()}).then(function(e){c.setState({categoryTypes:e})}),fetch("".concat(vs),{method:"GET"}).then(function(e){return e.json()}).then(function(e){c.setState({productTypeData:e})}),fetch("".concat(ys),{method:"GET"}).then(function(e){return e.json()}).then(function(e){c.setState({barMenuData:e}),e.map(function(e){var t=parseInt(e._id),a=Math.max(t)+1;return c.setState({barMenuID:a}),"ok"})}),this.myTimer=setTimeout(function(){c.setState({_id:Math.floor(1e7*Math.random())})},1e3),e.next=41;break;case 15:if(!a.some(function(e){return e.mealName===n})){e.next=25;break}alert("Product already registered"),this.setState({productID:"",categoryName:"",categoryCode:"",categoryTypes:"",productName:"",productSellingPrice:"",productUnit:"",productType:"",productTypeID:"",binNum:"",pieces:"",productTypeData:"",unitsData:"",reOrderLevel:"",entryDate:""}),fetch("".concat(bs),{method:"GET"}).then(function(e){return e.json()}).then(function(e){c.setState({categoryTypes:e})}),fetch("".concat(vs),{method:"GET"}).then(function(e){return e.json()}).then(function(e){c.setState({productTypeData:e})}),fetch("".concat(gs),{method:"GET"}).then(function(e){return e.json()}).then(function(e){c.setState({unitsData:e})}),fetch("".concat(ys),{method:"GET"}).then(function(e){return e.json()}).then(function(e){c.setState({barMenuData:e}),e.map(function(e){var t=parseInt(e._id),a=Math.max(t)+1;return c.setState({barMenuID:a}),"ok"})}),this.myTimer=setTimeout(function(){c.setState({_id:Math.floor(1e7*Math.random())})},1e3),e.next=41;break;case 25:return e.next=27,fetch("".concat("https://zarvichdemo.localto.net/addProduct"),{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(s)});case 27:if(r=e.sent,console.log("result>  "+r),"Drink Store"!==this.state.categoryName){e.next=34;break}return e.next=32,fetch("".concat("https://zarvichdemo.localto.net/postDrinksMenu"),{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(o)});case 32:l=e.sent,console.log("result2>  "+l);case 34:alert(this.state.productName+" Added"),this.setState({productID:"",productName:"",productUnit:"",productTypeData:"",productSellingPrice:"",productType:"",productTypeID:"",binNum:"",reOrderLevel:"",entryDate:"",categoryName:"",categoryCode:"",categoryTypes:"",unitsData:"",productsData:"",pieces:"",barMenuID:"",barMenuData:""}),fetch("".concat(bs),{method:"GET"}).then(function(e){return e.json()}).then(function(e){c.setState({categoryTypes:e})}),fetch("".concat(gs),{method:"GET"}).then(function(e){return e.json()}).then(function(e){c.setState({unitsData:e})}),fetch("".concat(Es),{method:"GET"}).then(function(e){return e.json()}).then(function(e){c.setState({productsData:e})}),fetch("".concat(ys),{method:"GET"}).then(function(e){return e.json()}).then(function(e){c.setState({barMenuData:e}),e.map(function(e){var t=parseInt(e._id),a=Math.max(t)+1;return c.setState({barMenuID:a}),"ok"})}),this.myTimer=setTimeout(function(){c.setState({_id:Math.floor(1e7*Math.random())})},1e3);case 41:e.next=46;break;case 43:e.prev=43,e.t0=e.catch(0),console.log(e.t0);case 46:case"end":return e.stop()}},e,this,[[0,43]])}));return function(){return e.apply(this,arguments)}}()},{key:"deptUpdate",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o,r,l=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.state.productID,a=parseInt(this.state.UseID),n={mealTypeID:parseInt("".concat(this.state.productTypeID)),mealName:"".concat(this.state.productName),mealPrice:"".concat(this.state.productSellingPrice),mealQt:1,mealType:"".concat(this.state.productType),categoryID:parseInt("".concat(this.state.productTypeID)),category:"".concat(this.state.productType)},s={productName:"".concat(this.state.productName),productUnit:"".concat(this.state.productUnit),productType:"".concat(this.state.productType),productTypeID:"".concat(this.state.productTypeID),categoryName:"".concat(this.state.categoryName),catgoryID:"".concat(this.state.catgoryID),binNum:"".concat(this.state.binNum),reOrderLevel:"".concat(this.state.reOrderLevel),entryDate:"".concat(this.state.entryDate),pieces:"".concat(this.state.pieces),productSellingPrice:parseInt("".concat(this.state.productSellingPrice)),name:localStorage.getItem("userInfo")},e.next=7,fetch("".concat("https://zarvichdemo.localto.net/editproduct","/").concat(t),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(s)});case 7:return o=e.sent,console.log("result>  "+o),e.next=11,fetch("".concat("https://zarvichdemo.localto.net/editDrinksMenu","/").concat(a),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)});case 11:r=e.sent,console.log("editProd>  "+r),alert(this.state.productName+" updated"),this.setState({productID:"",productName:"",productUnit:"",productType:"",productTypeID:"",productSellingPrice:"",productTypeData:"",binNum:"",reOrderLevel:"",entryDate:"",categoryName:"",categoryCode:"",pieces:""}),fetch("".concat(Es),{method:"GET"}).then(function(e){return e.json()}).then(function(e){l.setState({productsData:e}),fetch("".concat(vs),{method:"GET"}).then(function(e){return e.json()}).then(function(e){l.setState({productTypeData:e})})}),this.myTimer=setTimeout(function(){l.setState({_id:Math.floor(1e7*Math.random())})},1e3),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),console.log(e.t0);case 22:case"end":return e.stop()}},e,this,[[0,19]])}));return function(){return e.apply(this,arguments)}}()},{key:"renderCategoryTypes",value:function(e){if(e)return e.map(function(t){return e.sort(function(e,t){return e.categoryName-t.categoryName}),s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{key:t._id,value:t.categoryName},t.categoryName))})}},{key:"renderProductUnits",value:function(e){if(e)return e.map(function(t){return e.sort(function(e,t){return e.unit-t.unit}),s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{key:t._id,value:t.unit},t.unit))})}},{key:"renderProducts",value:function(e){if(e)return e.map(function(t){return e.sort(function(e,t){return e.unit-t.unit}),s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{key:t._id,value:t.productName},t.productName))})}},{key:"render",value:function(){var e=this;return console.log(">>> Inside Grpdetails",this.state),null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement(Wn,null)):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"background990ib"},s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-3"},s.a.createElement("h4",{style:{color:"silver",marginLeft:"50px",marginBottom:"-50px"}},"Register New Products")),s.a.createElement("div",{className:"col-6"},s.a.createElement("h6",{style:{color:"purple",marginLeft:"480px",marginBottom:"-50px"}},"Welcome, ",localStorage.getItem("userInfo").split(" ")[0]," ")),s.a.createElement("div",{className:"col-3"},s.a.createElement("h6",{type:"button",style:{color:"yellow",marginLeft:"180",textAlign:"left",marginBottom:"-50px"},onClick:function(){return e.logout()}},"Logout "))),s.a.createElement("h4",{style:{color:"rgb(23, 23, 71)",marginLeft:"50px",marginBottom:"-40px"}}," "),s.a.createElement("div",{className:"formdesign510b"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-3"},s.a.createElement("select",{className:"form-select  mb-3 formsize51",name:"categoryName",onChange:this.handleChange2},s.a.createElement("option",{defaultValue:""},"Select Category"),this.renderCategoryTypes(this.state.categoryTypes))),s.a.createElement("div",{className:"col-3"},s.a.createElement("p",{type:"text",className:"form-control mb-3 formsize51 ikem",name:"productID",require:!0,placeholder:"Enter Product ID"},this.state.productID)),s.a.createElement("div",{className:"col-3"},s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize51",name:"productName",require:!0,placeholder:"Enter Product Name",value:this.state.productName,list:"products",onChange:this.handleChange5}),s.a.createElement("datalist",{id:"products"},this.renderProducts(this.state.productsData))),s.a.createElement("div",{className:"col-3"},s.a.createElement("select",{className:"form-select  mb-3 formsize51 col-3",name:"productUnit",onChange:this.handleChange4},s.a.createElement("option",{selected:""},"Select Unit"),this.renderProductUnits(this.state.unitsData),s.a.createElement("option",{defaultValue:""},"Add New")))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-3"},s.a.createElement("select",{disabled:"Drink Store"!==this.state.categoryName,className:"form-select  mb-3 formsize51",name:"productType",require:!0,placeholder:"ProdType",onChange:this.handleChange12b},s.a.createElement("option",{defaultValue:""},"Product Type"),this.renderProductType2(this.state.productTypeData))),s.a.createElement("div",{className:"col-3"},s.a.createElement("p",{type:"text",className:"form-control mb-3 formsize51 ikem"},this.state.productTypeID)),s.a.createElement("div",{className:"col-3"},s.a.createElement("input",{type:"number",disabled:"Drink Store"!==this.state.categoryName,className:"form-control mb-3 formsize51",name:"pieces",list:"pieces",require:!0,placeholder:"Pieces per unit",value:this.state.pieces,onChange:this.handleChange}),s.a.createElement("datalist",{id:"pieces"},this.renderPieces(this.state.piecesData))),s.a.createElement("div",{className:"col-3"},s.a.createElement("input",{type:"number",disabled:"Drink Store"!==this.state.categoryName,className:"form-control mb-3 formsize51",name:"productSellingPrice",require:!0,placeholder:"Enter Selling Price",value:this.state.productSellingPrice,onChange:this.handleChange}))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-3"},s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize51",name:"binNum",require:!0,placeholder:"Enter Bin Number",value:this.state.binNum,onChange:this.handleChange})),s.a.createElement("div",{className:"col-3"},s.a.createElement("input",{type:"number",className:"form-control mb-3 formsize51",name:"reOrderLevel",require:!0,placeholder:"Enter Re-Order Level",value:this.state.reOrderLevel,onChange:this.handleChange})),s.a.createElement("div",{className:"col-3"},s.a.createElement("label",null,this.rendercheckinDate(this.state.entryDate)))),s.a.createElement("center",null,s.a.createElement("br",null),s.a.createElement("span",null,s.a.createElement("button",{disabled:""===this.state.productName||""===this.state.productUnit||""===this.state.entryDate||""===this.state.binNum,className:"btn btn-warning",onClick:function(){return e.handleSubmit()}},"Add New"),s.a.createElement("button",{disabled:0!==this.state.categoryName.length||"Select Category"===this.state.categoryName,className:"btn btn-warning gap",onClick:function(){return e.onOpenModaledit()}},"Edit Products"),s.a.createElement("button",{className:"btn btn-danger gap",onClick:function(){return e.props.history.push("/storeMenu")}},"Close")))),s.a.createElement("br",null))),s.a.createElement(v.a,{open:this.state.edit,onClose:function(){return e.onCloseModaledit()},style:{color:"silver"}},s.a.createElement("div",{className:"background591"},s.a.createElement("h4",{style:{color:"silver",marginLeft:"50px",marginBottom:"-70px"}},"Edit Product"),s.a.createElement("div",{className:"formdesign511"},s.a.createElement("div",{className:"container"},s.a.createElement("select",{className:"form-select  mb-3 formsize51 col-3",name:"searchproductName",onChange:this.handleChange3},s.a.createElement("option",{defaultValue:""},"Select Product"),this.renderProducts(this.state.productsData)),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-3"},s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize51",name:"productName",require:!0,placeholder:"Product Name",value:this.state.productName,onChange:this.handleChange})),s.a.createElement("div",{className:"col-3"},s.a.createElement("p",{type:"text",className:"form-control mb-3 formsize51 ikem",name:"productID",require:!0,placeholder:"Product ID"},this.state.productID)),s.a.createElement("div",{className:"col-3"},s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize51",name:"productType",require:!0,placeholder:"ProdType",list:"types",value:this.state.productType,onChange:this.handleChange}),s.a.createElement("datalist",{id:"types"},this.renderProductType2(this.state.productTypeData))),s.a.createElement("div",{className:"col-3"},s.a.createElement("p",{type:"text",className:"form-control mb-3 formsize51 ikem"},this.state.productTypeID))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-3"},s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize51",name:"categoryName",require:!0,placeholder:"Product Category",value:this.state.categoryName,onChange:this.handleChange})),s.a.createElement("div",{className:"col-3"},s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize51",name:"productUnit",require:!0,placeholder:"Product Unit",list:"unit",value:this.state.productUnit,onChange:this.handleChange111}),s.a.createElement("datalist",{id:"unit"},this.renderProductUnits(this.state.unitsData))),s.a.createElement("div",{className:"col-3"},s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize51",name:"binNum",require:!0,placeholder:"Bin Number",value:this.state.binNum,onChange:this.handleChange})),s.a.createElement("div",{className:"col-3"},s.a.createElement("input",{type:"number",className:"form-control mb-3 formsize51",name:"pieces",list:"pieces",require:!0,placeholder:"Pieces per unit",value:this.state.pieces,onChange:this.handleChange}),s.a.createElement("datalist",{id:"pieces"},this.renderPieces(this.state.piecesData))),s.a.createElement("div",{className:"col-3"},s.a.createElement("input",{type:"number",disabled:"Drink Store"!==this.state.categoryName,className:"form-control mb-3 formsize51",name:"productSellingPrice",require:!0,placeholder:"Enter Selling Price",value:this.state.productSellingPrice,onChange:this.handleChange})),s.a.createElement("div",{className:"col-3"},s.a.createElement("label",null,this.rendercheckinDate(this.state.entryDate)))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("center",null,s.a.createElement("span",null,s.a.createElement("button",{disabled:""===this.state.productName||""===this.state.productUnit,className:"btn btn-warning gap",onClick:function(){return e.deptUpdate()}},"Save Update"),s.a.createElement("button",{disabled:""===this.state.productName||""===this.state.productUnit,className:"btn btn-warning gap",onClick:function(){return e.deletedept()}},"Delete Product"),s.a.createElement("button",{className:"btn btn-danger gap",onClick:function(){return e.onCloseModaledit()}},"Close"))),s.a.createElement("br",null))))),s.a.createElement(v.a,{open:this.state.editunit,onClose:function(){return e.onCloseModaleditunit()}},s.a.createElement("div",null,s.a.createElement(fs,null)),s.a.createElement("br",null),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-danger gap",onClick:function(){return e.onCloseModaleditunit()}},"Close")))))}},{key:"componentDidMount",value:function(){var e=this;console.log(">>> Inside GrpDidMount",this.state),fetch("".concat(bs),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({categoryTypes:t})}),fetch("".concat(gs),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({unitsData:t})}),fetch("".concat(Es),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({productsData:t})}),fetch("".concat(ys),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({barMenuData:t}),t.map(function(t){var a=parseInt(t._id),n=Math.max(a)+1;return e.setState({barMenuID:n}),"ok"})}),fetch("".concat("https://zarvichdemo.localto.net/storeUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({loginDetails:t})}),this.myTimer=setTimeout(function(){var t=e.state.loginDetails,a=e.state.name;t.some(function(e){return e.name===a})?e.setState({Blogin:!0}):e.setState({Blogin:!1})},1e3)}}]),a}(n.Component),Ts="https://zarvichdemo.localto.net/products?getproductName=",Cs="https://zarvichdemo.localto.net/products?uniqueCat=",ks="https://zarvichdemo.localto.net/storeTypes?storeName=",Is="https://zarvichdemo.localto.net/storeTran?tranProdName=",js="https://zarvichdemo.localto.net/stockOutNow?sivProdName=",xs="https://zarvichdemo.localto.net/vendors?name=",Ms="https://zarvichdemo.localto.net/storeTran?grvNumber=",Os=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value))},n.handleChange5=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value));var t=0+parseInt(n.state.productPrice)*parseInt(e.target.value)*parseInt(n.state.pieces);n.setState({productValue:t})},n.handleChange6=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value)),fetch("".concat(Ms).concat(e.target.value),{method:"GET"}).then(function(e){return e.json()}).then(function(t){t.map(function(e){return n.setState({categoryName:e.categoryName,grvNum:e.grvNum,productName:e.productName,productID:e.productID,productPrice:e.productPrice,productUnit:e.productUnit,qtyIn:e.qtyIn,productValue:e.productValue,vendorID:e.vendorID,vendorName:e.vendorName,invoiceDate:new Date(e.invoiceDate),invoiceNum:e.invoiceNum,supplyDate:e.supplyDate,transDate:new Date(e.transDate),remark:e.remark,orderNum:e.orderNum}),"ok"});var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.qtyIn)},0);n.setState({totalIn:a}),fetch("".concat(js).concat(e.target.value),{method:"GET"}).then(function(e){return e.json()}).then(function(e){var t=e.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.qtyOut)},0);n.setState({totalOut:t})}),n.myTimer=setTimeout(function(){var e=0+parseInt(n.state.totalIn)-parseInt(n.state.totalOut);n.setState({totalProductBalance:e})},1e3)})},n.handleChange4=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value)),fetch("".concat(xs).concat(e.target.value),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return n.setState({vendorID:e.vendorID}),"ok"})})},n.handleChange8=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value)),fetch("".concat(Cs).concat(e.target.value),{method:"GET"}).then(function(e){return e.json()}).then(function(e){n.setState({productsData:e})})},n.handleChange2=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value)),fetch("".concat(Ts).concat(e.target.value),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return n.setState({categoryName:e.categoryName,categoryID:e.categoryID,productID:e.productID,productUnit:e.productUnit,pieces:e.pieces}),"ok"})}),fetch("".concat(Is).concat(e.target.value),{method:"GET"}).then(function(e){return e.json()}).then(function(e){n.setState({transactionsData:e});var t=e.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.qtyIn)},0);n.setState({totalIn:t})}),fetch("".concat(js).concat(e.target.value),{method:"GET"}).then(function(e){return e.json()}).then(function(e){var t=e.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.qtyOut)},0);n.setState({totalOut:t})}),n.myTimer=setTimeout(function(){var e=0+parseInt(n.state.totalIn)-parseInt(n.state.totalOut);n.setState({totalProductBalance:e})},1e3),""===n.state.productName&&n.setState({categoryName:"",categoryID:"",productID:"",productPrice:"",productUnit:""})},console.log(">>> inside GrpCobtructor",e),n.state={_id:Math.floor(1e7*Math.random()),categoryName:"",grvNum:"",productName:"",productID:"",productPrice:"",productUnit:"",qtyIn:"",productValue:0,totalIn:0,totalOut:0,totalProductBalance:0,vendorName:"",vendorID:"",invoiceDate:"",invoiceNum:"",supplyDate:new Date,transDate:new Date,remark:"",qtyOut:0,orderNum:"",productsData:"",uniqueProductData:"",transactionsData:"",vendorData:"",categoryData:"",edit:!1,loginDetails:"",name:localStorage.getItem("userInfo"),login:"",Blogin:"",placeholder:""},n.checkinhandleChange=n.checkinhandleChange.bind(Object(f.a)(n)),n}return Object(p.a)(a,[{key:"onOpenModaledit",value:function(){this.setState({edit:!0})}},{key:"onCloseModaledit",value:function(){var e=this;this.setState({edit:!1}),this.setState({categoryName:"",categoryID:"",grvNum:"",productName:"",productID:"",productPrice:"",productUnit:"",qtyIn:"",productValue:0,totalIn:0,totalOut:0,totalProductBalance:0,productsData:"",vendorName:"",vendorData:"",vendorID:"",invoiceDate:"",invoiceNum:"",remark:"",qtyOut:0,orderNum:""}),fetch("".concat(Ts),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({productsData:t})}),fetch("".concat(Ts),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({productsData:t})}),fetch("".concat(xs),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({vendorData:t})}),this.myTimer=setTimeout(function(){e.setState({_id:Math.floor(1e7*Math.random())})},1e3),fetch("".concat(Is),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({transactionsData:t});var a=e.state.transactionsData;e.myTimer=setTimeout(function(){if(0===e.state.transactionsData.length){var t=parseInt(3e6),n=Math.max(t);e.setState({grvNum:n})}else a.map(function(t){var a=parseInt(t.grvNum),n=Math.max(a)+1;return e.setState({grvNum:n}),"ok"})},1e3)})}},{key:"checkinhandleChange",value:function(e){this.setState({invoiceDate:e})}},{key:"rendercheckinDate",value:function(){return s.a.createElement("div",null,s.a.createElement(y.a,{selected:this.state.invoiceDate,onChange:this.checkinhandleChange,maxDate:Object(N.default)(new Date,1),dropdownMode:"select",dateFormat:"MMM/d/ yyyy",placeholderText:"Invoice Date",className:"form-control mb-3 formsize51"}))}},{key:"logout",value:function(){localStorage.removeItem("userInfo"),this.setState({login:!0})}},{key:"deletedept",value:function(){var e=this;fetch("".concat("https://zarvichdemo.localto.net/delstoreTran","/").concat(this.state.grvNum),{method:"delete"}),alert("Product Deleted"),this.setState({categoryName:"",categoryID:"",grvNum:"",productName:"",productID:"",productPrice:"",productUnit:"",qtyIn:"",productValue:0,totalIn:0,totalOut:0,totalProductBalance:0,productsData:"",vendorName:"",vendorData:"",vendorID:"",invoiceDate:"",invoiceNum:"",remark:"",qtyOut:0,orderNum:""}),fetch("".concat(Ts),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({productsData:t})}),fetch("".concat(Ts),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({productsData:t})}),fetch("".concat(xs),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({vendorData:t})}),this.myTimer=setTimeout(function(){e.setState({_id:Math.floor(1e7*Math.random())})},1e3),fetch("".concat(Is),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({transactionsData:t});var a=e.state.transactionsData;e.myTimer=setTimeout(function(){if(0===e.state.transactionsData.length){var t=parseInt(3e6),n=Math.max(t);e.setState({grvNum:n})}else a.map(function(t){var a=parseInt(t.grvNum),n=Math.max(a)+1;return e.setState({grvNum:n}),"ok"})},1e3)})}},{key:"handleSubmit",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=this.state.transactionsData,a=this.state.grvNum,n={_id:"".concat(this.state._id),categoryName:"".concat(this.state.categoryName),grvNum:"".concat(this.state.grvNum),productName:"".concat(this.state.productName),productID:"".concat(this.state.productID),productPrice:"".concat(this.state.productPrice),productUnit:"".concat(this.state.productUnit),qtyIn:"".concat(this.state.qtyIn),productValue:"".concat(this.state.productValue),vendorID:"".concat(this.state.vendorID),vendorName:"".concat(this.state.vendorName),invoiceDate:"".concat(this.state.invoiceDate),invoiceNum:"".concat(this.state.invoiceNum),supplyDate:"".concat(this.state.supplyDate),transDate:k()("".concat(this.state.transDate)).format("MMM DD YYYY"),remark:"".concat(this.state.remark),orderNum:"".concat(this.state.orderNum),name:localStorage.getItem("userInfo")},!t.some(function(e){return e.grvNum===a})){e.next=10;break}alert(this.state.productName+" already received"),fetch("".concat(Is),{method:"GET"}).then(function(e){return e.json()}).then(function(e){o.setState({transactionsData:e});var t=o.state.transactionsData;o.myTimer=setTimeout(function(){if(0===o.state.transactionsData.length){var e=parseInt(3e6),a=Math.max(e);o.setState({grvNum:a})}else t.map(function(e){var t=parseInt(e.grvNum),a=Math.max(t)+1;return o.setState({grvNum:a}),"ok"})},1e3)}),this.myTimer=setTimeout(function(){o.setState({_id:Math.floor(1e7*Math.random())})},1e3),e.next=21;break;case 10:return e.next=12,fetch("".concat("https://zarvichdemo.localto.net/stockInNow"),{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)});case 12:s=e.sent,console.log("result>  "+s),alert(this.state.productName+" Added"),this.setState({categoryName:"",categoryData:"",categoryID:"",grvNum:"",productName:"",pieces:"",productID:"",productPrice:"",productUnit:"",qtyIn:"",productValue:0,totalIn:0,totalOut:0,totalProductBalance:0,productsData:"",vendorName:"",vendorData:"",vendorID:"",invoiceDate:"",invoiceNum:"",remark:"",qtyOut:0,orderNum:""}),fetch("".concat(Ts),{method:"GET"}).then(function(e){return e.json()}).then(function(e){o.setState({productsData:e})}),fetch("".concat(xs),{method:"GET"}).then(function(e){return e.json()}).then(function(e){o.setState({vendorData:e})}),fetch("".concat(ks),{method:"GET"}).then(function(e){return e.json()}).then(function(e){o.setState({categoryData:e})}),this.myTimer=setTimeout(function(){o.setState({_id:Math.floor(1e7*Math.random())})},1e3),fetch("".concat(Is),{method:"GET"}).then(function(e){return e.json()}).then(function(e){o.setState({transactionsData:e});var t=o.state.transactionsData;o.myTimer=setTimeout(function(){if(0===o.state.transactionsData.length){var e=parseInt(3e6),a=Math.max(e);o.setState({grvNum:a})}else t.map(function(e){var t=parseInt(e.grvNum),a=Math.max(t)+1;return o.setState({grvNum:a}),"ok"})},1e3)});case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(0),console.log(e.t0);case 26:case"end":return e.stop()}},e,this,[[0,23]])}));return function(){return e.apply(this,arguments)}}()},{key:"deptUpdate",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.state.grvNum,a={_id:"".concat(this.state._id),categoryName:"".concat(this.state.categoryName),grvNum:"".concat(this.state.grvNum),productName:"".concat(this.state.productName),productID:"".concat(this.state.productID),productPrice:"".concat(this.state.productPrice),productUnit:"".concat(this.state.productUnit),qtyIn:"".concat(this.state.qtyIn),productValue:"".concat(this.state.productValue),vendorID:"".concat(this.state.vendorID),vendorName:"".concat(this.state.vendorName),invoiceDate:"".concat(this.state.invoiceDate),invoiceNum:"".concat(this.state.invoiceNum),supplyDate:"".concat(this.state.supplyDate),transDate:k()("".concat(this.state.transDate)).format("MMM DD YYYY"),remark:"".concat(this.state.remark),orderNum:"".concat(this.state.orderNum)},e.next=5,fetch("".concat("https://zarvichdemo.localto.net/editstockIn","/").concat(t),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(a)});case 5:n=e.sent,console.log("result>  "+n),alert(this.state.productName+" updated"),this.setState({categoryName:"",categoryID:"",grvNum:"",productName:"",productID:"",productPrice:"",productUnit:"",qtyIn:"",productValue:0,totalIn:0,totalOut:0,totalProductBalance:0,productsData:"",vendorName:"",vendorData:"",vendorID:"",invoiceDate:"",invoiceNum:"",remark:"",qtyOut:0,orderNum:"",transactionsData:""}),fetch("".concat(Ts),{method:"GET"}).then(function(e){return e.json()}).then(function(e){s.setState({productsData:e})}),fetch("".concat(xs),{method:"GET"}).then(function(e){return e.json()}).then(function(e){s.setState({vendorData:e})}),fetch("".concat(Is),{method:"GET"}).then(function(e){return e.json()}).then(function(e){s.setState({transactionsData:e})}),this.myTimer=setTimeout(function(){s.setState({_id:Math.floor(1e7*Math.random())})},1e3),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}},e,this,[[0,15]])}));return function(){return e.apply(this,arguments)}}()},{key:"renderVendor",value:function(e){if(e)return e.map(function(t){return e.sort(function(e,t){return e.vendorName-t.vendorName}),s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{key:t._id,value:t.vendorName},t.vendorName))})}},{key:"renderstockIndata",value:function(e){if(e)return e.map(function(t){return e.sort(function(e,t){return e.productName-t.productName}),s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{key:t._id,value:t.grvNum},"Name: ",t.productName," | SRV Num: ",t.grvNum," | Value: ",t.productValue))})}},{key:"renderProducts",value:function(e){if(e)return e.map(function(t){return e.sort(function(e,t){return e.unit-t.unit}),s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{key:t._id,value:t.productName},t.productName))})}},{key:"renderCategories",value:function(e){if(e)return e.map(function(t){return e.sort(function(e,t){return e.categoryName-t.categoryName}),s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{key:t._id,value:t.categoryName},t.categoryName))})}},{key:"render",value:function(){var e=this;return console.log(">>> Inside Grpdetails",this.state),null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement(Wn,null)):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"background990ib"},s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-3"},s.a.createElement("h4",{style:{color:"silver",marginLeft:"50px",marginBottom:"-50px"}},"Stock In Products")),s.a.createElement("div",{className:"col-6"},s.a.createElement("h6",{style:{color:"purple",marginLeft:"480px",marginBottom:"-50px"}},"Welcome, ",localStorage.getItem("userInfo").split(" ")[0]," ")),s.a.createElement("div",{className:"col-3"},s.a.createElement("h6",{type:"button",style:{color:"yellow",marginLeft:"180",textAlign:"left",marginBottom:"-50px"},onClick:function(){return e.logout()}},"Logout "))),s.a.createElement("h4",{style:{color:"rgb(23, 23, 71)",marginLeft:"50px",marginBottom:"-40px"}}," "),s.a.createElement("div",{className:"formdesign510b"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-3"},s.a.createElement("select",{className:"form-select  mb-3 formsize51",name:"categoryName",onChange:this.handleChange8},s.a.createElement("option",{defaultValue:""},"Select Category"),this.renderCategories(this.state.categoryData))),s.a.createElement("div",{className:"col-3"},s.a.createElement("select",{className:"form-select  mb-3 formsize51",name:"productName",onChange:this.handleChange2},s.a.createElement("option",{defaultValue:""},"Select Product"),this.renderProducts(this.state.productsData))),s.a.createElement("div",{className:"col-3"},s.a.createElement("input",{type:"number",className:"form-control mb-3 formsize51",name:"productPrice",require:!0,placeholder:"Enter Cost Price",value:this.state.productPrice,onChange:this.handleChange})),s.a.createElement("div",{className:"col-3"},s.a.createElement("input",{type:"number",className:"form-control mb-3 formsize51",name:"qtyIn",require:!0,placeholder:"Enter Qty Supplied",value:this.state.qtyIn,onChange:this.handleChange5}))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-3"},s.a.createElement("select",{className:"form-select  mb-3 formsize51",name:"vendorName",onChange:this.handleChange4},s.a.createElement("option",{defaultValue:""},"Select Vendor"),this.renderVendor(this.state.vendorData))),s.a.createElement("div",{className:"col-3"},s.a.createElement("label",null,this.rendercheckinDate(this.state.invoiceDate))),s.a.createElement("div",{className:"col-3"},s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize51",name:"invoiceNum",require:!0,placeholder:"Invoice Number",value:this.state.invoiceNum,onChange:this.handleChange})),s.a.createElement("div",{className:"col-3"},s.a.createElement("textarea",{rows:"2",className:"form-control mb-3 formsize51",name:"remark",require:!0,placeholder:"Remark",value:this.state.remark,onChange:this.handleChange}))),s.a.createElement("hr",null),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-3"},s.a.createElement("label",null,"SRV Num"),s.a.createElement("p",{type:"text",className:"form-control mb-3 formsize51 ikem"},this.state.grvNum)),s.a.createElement("div",{className:"col-3"},s.a.createElement("label",null,"Product ID"),s.a.createElement("p",{type:"text",className:"form-control mb-3 formsize51 ikem"},this.state.productID)),s.a.createElement("div",{className:"col-3"},s.a.createElement("label",null,"Product Unit"),s.a.createElement("p",{type:"text",className:"form-control mb-3 formsize51 ikem"},this.state.productUnit)),s.a.createElement("div",{className:"col-3"},s.a.createElement("label",null,"Pieces Per Unit"),s.a.createElement("p",{type:"text",className:"form-control mb-3 formsize51 ikem"},this.state.pieces)),s.a.createElement("div",{className:"col-3"},s.a.createElement("label",null,"Product Value"),s.a.createElement("p",{type:"text",className:"form-control mb-3 formsize51 ikem"},s.a.createElement(E.a,{value:this.state.productValue,thousandSeparator:!0,displayType:"text"}))),s.a.createElement("div",{className:"col-3"},s.a.createElement("label",null,"Vendor ID"),s.a.createElement("p",{type:"text",className:"form-control mb-3 formsize51 ikem"},this.state.vendorID)),s.a.createElement("div",{className:"col-3"},s.a.createElement("label",null,"Total In"),s.a.createElement("p",{type:"text",className:"form-control mb-3 formsize51 ikem"},this.state.totalIn)),s.a.createElement("div",{className:"col-3"},s.a.createElement("label",null,"Total Out"),s.a.createElement("p",{type:"text",className:"form-control mb-3 formsize51 ikem"},this.state.totalOut)),s.a.createElement("div",{className:"col-3"},s.a.createElement("label",null,"Total Product Balance"),s.a.createElement("p",{type:"text",className:"form-control mb-3 formsize51 ikem"},this.state.totalProductBalance))),s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("br",null),s.a.createElement("span",null,s.a.createElement("button",{disabled:""===this.state.productName||""===this.state.productPrice||""===this.state.qtyIn,className:"btn btn-warning",onClick:function(){return e.handleSubmit()}},"Stock In"),s.a.createElement("button",{disabled:""!==this.state.productID,className:"btn btn-warning gap",onClick:function(){return e.onOpenModaledit()}},"Edit Products"),s.a.createElement("button",{className:"btn btn-danger gap",onClick:function(){return e.props.history.push("/storeMenu")}},"Close")))),s.a.createElement("br",null))),s.a.createElement(v.a,{open:this.state.edit,onClose:function(){return e.onCloseModaledit()},style:{color:"silver"}},s.a.createElement("div",{className:"background591stockin"},s.a.createElement("h4",{style:{color:"silver",marginLeft:"50px",marginBottom:"-70px"}},"Edit Stock In"),s.a.createElement("div",{className:"formdesign511"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-3"},s.a.createElement("select",{className:"form-select  mb-3 formsize51",name:"grvNum",onChange:this.handleChange6},s.a.createElement("option",{defaultValue:""},"Select Product"),this.renderstockIndata(this.state.transactionsData))),s.a.createElement("div",{className:"col-3"},s.a.createElement("input",{type:"number",className:"form-control mb-3 formsize51",name:"productPrice",require:!0,placeholder:"Enter Cost Price",value:this.state.productPrice,onChange:this.handleChange})),s.a.createElement("div",{className:"col-3"},s.a.createElement("input",{type:"number",className:"form-control mb-3 formsize51",name:"qtyIn",require:!0,placeholder:"Enter Quantity",value:this.state.qtyIn,onChange:this.handleChange5})),s.a.createElement("div",{className:"col-3"},s.a.createElement("p",{type:"text",className:"form-control mb-3 formsize51 ikem"},this.state.grvNum))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-3"},s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize51",name:"vendorName",require:!0,placeholder:"Vendor",value:this.state.vendorName,list:"vendors",onChange:this.handleChange}),s.a.createElement("datalist",{id:"vendors"},this.renderVendor(this.state.vendorData))),s.a.createElement("div",{className:"col-3"},s.a.createElement("label",null,this.rendercheckinDate(this.state.invoiceDate))),s.a.createElement("div",{className:"col-3"},s.a.createElement("p",{type:"text",className:"form-control mb-3 formsize51 ikem",name:"invoiceNum",require:!0,placeholder:"Invoice Number"},this.state.invoiceNum)),s.a.createElement("div",{className:"col-3"},s.a.createElement("textarea",{rows:"2",className:"form-control mb-3 formsize51",name:"remark",require:!0,placeholder:"Remark",value:this.state.remark,onChange:this.handleChange}))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-3"},s.a.createElement("label",null,"Category"),s.a.createElement("p",{type:"text",className:"form-control mb-3 formsize51 ikem"},this.state.categoryName)),s.a.createElement("div",{className:"col-3"},s.a.createElement("label",null,"Product ID"),s.a.createElement("p",{type:"text",className:"form-control mb-3 formsize51 ikem"},this.state.productID)),s.a.createElement("div",{className:"col-3"},s.a.createElement("label",null,"Product Unit"),s.a.createElement("p",{type:"text",className:"form-control mb-3 formsize51 ikem"},this.state.productUnit)),s.a.createElement("div",{className:"col-3"},s.a.createElement("label",null,"Product Value"),s.a.createElement("p",{type:"text",className:"form-control mb-3 formsize51 ikem"},this.state.productValue)),s.a.createElement("div",{className:"col-3"},s.a.createElement("label",null,"Vendor ID"),s.a.createElement("p",{type:"text",className:"form-control mb-3 formsize51 ikem"},this.state.vendorID)),s.a.createElement("div",{className:"col-3"},s.a.createElement("label",null,"Total In"),s.a.createElement("p",{type:"text",className:"form-control mb-3 formsize51 ikem"},this.state.totalIn)),s.a.createElement("div",{className:"col-3"},s.a.createElement("label",null,"Total Out"),s.a.createElement("p",{type:"text",className:"form-control mb-3 formsize51 ikem"},this.state.totalOut)),s.a.createElement("div",{className:"col-3"},s.a.createElement("label",null,"Balance"),s.a.createElement("p",{type:"text",className:"form-control mb-3 formsize51 ikem"},this.state.totalProductBalance))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("center",null,s.a.createElement("span",null,s.a.createElement("button",{disabled:""===this.state.productName||""===this.state.productPrice||""===this.state.productUnit,className:"btn btn-warning gap",onClick:function(){return e.deptUpdate()}},"Save Update"),s.a.createElement("button",{disabled:""===this.state.productName||""===this.state.productPrice||""===this.state.productUnit,className:"btn btn-warning gap",onClick:function(){return e.deletedept()}},"Delete Product"),s.a.createElement("button",{className:"btn btn-danger gap",onClick:function(){return e.onCloseModaledit()}},"Close"))),s.a.createElement("br",null))))))}},{key:"componentDidMount",value:function(){var e=this;console.log(">>> Inside GrpDidMount",this.state),fetch("".concat(ks),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({categoryData:t})}),fetch("".concat(Is),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({transactionsData:t});var a=e.state.transactionsData;e.myTimer=setTimeout(function(){if(0===e.state.transactionsData.length){var t=parseInt(3e6),n=Math.max(t);e.setState({grvNum:n})}else a.map(function(t){var a=parseInt(t.grvNum),n=Math.max(a)+1;return e.setState({grvNum:n}),"ok"})},1e3)}),fetch("".concat(xs),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({vendorData:t})}),fetch("".concat("https://zarvichdemo.localto.net/storeUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({loginDetails:t})}),this.myTimer=setTimeout(function(){var t=e.state.loginDetails,a=e.state.name;t.some(function(e){return e.name===a})?e.setState({Blogin:!0}):e.setState({Blogin:!1})},1e3)}}]),a}(n.Component),ws="https://zarvichdemo.localto.net/storeTran",Ps="https://zarvichdemo.localto.net/stockOutNow",Rs=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value))},n.renderStockInData=function(e){if(e)return e.map(function(t){e.sort(function(e,t){return e.supplyDate-t.supplyDate});var a=k()(t.supplyDate).format("MMM DD YYYY");return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:t._id},s.a.createElement("td",{className:"table-light table-striped adjust2"},a),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet"},t.productName),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet"},t.productUnit),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:t.qtyIn,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:t.productPrice,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:t.productValue,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet"},t.vendorName),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet"},t.invoiceNum)))})},n.renderStockOutData=function(e){if(e)return e.map(function(t){e.sort(function(e,t){return e.transDate-t.transDate});var a=k()(t.transDate).format("MMM DD YYYY");return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:t._id},s.a.createElement("td",{className:"table-light table-striped adjust2"},a),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet"},t.productName),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet"},t.productUnit),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:t.qtyOut,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:t.productCostPrice,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:t.productIssueValue,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet"},t.issueDept),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet"},t.productType)))})},console.log(">>> inside GrpCobtructor",e),n.state={AllOpeningstock:"",AllClosingstock:"",CategoryOpeningstock:"",CategoryClosingstock:"",CatStInQty:"",CatStOutQty:"",CategoryStockIn:"",CategoryStockOut:"",categoryName:"",categoryData:"",prodctName:"",productStockInData:"",productStockOutData:"",ProdStInQty:"",ProdStOutQty:"",productNamesData:"",deptName:"",deptStockInData:0,deptStockOutData:"",deptStOutQty:0,deptNamesData:"",startdate:"",endDate:"",show:"hidden",prodshow:"hidden",showcategory:"hidden",showproductName:"hidden",showdeptName:"hidden",showdept:"hidden",loginDetails:"",name:localStorage.getItem("userInfo"),login:"",Blogin:""},n.checkinhandleChange=n.checkinhandleChange.bind(Object(f.a)(n)),n.endhandleChange=n.endhandleChange.bind(Object(f.a)(n)),n}return Object(p.a)(a,[{key:"logout",value:function(){localStorage.removeItem("userInfo"),this.setState({login:!0})}},{key:"cleanupfirst",value:function(){this.setState({CategoryStockIn:"",CatStInQty:"",CategoryStockOut:"",CatStOutQty:""})}},{key:"cleanupNow",value:function(){this.setState({productStockInData:"",productStockOutData:"",ProdStInQty:"",ProdStOutQty:""})}},{key:"cleanupDept",value:function(){this.setState({deptStockInData:"",deptStockOutData:"",deptStOutQty:""})}},{key:"cleanupAllDept",value:function(){this.setState({deptStockInData:"",deptStockOutData:"",deptStOutQty:"",showdept:"hidden"})}},{key:"cleanupAll",value:function(){this.setState({CategoryStockIn:"",CatStInQty:"",CategoryStockOut:"",CatStOutQty:"",show:"hidden"})}},{key:"cleanupAllNow",value:function(){this.setState({productStockInData:"",productStockOutData:"",ProdStInQty:"",ProdStOutQty:"",prodshow:"hidden"})}},{key:"checkinhandleChange",value:function(e){this.setState({startdate:e})}},{key:"endhandleChange",value:function(e){this.setState({endDate:e})}},{key:"renderDate",value:function(){return s.a.createElement("div",null,s.a.createElement(y.a,{selected:this.state.startdate,onChange:this.checkinhandleChange,maxDate:Object(N.default)(new Date,0),dropdownMode:"select",dateFormat:"MMM/d/ yyyy",className:"form-control mb-3 formsize51 alignText112",placeholderText:"Search Start Date"}))}},{key:"renderendDate",value:function(){return s.a.createElement("div",null,s.a.createElement(y.a,{selected:this.state.endDate,onChange:this.endhandleChange,maxDate:new Date,dropdownMode:"select",dateFormat:"MMM/d/ yyyy",className:"form-control mb-3 formsize51",placeholderText:"Search End Date"}))}},{key:"findCategory",value:function(){var e=this,t=k()(this.state.startdate).format("MMM DD YYYY"),a=k()(this.state.endDate).format("MMM DD YYYY"),n="".concat(ws,"?categoryIn=").concat(this.state.categoryName,"&&startDateIn=").concat(t,"&&endDateIn=").concat(a),s="".concat(Ps,"?category=").concat(this.state.categoryName,"&&startDateCat=").concat(t,"&&endDateCat=").concat(a);fetch("".concat(n),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({CategoryStockIn:t});var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.productValue)},0);e.setState({CatStInQty:a})}),fetch("".concat(s),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({CategoryStockOut:t});var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.productIssueValue)},0);e.setState({CatStOutQty:a})}),this.setState({show:"visible"})}},{key:"findProduct",value:function(){var e=this,t=k()(this.state.startdate).format("MMM DD YYYY"),a=k()(this.state.endDate).format("MMM DD YYYY"),n="".concat(ws,"?prodName=").concat(this.state.prodctName,"&&startDateInProd=").concat(t,"&&endDateInProd=").concat(a),s="".concat(Ps,"?prodOutName=").concat(this.state.prodctName,"&&startDateProd=").concat(t,"&&endDateProd=").concat(a);fetch("".concat(n),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({productStockInData:t});var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.productValue)},0);e.setState({ProdStInQty:a})}),fetch("".concat(s),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({productStockOutData:t});var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.productIssueValue)},0);e.setState({ProdStOutQty:a})}),this.setState({prodshow:"visible"})}},{key:"findDept",value:function(){var e=this,t=k()(this.state.startdate).format("MMM DD YYYY"),a=k()(this.state.endDate).format("MMM DD YYYY"),n="".concat(Ps,"?deptOutName=").concat(this.state.deptName,"&&startDateDept=").concat(t,"&&endDateDept=").concat(a);fetch("".concat(n),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({deptStockOutData:t});var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.productIssueValue)},0);e.setState({deptStOutQty:a})}),this.setState({showdept:"visible"})}},{key:"showCat",value:function(){this.setState({showproductName:"hidden",showdeptName:"hidden",showcategory:"visible",deptStockInData:"",deptStockOutData:"",deptStOutQty:"",showdept:"hidden",productStockInData:"",productStockOutData:"",ProdStInQty:"",ProdStOutQty:"",categoryName:"",prodctName:"",deptName:"",prodshow:"hidden",startdate:"",endDate:""})}},{key:"showProd",value:function(){this.setState({showcategory:"hidden",showdeptName:"hidden",showproductName:"visible",CategoryStockIn:"",CatStInQty:"",CategoryStockOut:"",CatStOutQty:"",show:"hidden",deptStockInData:"",deptStockOutData:"",deptStOutQty:"",categoryName:"",prodctName:"",deptName:"",showdept:"hidden",startdate:"",endDate:""})}},{key:"showdept",value:function(){this.setState({showcategory:"hidden",showproductName:"hidden",showdeptName:"visible",CategoryStockIn:"",CatStInQty:"",CategoryStockOut:"",CatStOutQty:"",show:"hidden",productStockInData:"",productStockOutData:"",ProdStInQty:"",ProdStOutQty:"",categoryName:"",prodctName:"",deptName:"",prodshow:"hidden",startdate:"",endDate:""})}},{key:"showNone",value:function(){this.setState({showcategory:"hidden",showproductName:"hidden",showdeptName:"hidden",show:"hidden",prodshow:"hidden",showdept:"hidden",categoryName:"",prodctName:"",deptName:"",startdate:"",endDate:""})}},{key:"renderCategory",value:function(e){if(e)return e.map(function(t){return e.sort(function(e,t){return e.categoryName-t.categoryName}),s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{key:t._id,value:t.categoryName},t.categoryName))})}},{key:"renderProductNames",value:function(e){if(e)return e.map(function(t){return e.sort(function(e,t){return e.productName-t.productName}),s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{key:t._id,value:t.productName},t.productName))})}},{key:"renderdeptNames",value:function(e){if(e)return e.map(function(t){return e.sort(function(e,t){return e.departmentID-t.departmentID}),s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{key:t._id,value:t.departmentName},t.departmentName))})}},{key:"render",value:function(){var e=this;return console.log(">>> Inside Grpdetails",this.state),null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement(Wn,null)):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"background990ib212"},s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-3"},s.a.createElement("h4",{style:{color:"silver",marginLeft:"50px",marginBottom:"-50px"}},"Stock Movement")),s.a.createElement("div",{className:"col-6"},s.a.createElement("h6",{style:{color:"purple",marginLeft:"480px",marginBottom:"-50px"}},"Welcome, ",localStorage.getItem("userInfo").split(" ")[0]," ")),s.a.createElement("div",{className:"col-3"},s.a.createElement("h6",{type:"button",style:{color:"yellow",marginLeft:"180",textAlign:"left",marginBottom:"-50px"},onClick:function(){return e.logout()}},"Logout "))),s.a.createElement("h4",{style:{color:"rgb(23, 23, 71)",marginLeft:"50px",marginBottom:"-40px"}}," "),s.a.createElement("div",{className:"formdesign510b"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-4"},s.a.createElement("label",null,"Total Opening Stock"),s.a.createElement("p",{className:"form-control mb-3 formsize51 ikem",style:{fontSize:"18px"}},s.a.createElement(E.a,{value:parseInt(this.state.AllOpeningstock),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("div",{className:"col-4"},s.a.createElement("label",null,"Total Closing Stock"),s.a.createElement("p",{className:"form-control mb-3 formsize51 ikem",style:{fontSize:"18px"}},s.a.createElement(E.a,{value:parseInt(this.state.AllOpeningstock)-parseInt(this.state.AllClosingstock),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("div",{className:"col-4"},s.a.createElement("label",null,"Total Cost of Sales"),s.a.createElement("p",{className:"form-control mb-3 formsize51 ikem",style:{fontSize:"18px"}},s.a.createElement(E.a,{value:parseInt(this.state.AllClosingstock),thousandSeparator:!0,displayType:"text"})))))),s.a.createElement("center",{className:"mt-3"},s.a.createElement("button",{className:"btn btn-primary",onClick:function(){return e.showCat()}},"Search By Store"),s.a.createElement("button",{className:"btn btn-primary space",onClick:function(){return e.showProd()}},"Search By Product"),s.a.createElement("button",{className:"btn btn-primary space",onClick:function(){return e.showdept()}},"Search By Department"),s.a.createElement("button",{className:"btn btn-danger space",onClick:function(){return e.showNone()}},"Reset"),s.a.createElement("button",{className:"btn btn-warning space",onClick:function(){return e.props.history.push("/storeMenu")}},"Store Menu"),s.a.createElement("button",{className:"btn btn-warning space",onClick:function(){e.props.history.push("/Dashboard")}},"Goto Dashboard")),s.a.createElement("div",{className:this.state.showcategory},s.a.createElement("div",{className:"searchOptions"},s.a.createElement("div",{className:"formdesign510b212"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-4"},s.a.createElement("label",null,"Select Store"),s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize51",name:"categoryName",value:this.state.categoryName,list:"category",onChange:this.handleChange}),s.a.createElement("datalist",{id:"category"},this.renderCategory(this.state.categoryData))),s.a.createElement("div",{className:"col-4"},s.a.createElement("label",null,s.a.createElement("label",null,"Search Start Date")),this.renderDate(this.state.startdate)),s.a.createElement("div",{className:"col-4"},s.a.createElement("label",null,"Search End Date"),this.renderendDate(this.state.endDate)))),s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-primary",onClick:function(){e.cleanupfirst(),e.findCategory()}},"Search"),s.a.createElement("button",{className:"btn btn-danger space",onClick:function(){e.cleanupAll()}},"Reset"))))),s.a.createElement("div",{className:this.state.showproductName},s.a.createElement("div",{className:"searchPlacement"},s.a.createElement("div",{className:"formdesign510b212"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-4"},s.a.createElement("label",null,"Select Product"),s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize51",name:"prodctName",value:this.state.prodctName,list:"product",onChange:this.handleChange}),s.a.createElement("datalist",{id:"product"},this.renderProductNames(this.state.productNamesData))),s.a.createElement("div",{className:"col-4"},s.a.createElement("label",null,s.a.createElement("label",null,"Search Start Date")),this.renderDate(this.state.startdate)),s.a.createElement("div",{className:"col-4"},s.a.createElement("label",null,"Search End Date"),this.renderendDate(this.state.endDate)))),s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-primary",onClick:function(){e.cleanupNow(),e.findProduct()}},"Search"),s.a.createElement("button",{className:"btn btn-danger space",onClick:function(){e.cleanupAllNow()}},"Reset"))))),s.a.createElement("div",{className:this.state.showdeptName},s.a.createElement("div",{className:"searchPlacement"},s.a.createElement("div",{className:"formdesign510b212"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-4"},s.a.createElement("label",null,"Select Department"),s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize51",name:"deptName",value:this.state.deptName,list:"departments",onChange:this.handleChange}),s.a.createElement("datalist",{id:"departments"},this.renderdeptNames(this.state.deptNamesData))),s.a.createElement("div",{className:"col-4"},s.a.createElement("label",null,s.a.createElement("label",null,"Search Start Date")),this.renderDate(this.state.startdate)),s.a.createElement("div",{className:"col-4"},s.a.createElement("label",null,"Search End Date"),this.renderendDate(this.state.endDate)))),s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-primary",onClick:function(){e.cleanupDept(),e.findDept()}},"Search"),s.a.createElement("button",{className:"btn btn-danger space",onClick:function(){e.cleanupAllDept()}},"Reset"))))),s.a.createElement("div",{className:this.state.show},s.a.createElement("div",{className:"formdesign510b212 detailoption"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-4"},s.a.createElement("label",null,this.state.categoryName," Opening Stock"),s.a.createElement("p",{className:"form-control mb-3 formsize51 ikem",style:{fontSize:"18px"}},s.a.createElement(E.a,{value:parseInt(this.state.CatStInQty),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("div",{className:"col-4"},s.a.createElement("label",null,this.state.categoryName," Closing Stock"),s.a.createElement("p",{className:"form-control mb-3 formsize51 ikem",style:{fontSize:"18px"}},s.a.createElement(E.a,{value:parseInt(this.state.CatStInQty)-parseInt(this.state.CatStOutQty),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("div",{className:"col-4"},s.a.createElement("label",null,this.state.categoryName," Cost of Sales"),s.a.createElement("p",{className:"form-control mb-3 formsize51 ikem",style:{fontSize:"18px"}},s.a.createElement(E.a,{value:parseInt(this.state.CatStOutQty),thousandSeparator:!0,displayType:"text"}))))),s.a.createElement("hr",null),s.a.createElement("h6",null,this.state.categoryName," Supply"),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust50"},"Supply Date"),s.a.createElement("th",{className:"adjust50"},"Product Name"),s.a.createElement("th",{className:"adjust50"},"Product Unit"),s.a.createElement("th",{className:"adjust50"},"Qty Supplied"),s.a.createElement("th",{className:"adjust50"},"Cost Price"),s.a.createElement("th",{className:"adjust50"},"Value"),s.a.createElement("th",{className:"adjust50"},"Vendor"),s.a.createElement("th",{className:"adjust50"},"Inv No."))),s.a.createElement("tbody",null,this.renderStockInData(this.state.CategoryStockIn))),s.a.createElement("b",null,s.a.createElement("p",{style:{textAlign:"center"}},"Total: ",s.a.createElement(E.a,{value:this.state.CatStInQty,thousandSeparator:!0,displayType:"text"}))),s.a.createElement("hr",null),s.a.createElement("h6",null,this.state.categoryName," Issue"),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust50"},"Issue Date"),s.a.createElement("th",{className:"adjust50"},"Product Name"),s.a.createElement("th",{className:"adjust50"},"Product Unit"),s.a.createElement("th",{className:"adjust50"},"Qty Issued"),s.a.createElement("th",{className:"adjust50"},"Cost Price"),s.a.createElement("th",{className:"adjust50"},"Value"),s.a.createElement("th",{className:"adjust50"},"Issue Dept"),s.a.createElement("th",{className:"adjust50"},"Product Type"))),s.a.createElement("tbody",null,this.renderStockOutData(this.state.CategoryStockOut))),s.a.createElement("b",null,s.a.createElement("p",{style:{textAlign:"center"}},"Total: ",s.a.createElement(E.a,{value:this.state.CatStOutQty,thousandSeparator:!0,displayType:"text"}))))),s.a.createElement("div",{className:this.state.prodshow},s.a.createElement("div",{className:"formdesign510b212 detailplacement"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-4"},s.a.createElement("label",null,this.state.prodctName," Opening Stock"),s.a.createElement("p",{className:"form-control mb-3 formsize51 ikem",style:{fontSize:"18px"}},s.a.createElement(E.a,{value:parseInt(this.state.ProdStInQty),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("div",{className:"col-4"},s.a.createElement("label",null,this.state.prodctName," Closing Stock"),s.a.createElement("p",{className:"form-control mb-3 formsize51 ikem",style:{fontSize:"18px"}},s.a.createElement(E.a,{value:parseInt(this.state.ProdStInQty)-parseInt(this.state.ProdStOutQty),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("div",{className:"col-4"},s.a.createElement("label",null,this.state.prodctName," Cost of Sales"),s.a.createElement("p",{className:"form-control mb-3 formsize51 ikem",style:{fontSize:"18px"}},s.a.createElement(E.a,{value:parseInt(this.state.ProdStOutQty),thousandSeparator:!0,displayType:"text"}))))),s.a.createElement("hr",null),s.a.createElement("h6",null,this.state.prodctName," Supply"),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust50"},"Supply Date"),s.a.createElement("th",{className:"adjust50"},"Product Name"),s.a.createElement("th",{className:"adjust50"},"Product Unit"),s.a.createElement("th",{className:"adjust50"},"Qty Supplied"),s.a.createElement("th",{className:"adjust50"},"Cost Price"),s.a.createElement("th",{className:"adjust50"},"Value"),s.a.createElement("th",{className:"adjust50"},"Vendor"),s.a.createElement("th",{className:"adjust50"},"Inv No."))),s.a.createElement("tbody",null,this.renderStockInData(this.state.productStockInData))),s.a.createElement("b",null,s.a.createElement("p",{style:{textAlign:"center"}},"Total: ",s.a.createElement(E.a,{value:this.state.ProdStInQty,thousandSeparator:!0,displayType:"text"}))),s.a.createElement("hr",null),s.a.createElement("h6",null,this.state.prodctName," Issue"),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust50"},"Issue Date"),s.a.createElement("th",{className:"adjust50"},"Product Name"),s.a.createElement("th",{className:"adjust50"},"Product Unit"),s.a.createElement("th",{className:"adjust50"},"Qty Issued"),s.a.createElement("th",{className:"adjust50"},"Cost Price"),s.a.createElement("th",{className:"adjust50"},"Value"),s.a.createElement("th",{className:"adjust50"},"Issue Dept"),s.a.createElement("th",{className:"adjust50"},"Product Type"))),s.a.createElement("tbody",null,this.renderStockOutData(this.state.productStockOutData))),s.a.createElement("b",null,s.a.createElement("p",{style:{textAlign:"center"}},"Total: ",s.a.createElement(E.a,{value:this.state.ProdStOutQty,thousandSeparator:!0,displayType:"text"}))))),s.a.createElement("div",{className:this.state.showdept},s.a.createElement("div",{className:"formdesign510b212 detailplacement"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("center",null,s.a.createElement("div",{className:"col-4"},s.a.createElement("label",null,this.state.deptName," Cost of Sales"),s.a.createElement("p",{className:"form-control mb-3 formsize51 ikem",style:{fontSize:"18px"}},s.a.createElement(E.a,{value:parseInt(this.state.deptStOutQty),thousandSeparator:!0,displayType:"text"})))))),s.a.createElement("hr",null),s.a.createElement("h6",null,this.state.deptName,"  Issue"),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust50"},"Issue Date"),s.a.createElement("th",{className:"adjust50"},"Product Name"),s.a.createElement("th",{className:"adjust50"},"Product Unit"),s.a.createElement("th",{className:"adjust50"},"Qty Issued"),s.a.createElement("th",{className:"adjust50"},"Cost Price"),s.a.createElement("th",{className:"adjust50"},"Value"),s.a.createElement("th",{className:"adjust50"},"Issue Dept"),s.a.createElement("th",{className:"adjust50"},"Product Type"))),s.a.createElement("tbody",null,this.renderStockOutData(this.state.deptStockOutData))),s.a.createElement("b",null,s.a.createElement("p",{style:{textAlign:"center"}},"Total: ",s.a.createElement(E.a,{value:this.state.deptStOutQty,thousandSeparator:!0,displayType:"text"})))))))}},{key:"componentDidMount",value:function(){var e=this;console.log(">>> Inside GrpDidMount",this.state),fetch("".concat(ws),{method:"GET"}).then(function(e){return e.json()}).then(function(t){var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.productValue)},0);e.setState({AllOpeningstock:a})}),fetch("".concat(Ps),{method:"GET"}).then(function(e){return e.json()}).then(function(t){var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.productIssueValue)},0);e.setState({AllClosingstock:a})}),fetch("".concat("https://zarvichdemo.localto.net/storeTypes"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({categoryData:t})}),fetch("".concat("https://zarvichdemo.localto.net/products"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({productNamesData:t})}),fetch("".concat("https://zarvichdemo.localto.net/issueDepts"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({deptNamesData:t})}),fetch("".concat("https://zarvichdemo.localto.net/storeUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({loginDetails:t})}),this.myTimer=setTimeout(function(){var t=e.state.loginDetails,a=e.state.name;t.some(function(e){return e.name===a})?e.setState({Blogin:!0}):e.setState({Blogin:!1})},1e3)}}]),a}(n.Component),As=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value))},console.log(">>> inside loginConstructor",e),n.state={login:!1,userInfo:"",userPassword:"",authPassword:"",selectUserName:"",shift:""},n}return Object(p.a)(a,[{key:"login",value:function(){var e=this;fetch("".concat("https://zarvichdemo.localto.net/adminUserInfo?admincode=").concat(this.state.userPassword),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({userInfo:t}),e.myTimer=setTimeout(function(){e.state.userInfo.length>0&&(e.setState({login:!1}),window.location.reload(),t.map(function(t){return localStorage.setItem("userInfo",t.name),localStorage.setItem("shift",e.state.shift),"ok"}))},1e3)})}},{key:"onCloseModallogin",value:function(){this.setState({login:!0})}},{key:"render",value:function(){var e=this;return console.log(">>> Inside logindetails",this.state),s.a.createElement(s.a.Fragment,null,s.a.createElement(v.a,{open:this.state.login,onClose:function(){return e.onCloseModallogin()},center:!0},s.a.createElement("div",null,s.a.createElement("div",{className:"formdesign152"},s.a.createElement("h6",{className:"mb-3"},"Login First"),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("input",{type:"password",autoComplete:"off",className:"form-control mb-3 formsize51",name:"userPassword",require:!0,placeholder:"Enter password",value:this.state.userPassword,onChange:this.handleChange}),s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize51",name:"shift",require:!0,placeholder:"Select Shift",value:this.state.shift,list:"shift",onChange:this.handleChange}),s.a.createElement("datalist",{id:"shift"},s.a.createElement("option",{value:"Morning Shift"}),s.a.createElement("option",{value:"Night Shift"}),s.a.createElement("option",{value:"All Day"})),s.a.createElement("button",{disabled:""===this.state.userPassword||""===this.state.shift,className:"btn btn-warning formsize91",onClick:function(){return e.login()}},"Login")))))))}},{key:"componentDidMount",value:function(){var e=this;console.log(">>> Inside loginDidMount",this.state),fetch("".concat("https://zarvichdemo.localto.net/adminUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({selectUserName:t,login:!0})})}}]),a}(n.Component),zs=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={loginDetails:"",name:localStorage.getItem("userInfo"),login:"",Blogin:""},n}return Object(p.a)(a,[{key:"logout",value:function(){localStorage.removeItem("userInfo"),this.setState({login:!0})}},{key:"render",value:function(){var e=this;return null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement(As,null)):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"background15kmenu"},s.a.createElement("center",null,s.a.createElement("div",{className:"formdesign15kmenu"},s.a.createElement("h4",{className:"mb-3"},"App Menu"),s.a.createElement("div",{className:"grow"},s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-primary btnwidth15k mb-3",onClick:function(){e.props.history.push("/roomchart")}},"Reception"),s.a.createElement("button",{className:"btn btn-primary btnwidth15k mb-3",onClick:function(){e.props.history.push("/BillingMenu")}},"Billing"),s.a.createElement("button",{className:"btn btn-primary btnwidth15k mb-3",onClick:function(){e.props.history.push("/RestPortal")}},"Restaurant"),s.a.createElement("button",{className:"btn btn-primary btnwidth15k mb-3",onClick:function(){e.props.history.push("/BarPortal")}},"Bar"),s.a.createElement("button",{className:"btn btn-primary btnwidth15k mb-3",onClick:function(){e.props.history.push("/PoolBarPortal")}},"Pool Bar"),s.a.createElement("button",{className:"btn btn-primary btnwidth15k mb-3",onClick:function(){e.props.history.push("/MobilePoolBar")}},"Mobile PoolBar"),s.a.createElement("button",{className:"btn btn-primary btnwidth15k mb-3",onClick:function(){e.props.history.push("/ClubPortal")}},"Club"),s.a.createElement("button",{className:"btn btn-primary btnwidth15k mb-3",onClick:function(){e.props.history.push("/hskPortal")}},"HouseKeeping"),s.a.createElement("button",{className:"btn btn-primary btnwidth15k mb-3",onClick:function(){e.props.history.push("/FandBMenu")}},"F and B"),s.a.createElement("button",{className:"btn btn-primary btnwidth15k mb-3",onClick:function(){e.props.history.push("/storeMenu")}},"Central Store"),s.a.createElement("button",{className:"btn btn-primary btnwidth15k mb-3",onClick:function(){e.props.history.push("/Dashboard")}},"Sales Manager"),s.a.createElement("button",{className:"btn btn-primary btnwidth15k mb-3",onClick:function(){e.props.history.push("/Settings")}},"Settings"),s.a.createElement("button",{className:"btn btn-warning btnwidth15k mb-3",onClick:function(){e.props.history.push("/Dashboard")}},"Goto Dashboard"),s.a.createElement("button",{className:"btn btn-danger btnwidth15 mb-3",onClick:function(){return e.logout()}},"Log Out ",localStorage.getItem("userInfo").split(" ")[0])))))))}},{key:"componentDidMount",value:function(){var e=this;fetch("".concat("https://zarvichdemo.localto.net/fofUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({loginDetails:t})}),this.myTimer=setTimeout(function(){var t=e.state.loginDetails,a=e.state.name;t.some(function(e){return e.name===a})?e.setState({Blogin:!0}):e.setState({Blogin:!1})},1e3),this.myTimer=setTimeout(function(){fetch("".concat("https://zarvichdemo.localto.net/fofUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({loginDetails:t})}),e.myTimer=setTimeout(function(){var t=e.state.loginDetails,a=e.state.name;t.some(function(e){return e.name===a})?e.setState({Blogin:!0}):e.setState({Blogin:!1})},1e3)},1e3)}}]),a}(n.Component),Bs="https://zarvichdemo.localto.net/products?getcategoryName=",Gs="https://zarvichdemo.localto.net/products?getproductName=",Ys="https://zarvichdemo.localto.net/storeTran?tranProdName=",Fs="https://zarvichdemo.localto.net/storeTran?grvNumber=",Us="https://zarvichdemo.localto.net/stockOutNow?sivProdName=",Hs="https://zarvichdemo.localto.net/issueDepts",qs="https://zarvichdemo.localto.net/drinkCategories?drinkType=",Ls=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value))},n.handleChangeA=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value));var t=e.target.value*n.state.qtyOut;n.setState({piecesCalculated:t})},n.handleChange2=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value)),fetch("".concat(Bs).concat(e.target.value),{method:"GET"}).then(function(e){return e.json()}).then(function(e){n.setState({productNamesData:e})})},n.handleChange12=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value)),fetch("".concat(qs).concat(e.target.value),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return n.setState({productTypeID:e.mealTypeID}),"ok"})})},n.handleChange4=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value));var t=0+parseInt(n.state.productPrice)*parseInt(e.target.value)*parseInt(n.state.pieces);n.setState({productIssueValue:t});var a=e.target.value*n.state.pieces;n.setState({piecesCalculated:a})},n.handleChange3=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value)),fetch("".concat(Ys).concat(e.target.value),{method:"GET"}).then(function(e){return e.json()}).then(function(e){n.setState({productDetailsData:e});var t=e.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.qtyIn)},0);n.setState({totalIn:t})}),n.myTimer=setTimeout(function(){n.state.productDetailsData.map(function(e){var t=e.grvNum,a=parseInt(t),s=Math.max(a);return fetch("".concat(Fs).concat(s),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return n.setState({productPrice:e.productPrice,productUnit:e.productUnit}),"ok"})}),"ok"})},1e3),fetch("".concat(Us).concat(e.target.value),{method:"GET"}).then(function(e){return e.json()}).then(function(e){var t=e.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.qtyOut)},0);n.setState({totalOut:t})}),n.myTimer=setTimeout(function(){var e=0+parseInt(n.state.totalIn)-parseInt(n.state.totalOut);n.setState({totalProductBalance:e}),0===n.state.totalProductBalance?n.setState({issueProduct:"Out of Stock"}):n.setState({issueProduct:"Issue Product"})},1e3),fetch("".concat(Gs).concat(e.target.value),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return n.setState({productType:e.productType,productSellingPrice:e.productSellingPrice,productTypeID:e.productTypeID,pieces:e.pieces}),"ok"})})},console.log(">>> inside GrpCobtructor",e),n.state={_id:Math.floor(1e7*Math.random()),categoryName:"",productName:"",productUnit:"",productType:"",productTypeData:"",productTypeID:"",pieces:"",productPrice:"",productSellingPrice:"",totalIn:0,totalOut:0,totalProductBalance:0,sivNum:"",issueDept:"",qtyOut:"",productIssueValue:0,transDate:new Date,categoryData:"",productNamesData:"",productDetailsData:"",stockOutData:"",issueDeptsData:"",edit:!1,loginDetails:"",name:localStorage.getItem("userInfo"),login:"",Blogin:"",piecesData:[{_id:"1001",quantity:1},{_id:"1002",quantity:2},{_id:"1003",quantity:4},{_id:"1004",quantity:6},{_id:"1005",quantity:12},{_id:"1006",quantity:24},{_id:"1007",quantity:48}],piecesCalculated:0,issueProduct:"Issue Product"},n.checkinhandleChange=n.checkinhandleChange.bind(Object(f.a)(n)),n}return Object(p.a)(a,[{key:"onOpenModaledit",value:function(){this.setState({edit:!0})}},{key:"onCloseModaledit",value:function(){this.setState({edit:!1})}},{key:"checkinhandleChange",value:function(e){this.setState({invoiceDate:e})}},{key:"rendercheckinDate",value:function(){return s.a.createElement("div",null,s.a.createElement(y.a,{selected:this.state.invoiceDate,onChange:this.checkinhandleChange,maxDate:Object(N.default)(new Date,1),dropdownMode:"select",dateFormat:"MMM/d/ yyyy",placeholderText:"Invoice Date",className:"form-control mb-3 formsize51"}))}},{key:"logout",value:function(){localStorage.removeItem("userInfo"),this.setState({login:!0})}},{key:"renderCategory",value:function(e){if(e)return e.map(function(t){return e.sort(function(e,t){return e.categoryName-t.categoryName}),s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{key:t._id,value:t.categoryName},t.categoryName))})}},{key:"renderProductType",value:function(e){if(e)return e.map(function(t){return e.sort(function(e,t){return e.mealType-t.mealType}),s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{key:t._id,value:t.mealType},t.mealType))})}},{key:"renderPieces",value:function(e){if(e)return e.map(function(t){return e.sort(function(e,t){return e.quantity-t.quantity}),s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{key:t._id,value:t.quantity},t.quantity))})}},{key:"renderProductNames",value:function(e){if(e)return e.map(function(t){return e.sort(function(e,t){return e.productName-t.productName}),s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{key:t._id,value:t.productName},t.productName))})}},{key:"renderIssueDepts",value:function(e){if(e)return e.map(function(t){return e.sort(function(e,t){return e.departmentName-t.departmentName}),s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{key:t._id,value:t.departmentName},t.departmentName))})}},{key:"handleSubmit",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o,r,l,c,i,u,h=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=this.state.stockOutData,a=this.state.sivNum,n={_id:"".concat(this.state._id),categoryName:"".concat(this.state.categoryName),productName:"".concat(this.state.productName),productUnit:"".concat(this.state.productUnit),productType:"".concat(this.state.productType),productTypeID:"".concat(this.state.productTypeID),productCostPrice:"".concat(this.state.productPrice),productSellingPrice:"".concat(this.state.productSellingPrice),sivNum:"".concat(this.state.sivNum),issueDept:"".concat(this.state.issueDept),qtyOut:"".concat(this.state.qtyOut),piecesOut:"".concat(this.state.piecesCalculated),productIssueValue:"".concat(this.state.productIssueValue),transDate:k()("".concat(this.state.transDate)).format("MMM DD YYYY"),pieces:"".concat(this.state.pieces),name:localStorage.getItem("userInfo")},s={_id:"".concat(this.state._id),categoryName:"".concat(this.state.categoryName),productName:"".concat(this.state.productName),productUnit:"".concat(this.state.productUnit),productType:"".concat(this.state.productType),productTypeID:parseInt("".concat(this.state.productTypeID)),productIssueValue:"".concat(this.state.productIssueValue),productSellingPrice:"".concat(this.state.productSellingPrice),sivNum:"".concat(this.state.sivNum),qtyOut:"".concat(this.state.qtyOut),piecesOut:"".concat(this.state.piecesCalculated),pieces:"".concat(this.state.pieces),transDate:k()("".concat(this.state.transDate)).format("MMM DD YYYY"),name:localStorage.getItem("userInfo")},!t.some(function(e){return e.sivNum===a})){e.next=12;break}alert(this.state.productName+" already Issued"),fetch("".concat(qs),{method:"GET"}).then(function(e){return e.json()}).then(function(e){h.setState({productTypeData:e})}),fetch("".concat(Us),{method:"GET"}).then(function(e){return e.json()}).then(function(e){h.setState({stockOutData:e});var t=h.state.stockOutData;h.myTimer=setTimeout(function(){if(0===h.state.stockOutData.length){var e=parseInt(5e6),a=Math.max(e);h.setState({sivNum:a})}else t.map(function(e){var t=parseInt(e.sivNum),a=Math.max(t)+1;return h.setState({sivNum:a}),"ok"})},1e3)}),this.myTimer=setTimeout(function(){h.setState({_id:Math.floor(1e7*Math.random())})},1e3),e.next=56;break;case 12:return e.next=14,fetch("".concat("https://zarvichdemo.localto.net/postStockOut"),{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)});case 14:if(o=e.sent,console.log("result>  "+o),"Bar"!==this.state.issueDept){e.next=23;break}return e.next=19,fetch("".concat("https://zarvichdemo.localto.net/InnerBarSend"),{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(s)});case 19:r=e.sent,console.log("resultI>  "+r),e.next=49;break;case 23:if("Open Bar"!==this.state.issueDept){e.next=30;break}return e.next=26,fetch("".concat("https://zarvichdemo.localto.net/OpenBarSend"),{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(s)});case 26:l=e.sent,console.log("resultO>  "+l),e.next=49;break;case 30:if("Restaurant Drinks"!==this.state.issueDept){e.next=37;break}return e.next=33,fetch("".concat("https://zarvichdemo.localto.net/RestBarSend"),{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(s)});case 33:c=e.sent,console.log("resultRe>  "+c),e.next=49;break;case 37:if("PoolBar"!==this.state.issueDept){e.next=44;break}return e.next=40,fetch("".concat("https://zarvichdemo.localto.net/PoolBarSend"),{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(s)});case 40:i=e.sent,console.log("resultP>  "+i),e.next=49;break;case 44:if("Club"!==this.state.issueDept){e.next=49;break}return e.next=47,fetch("".concat("https://zarvichdemo.localto.net/ClubSend"),{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(s)});case 47:u=e.sent,console.log("resultP>  "+u);case 49:alert(this.state.productName+" Issued to "+this.state.issueDept),this.setState({categoryName:"",productName:"",productUnit:"",productPrice:"",productType:"",productTypeID:"",totalIn:0,totalOut:0,totalProductBalance:0,sivNum:"",issueDept:"",qtyOut:"",productIssueValue:0,categoryData:"",productNamesData:"",productDetailsData:"",productTypeData:"",stockOutData:"",issueDeptsData:"",pieces:"",productSellingPrice:""}),fetch("".concat("https://zarvichdemo.localto.net/storeTypes"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){h.setState({categoryData:e})}),fetch("".concat(qs),{method:"GET"}).then(function(e){return e.json()}).then(function(e){h.setState({productTypeData:e})}),fetch("".concat(Hs),{method:"GET"}).then(function(e){return e.json()}).then(function(e){h.setState({issueDeptsData:e})}),this.myTimer=setTimeout(function(){h.setState({_id:Math.floor(1e7*Math.random())})},1e3),fetch("".concat(Us),{method:"GET"}).then(function(e){return e.json()}).then(function(e){h.setState({stockOutData:e});var t=h.state.stockOutData;h.myTimer=setTimeout(function(){if(0===h.state.stockOutData.length){var e=parseInt(5e6),a=Math.max(e);h.setState({sivNum:a})}else t.map(function(e){var t=parseInt(e.sivNum),a=Math.max(t)+1;return h.setState({sivNum:a}),"ok"})},1e3)});case 56:e.next=61;break;case 58:e.prev=58,e.t0=e.catch(0),console.log(e.t0);case 61:case"end":return e.stop()}},e,this,[[0,58]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return console.log(">>> Inside Grpdetails",this.state),null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement(Wn,null)):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"background990ib"},s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-3"},s.a.createElement("h4",{style:{color:"silver",marginLeft:"50px",marginBottom:"-50px"}},"Stock Issue")),s.a.createElement("div",{className:"col-6"},s.a.createElement("h6",{style:{color:"purple",marginLeft:"480px",marginBottom:"-50px"}},"Welcome, ",localStorage.getItem("userInfo").split(" ")[0]," ")),s.a.createElement("div",{className:"col-3"},s.a.createElement("h6",{type:"button",style:{color:"yellow",marginLeft:"180",textAlign:"left",marginBottom:"-50px"},onClick:function(){return e.logout()}},"Logout "))),s.a.createElement("h4",{style:{color:"rgb(23, 23, 71)",marginLeft:"50px",marginBottom:"-40px"}}," "),s.a.createElement("div",{className:"formdesign510b"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-3"},s.a.createElement("label",null,"Category"),s.a.createElement("select",{className:"form-select  mb-3 formsize51",name:"categoryName",onChange:this.handleChange2},s.a.createElement("option",{defaultValue:""},"Select Category"),this.renderCategory(this.state.categoryData))),s.a.createElement("div",{className:"col-3"},s.a.createElement("label",null,"Product"),s.a.createElement("select",{className:"form-select  mb-3 formsize51",name:"productName",onChange:this.handleChange3},s.a.createElement("option",{defaultValue:""},"Select Product"),this.renderProductNames(this.state.productNamesData))),s.a.createElement("div",{className:"col-3"},s.a.createElement("label",null,"Last Supply Price"),s.a.createElement("p",{type:"text",className:"form-control mb-3 formsize51 ikem"},s.a.createElement(E.a,{value:this.state.productPrice,thousandSeparator:!0,displayType:"text"}))),s.a.createElement("div",{className:"col-3"},s.a.createElement("label",null,"Product Unit"),s.a.createElement("p",{type:"text",className:"form-control mb-3 formsize51 ikem"},this.state.productUnit))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-3"},s.a.createElement("label",null,"Product Type"),s.a.createElement("p",{type:"text",className:"form-control mb-3 formsize51 ikem"},this.state.productType)),s.a.createElement("div",{className:"col-3"},s.a.createElement("label",null,"Product ID"),s.a.createElement("p",{type:"text",className:"form-control mb-3 formsize51 ikem"},this.state.productTypeID)),s.a.createElement("div",{className:"col-3"},s.a.createElement("label",null,"Selling Price"),s.a.createElement("p",{type:"text",className:"form-control mb-3 formsize51 ikem"},this.state.productSellingPrice)),s.a.createElement("div",{className:"col-3"},s.a.createElement("label",null,"Pieces per ",this.state.productUnit),s.a.createElement("p",{className:"form-control mb-3 formsize51 ikem"},this.state.pieces))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-3"},s.a.createElement("label",null,"Total In"),s.a.createElement("p",{className:"form-control mb-3 formsize51 ikem"},this.state.totalIn)),s.a.createElement("div",{className:"col-3"},s.a.createElement("label",null,"SIV Num"),s.a.createElement("p",{className:"form-control mb-3 formsize51 ikem"},this.state.sivNum)),s.a.createElement("div",{className:"col-3"},s.a.createElement("label",null,"Departments"),s.a.createElement("select",{className:"form-select  mb-3 formsize51",name:"issueDept",onChange:this.handleChange},s.a.createElement("option",{defaultValue:""},"Issue Dept."),this.renderIssueDepts(this.state.issueDeptsData))),s.a.createElement("div",{className:"col-3"},s.a.createElement("label",null,"Issue Qty"),s.a.createElement("input",{type:"number",className:"form-control mb-3 formsize51",name:"qtyOut",require:!0,placeholder:"Issue Qty",value:this.state.qtyOut,onChange:this.handleChange4}))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-4"},s.a.createElement("label",null,"Product Value"),s.a.createElement("p",{className:"form-control mb-3 formsize51 ikem"},s.a.createElement(E.a,{value:this.state.productIssueValue,thousandSeparator:!0,displayType:"text"}))),s.a.createElement("div",{className:"col-4"},s.a.createElement("label",null,"Total Out"),s.a.createElement("p",{className:"form-control mb-3 formsize51 ikem"},this.state.totalOut)),s.a.createElement("div",{className:"col-4"},s.a.createElement("label",null,"Total Product Balance"),s.a.createElement("p",{className:"form-control mb-3 formsize51 ikem"},this.state.totalProductBalance))),s.a.createElement("center",null,s.a.createElement("br",null),s.a.createElement("span",null,s.a.createElement("button",{disabled:""===this.state.productName||""===this.state.productPrice||""===this.state.qtyOut||""===this.state.issueDept||""===this.state.pieces||0===this.state.totalProductBalance,className:"btn btn-warning",onClick:function(){return e.handleSubmit()}},this.state.issueProduct),s.a.createElement("button",{className:"btn btn-danger gap",onClick:function(){return e.props.history.push("/storeMenu")}},"Close")))),s.a.createElement("br",null))))}},{key:"componentDidMount",value:function(){var e=this;console.log(">>> Inside GrpDidMount",this.state),fetch("".concat(qs),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({productTypeData:t})}),fetch("".concat("https://zarvichdemo.localto.net/storeTypes"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({categoryData:t})}),fetch("".concat(Us),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({stockOutData:t});var a=e.state.stockOutData;e.myTimer=setTimeout(function(){if(0===e.state.stockOutData.length){var t=parseInt(5e6),n=Math.max(t);e.setState({sivNum:n})}else a.map(function(t){var a=parseInt(t.sivNum),n=Math.max(a)+1;return e.setState({sivNum:n}),"ok"})},1e3)}),fetch("".concat(Hs),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({issueDeptsData:t})}),fetch("".concat("https://zarvichdemo.localto.net/storeUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({loginDetails:t})}),this.myTimer=setTimeout(function(){var t=e.state.loginDetails,a=e.state.name;t.some(function(e){return e.name===a})?e.setState({Blogin:!0}):e.setState({Blogin:!1})},1e3)}}]),a}(n.Component),_s=(a(239),a(28)),Ws=a(33),Qs=a(124),Js=a(35),Vs=a(52),Ks=a(53),Xs=a(46);Ws.e.register(Ws.d,Ws.h,Ws.b,Ws.m,Ws.n);var Zs="https://zarvichdemo.localto.net/getrmstatus",$s="https://zarvichdemo.localto.net/adminUserInfo",eo="https://zarvichdemo.localto.net/otherSalesPoints",to="https://zarvichdemo.localto.net/GetTmpRmDep",ao="https://zarvichdemo.localto.net/restaurantSales",no="https://zarvichdemo.localto.net/barSales",so="https://zarvichdemo.localto.net/poolbarSales",oo="https://zarvichdemo.localto.net/clubSales",ro="https://zarvichdemo.localto.net/restTable",lo="https://zarvichdemo.localto.net/getActive",co="https://zarvichdemo.localto.net/barTable",io="https://zarvichdemo.localto.net/poolbarTable",mo="https://zarvichdemo.localto.net/getLaundryTables",uo="https://zarvichdemo.localto.net/rooms?details=",ho=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value)),fetch("".concat(uo).concat(e.target.value),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return n.setState({roomtypeName:e.roomtypeName}),"ok"})})},console.log(">>>Inside Constructor"),n.state={allOccupied:"",allVacant:"",allCorporate:"",allIndividual:"",allStaff:"",allComplimentary:"",allCheckout:"",TotalSales:0,POS:0,Cash:0,Transfer:0,Complimentary:0,Room:0,OtherTotalSales:0,OtherRoom:0,OtherComplimentary:0,OtherTransfer:0,OtherCash:0,OtherPOS:0,ReceptionSales:0,date:"",RestTotalSales:0,RestRoom:0,RestComplimentary:0,RestTransfer:0,RestCash:0,RestPOS:0,BarTotalSales:0,BarRoom:0,BarComplimentary:0,BarTransfer:0,BarCash:0,BarPOS:0,PoolTotalSales:0,PoolRoom:0,PoolComplimentary:0,PoolTransfer:0,PoolCash:0,PoolPOS:0,ClubTotalSales:0,ClubRoom:0,ClubComplimentary:0,ClubTransfer:0,ClubCash:0,ClubPOS:0,Gtotal:0,loginDetails:"",name:localStorage.getItem("userInfo"),login:"",Blogin:"",labels:["Rooms","Others","Restaurant","PoolBar","Inner Bar","Reservation"],showRooms:!1,showOthers:!1,showRest:!1,showPool:!1,showClub:!1,showInnerBar:!1,resttables:"",selected:"",cost:"",bartables:"",poolbartables:"",Clubtables:"",roomNum:"",roomtypeName:""},n}return Object(p.a)(a,[{key:"handleRoomShow",value:function(){this.setState({showRooms:!0})}},{key:"handleRoomClose",value:function(){this.setState({showRooms:!1})}},{key:"handleOthersShow",value:function(){this.setState({showOthers:!0})}},{key:"handleOthersClose",value:function(){this.setState({showOthers:!1})}},{key:"handleRestShow",value:function(){this.setState({showRest:!0})}},{key:"handleRestClose",value:function(){this.setState({showRest:!1})}},{key:"handlePoolClose",value:function(){this.setState({showPool:!1})}},{key:"handleClubClose",value:function(){this.setState({showClub:!1})}},{key:"handlePoolShow",value:function(){this.setState({showPool:!0})}},{key:"handleClubShow",value:function(){this.setState({showClub:!0})}},{key:"handleInnerBarClose",value:function(){this.setState({showInnerBar:!1})}},{key:"handleInnerBarShow",value:function(){this.setState({showInnerBar:!0})}},{key:"logout",value:function(){localStorage.removeItem("userInfo"),this.setState({login:!0})}},{key:"RoomReset",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{t={_id:"".concat(this.state.roomNum),roomNumbers:"".concat(this.state.roomNum),roomStatus:"black",roomtypeName:"".concat(this.state.roomtypeName),fname:"",lname:"",status:"",refID:"",BillStatus:0},a=fetch("".concat("https://zarvichdemo.localto.net/rmstatus2","/").concat(this.state.roomNum),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}),console.log("result2> "+a),alert("Room "+this.state.roomNum+" Has Been Reset"),this.setState({roomNum:"",roomtypeName:""})}catch(n){console.log(n)}case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getTableR",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{t=sessionStorage.getItem("tableNumber2"),fetch("".concat("https://zarvichdemo.localto.net/restTable?resttableID=").concat(t),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return a.setState({selected:e.selected,cost:e.billCost}),"ok"})})}catch(n){console.log(n)}case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"getTableB",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{t=sessionStorage.getItem("tableNumber3"),fetch("".concat("https://zarvichdemo.localto.net/barTable?tableID=").concat(t),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return a.setState({selected:e.selected,cost:e.billCost}),"ok"})})}catch(n){console.log(n)}case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"getTableP",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{t=sessionStorage.getItem("tableNumber3"),fetch("".concat("https://zarvichdemo.localto.net/poolbarTable?tableID=").concat(t),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return a.setState({selected:e.selected,cost:e.billCost}),"ok"})})}catch(n){console.log(n)}case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"getTableC",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{t=sessionStorage.getItem("tableNumber3"),fetch("".concat("https://zarvichdemo.localto.net/getclubTables?tableID=").concat(t),{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.map(function(e){return a.setState({selected:e.selected,cost:e.billCost}),"ok"})})}catch(n){console.log(n)}case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"renderOders",value:function(e){if(e)return e.map(function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:e.id},s.a.createElement("td",{className:"table-light table-striped adjust texted8Nw"},e.meal),s.a.createElement("td",{className:"table-light table-striped adjust texted8Nw"},e.qty),s.a.createElement("td",{className:"table-light table-striped adjust texted8Nw"},s.a.createElement(E.a,{value:e.mealPrice,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust texted8Nw"},s.a.createElement(E.a,{value:e.mealPrice*e.qty,thousandSeparator:!0,displayType:"text"}))))})}},{key:"deleteRest",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=sessionStorage.getItem("tableNumber2"),a={selected:[],billCost:"",tableNum:sessionStorage.getItem("tableNumber2")},e.next=5,fetch("".concat("https://zarvichdemo.localto.net/restaurantTablePost","/").concat(t),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(a)});case 5:n=e.sent,console.log("result12>  "+n),alert("Table Deleted Successfully"),this.setState({selected:[]}),this.setState({cost:0}),sessionStorage.removeItem("tableNumber2"),fetch("".concat(ro),{method:"GET"}).then(function(e){return e.json()}).then(function(e){s.setState({resttables:e})}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}},e,this,[[0,14]])}));return function(){return e.apply(this,arguments)}}()},{key:"deleteBar",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=sessionStorage.getItem("tableNumber3"),a={selected:[],billCost:"",tableNum:sessionStorage.getItem("tableNumber3")},e.next=5,fetch("".concat("https://zarvichdemo.localto.net/barTablePost","/").concat(t),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(a)});case 5:n=e.sent,console.log("result12>  "+n),alert("Table Deleted Successfully"),this.setState({selected:[]}),this.setState({cost:0}),sessionStorage.removeItem("tableNumber3"),fetch("".concat(co),{method:"GET"}).then(function(e){return e.json()}).then(function(e){s.setState({bartables:e})}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}},e,this,[[0,14]])}));return function(){return e.apply(this,arguments)}}()},{key:"deletePoolBar",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=sessionStorage.getItem("tableNumber3"),a={selected:[],billCost:"",tableNum:sessionStorage.getItem("tableNumber3")},e.next=5,fetch("".concat("https://zarvichdemo.localto.net/poolbarTablePost","/").concat(t),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(a)});case 5:n=e.sent,console.log("result12>  "+n),alert("Table Deleted Successfully"),this.setState({selected:[]}),this.setState({cost:0}),sessionStorage.removeItem("tableNumber3"),fetch("".concat(io),{method:"GET"}).then(function(e){return e.json()}).then(function(e){s.setState({poolbartables:e})}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}},e,this,[[0,14]])}));return function(){return e.apply(this,arguments)}}()},{key:"deleteClub",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=sessionStorage.getItem("tableNumber3"),a={selected:[],billCost:"",tableNum:sessionStorage.getItem("tableNumber3")},e.next=5,fetch("".concat("https://zarvichdemo.localto.net/laundryTablePost","/").concat(t),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(a)});case 5:n=e.sent,console.log("result12>  "+n),alert("Table Deleted Successfully"),this.setState({selected:[]}),this.setState({cost:0}),sessionStorage.removeItem("tableNumber3"),fetch("".concat(mo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){s.setState({Clubtables:e})}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}},e,this,[[0,14]])}));return function(){return e.apply(this,arguments)}}()},{key:"renderRestTables",value:function(e){var t=this;if(e)return e.sort(function(e,t){return e.tableNum-t.tableNum}),e.map(function(e){return e.billCost>0?s.a.createElement("div",{key:e._id},s.a.createElement("button",{className:"btn btn-warning cartBtn3 alignroomsgreen2",onClick:function(){sessionStorage.setItem("tableNumber2",e.tableNum),t.getTableR()}},e.tableNum)):null})}},{key:"renderBarTables",value:function(e){var t=this;if(e)return e.sort(function(e,t){return e.tableNum-t.tableNum}),e.map(function(e){return e.billCost>0?s.a.createElement("div",{key:e._id},s.a.createElement("button",{className:"btn btn-warning cartBtn3 alignroomsgreen2",onClick:function(){sessionStorage.setItem("tableNumber3",e.tableNum),t.getTableB()}},e.tableNum)):null})}},{key:"renderPoolBarTables",value:function(e){var t=this;if(e)return e.sort(function(e,t){return e.tableNum-t.tableNum}),e.map(function(e){return e.billCost>0?s.a.createElement("div",{key:e._id},s.a.createElement("button",{className:"btn btn-warning cartBtn3 alignroomsgreen2",onClick:function(){sessionStorage.setItem("tableNumber3",e.tableNum),t.getTableP()}},e.tableNum)):null})}},{key:"renderClubTables",value:function(e){var t=this;if(e)return e.sort(function(e,t){return e.tableNum-t.tableNum}),e.map(function(e){return e.billCost>0?s.a.createElement("div",{key:e._id},s.a.createElement("button",{className:"btn btn-warning cartBtn3 alignroomsgreen2",onClick:function(){sessionStorage.setItem("tableNumber3",e.tableNum),t.getTableC()}},e.tableNum)):null})}},{key:"resetRooms",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("center",null,s.a.createElement("div",{className:"mt-4"},s.a.createElement("center",null,s.a.createElement("input",{type:"number",className:"form-control mb-3 formsize",require:!0,placeholder:"Enter Room Num",name:"roomNum",value:this.state.roomNum,onChange:this.handleChange}))),s.a.createElement("div",null,s.a.createElement("button",{className:"btn btn-primary mb-3",onClick:function(){e.RoomReset()}},"Reset"))))}},{key:"render",value:function(){var e=this;if(console.log(">>> Inside Render",this.state),null==localStorage.getItem("userInfo")||!1===this.state.Blogin)return s.a.createElement(s.a.Fragment,null,s.a.createElement(As,null));var t=this.state.allOccupied;if("green"!==t)var a=t.length;var n={labels:this.state.labels,datasets:[{data:[this.state.TotalSales,this.state.OtherTotalSales,this.state.RestTotalSales,this.state.PoolTotalSales,this.state.BarTotalSales,this.state.ClubTotalSales],backgroundColor:["chartreuse","cornflowerblue","cyan","hotpink","lightseagreen","chartreuse"]}]},o=k()(this.state.date).format("YYYY-DD-MMM");return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"Dashbackground"},s.a.createElement("div",{className:"heading"},s.a.createElement("h5",{type:"button",onClick:function(){return e.props.history.push("/AppMenu")}},"Dashboard")),s.a.createElement("div",{className:"miniDash"},s.a.createElement(Ks.a,{variant:"Danger",className:"DashSheet1",type:"button",onClick:function(){return e.handleRoomShow()}},s.a.createElement("p",{className:"mobileText"},"Rooms ",s.a.createElement("span",{className:"placeTxt"},"Occupied: ",a),": ",s.a.createElement(E.a,{value:this.state.TotalSales,thousandSeparator:!0,displayType:"text"}))),s.a.createElement(Ks.a,{variant:"Danger",className:"DashSheet2",type:"button",onClick:function(){return e.handleOthersShow()}},s.a.createElement("p",{className:"mobileText"},"Other Sales: ",s.a.createElement(E.a,{value:this.state.OtherTotalSales,thousandSeparator:!0,displayType:"text"}))),s.a.createElement(Ks.a,{variant:"Danger",className:"DashSheet3",type:"button",onClick:function(){return e.handleRestShow()}},s.a.createElement("p",{className:"mobileText"},"Restaurant: ",s.a.createElement(E.a,{value:this.state.RestTotalSales,thousandSeparator:!0,displayType:"text"}))),s.a.createElement(Ks.a,{variant:"Danger",className:"DashSheet4",type:"button",onClick:function(){return e.handleInnerBarShow()}},s.a.createElement("p",{className:"mobileText"},"Bar: ",s.a.createElement(E.a,{value:this.state.BarTotalSales,thousandSeparator:!0,displayType:"text"}))),s.a.createElement(Ks.a,{variant:"Danger",className:"DashSheet5",type:"button",onClick:function(){return e.handlePoolShow()}},s.a.createElement("p",{className:"mobileText"},"Pool Bar: ",s.a.createElement(E.a,{value:this.state.PoolTotalSales,thousandSeparator:!0,displayType:"text"}))),s.a.createElement(Ks.a,{variant:"Danger",className:"DashSheet6",type:"button",onClick:function(){return e.handleClubShow()}},s.a.createElement("p",{className:"mobileText"},"Reservation: ",s.a.createElement(E.a,{value:this.state.ClubTotalSales,thousandSeparator:!0,displayType:"text"}))),s.a.createElement(Ks.a,{variant:"Danger",className:"DashSheet7"},s.a.createElement(_s.a.Title,null,s.a.createElement("p",{className:"mobileText"},"Total: ",s.a.createElement(E.a,{value:parseInt(this.state.PoolTotalSales)+parseInt(this.state.ClubTotalSales)+parseInt(this.state.BarTotalSales)+parseInt(this.state.RestTotalSales)+parseInt(this.state.OtherTotalSales)+parseInt(this.state.TotalSales),thousandSeparator:!0,displayType:"text"}))))),s.a.createElement("div",{className:"chart"},s.a.createElement(Qs.a,{options:{responsive:!0,plugins:{title:{display:!0,text:"Income Chart"}}},data:n})),s.a.createElement("div",{className:"restTab"},s.a.createElement("div",null,s.a.createElement("h5",{style:{color:"silver"}},"Table Manager"),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust2"},"Menu"),s.a.createElement("th",{className:"adjust2"},"Qty"),s.a.createElement("th",{className:"adjust2"},"Price(=N)"),s.a.createElement("th",{className:"adjust2"},"Amount(=N)"))),s.a.createElement("tbody",{className:"table table-hover tableheight"},this.renderOders(this.state.selected)))),s.a.createElement("div",{className:"butncontrl"},s.a.createElement("button",{className:"btn btn-primary cartBtn4new",onClick:function(){e.setState({selected:"",cost:""})}},"Close"),s.a.createElement("button",{className:"btn btn-danger cartBtn4new",onClick:function(){return e.deleteRest()}},s.a.createElement("i",{className:"fa fa-trash-o","aria-hidden":"true"},"  Rest Table")),s.a.createElement("button",{className:"btn btn-danger cartBtn4new",onClick:function(){return e.deleteBar()}},s.a.createElement("i",{className:"fa fa-trash-o","aria-hidden":"true"},"  Bar Table")),s.a.createElement("button",{className:"btn btn-danger cartBtn4new",onClick:function(){return e.deletePoolBar()}},s.a.createElement("i",{className:"fa fa-trash-o","aria-hidden":"true"},"  Pool Table")),s.a.createElement("button",{className:"btn btn-danger cartBtn4new",onClick:function(){return e.deleteClub()}},s.a.createElement("i",{className:"fa fa-trash-o","aria-hidden":"true"},"  Laundry"))),s.a.createElement("br",null),s.a.createElement(Xs.a,{defaultActiveKey:""},s.a.createElement(Xs.a.Item,{eventKey:"0"},s.a.createElement(Xs.a.Header,null,"Active Restaurant Tables"),s.a.createElement(Xs.a.Body,{style:{backgroundColor:"rgb(23, 23, 71)"}},s.a.createElement("div",{className:"setHeight"},this.renderRestTables(this.state.resttables)))),s.a.createElement(Xs.a.Item,{eventKey:"1"},s.a.createElement(Xs.a.Header,null,"Active Bar Tables"),s.a.createElement(Xs.a.Body,{style:{backgroundColor:"rgb(23, 23, 71)"}},s.a.createElement("div",{className:"setHeight"},this.renderBarTables(this.state.bartables)))),s.a.createElement(Xs.a.Item,{eventKey:"2"},s.a.createElement(Xs.a.Header,null,"Active PoolBar Tables"),s.a.createElement(Xs.a.Body,{style:{backgroundColor:"rgb(23, 23, 71)"}},s.a.createElement("div",{className:"setHeight"},this.renderPoolBarTables(this.state.poolbartables)))),s.a.createElement(Xs.a.Item,{eventKey:"3"},s.a.createElement(Xs.a.Header,null,"Active Laundry Tables"),s.a.createElement(Xs.a.Body,{style:{backgroundColor:"rgb(23, 23, 71)"}},s.a.createElement("div",{className:"setHeight"},this.renderPoolBarTables(this.state.Clubtables)))),s.a.createElement(Xs.a.Item,{eventKey:"4"},s.a.createElement(Xs.a.Header,null,"Force Reset Rooms"),s.a.createElement(Xs.a.Body,{style:{backgroundColor:"rgb(23, 23, 71)"}},s.a.createElement("div",{className:"setHeight"},this.resetRooms())))),s.a.createElement("br",null),s.a.createElement("div",{className:"row"},s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-warning mb-3 setbutton col-3",onClick:function(){e.props.history.push("/AppMenu")}},"App Menu"),s.a.createElement("button",{className:"btn btn-warning mb-3 space setbutton col-3",onClick:function(){e.props.history.push("/EndOfDay")}},"All Reports"),s.a.createElement("button",{className:"btn btn-warning mb-3 space setbutton col-3",onClick:function(){e.props.history.push("/StoreReport")}},"Stock Movement"))),s.a.createElement("div",{className:"row"},s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-warning mb-3 space setbutton col-4",onClick:function(){e.props.history.push("/CashCollection")}},"Sales Summary"),s.a.createElement("button",{className:"btn btn-warning mb-3 space setbutton col-4",onClick:function(){e.props.history.push("/PoolBarDailySales")}},"PoolBar Report"),s.a.createElement("button",{className:"btn btn-warning mb-3 space setbutton col-4",onClick:function(){e.props.history.push("/ClubDailySales")}},"Reservation Report"),s.a.createElement("button",{className:"btn btn-danger mb-3 space setbutton col-4",onClick:function(){e.props.history.push("/BillingMenu")}},"Work Date"),s.a.createElement("button",{className:"btn btn-danger mb-3 space setbutton col-4",onClick:function(){return e.logout()}}," Log Out"))))),s.a.createElement(Js.a,{show:this.state.showRooms},s.a.createElement("div",{className:"missionvission"},s.a.createElement(Js.a.Body,null,s.a.createElement("div",{className:"size13"},s.a.createElement(Vs.a,{onClick:function(){return e.handleRoomClose()}})),s.a.createElement("div",{className:"missionStatement"},s.a.createElement(_s.a.Title,{className:"mb-3"},"Rooms Payment Analysis"),s.a.createElement("hr",null),s.a.createElement(_s.a.Subtitle,{className:"mb-3 text-muted editsub2"},o),s.a.createElement(_s.a.Text,{className:"mb-3 editsub"},s.a.createElement("div",{className:"tableBody"},s.a.createElement("p",{className:"adjust5"},"Cash: ",s.a.createElement(E.a,{value:this.state.Cash,thousandSeparator:!0,displayType:"text"})),s.a.createElement("p",{className:"adjust5"},"POS: ",s.a.createElement(E.a,{value:this.state.POS,thousandSeparator:!0,displayType:"text"})),s.a.createElement("p",{className:"adjust5"},"Transfer: ",s.a.createElement(E.a,{value:this.state.Transfer,thousandSeparator:!0,displayType:"text"})),s.a.createElement("p",{className:"adjust5"},"Room: ",s.a.createElement(E.a,{value:this.state.Room,thousandSeparator:!0,displayType:"text"})),s.a.createElement("p",{className:"adjust5"},"Reservation Deposit.: ",s.a.createElement(E.a,{value:this.state.Complimentary,thousandSeparator:!0,displayType:"text"})),s.a.createElement("p",{className:"adjust5"},"Total: ",s.a.createElement(E.a,{value:this.state.TotalSales,thousandSeparator:!0,displayType:"text"})))),s.a.createElement("br",null),s.a.createElement("br",null))))),s.a.createElement(Js.a,{show:this.state.showOthers},s.a.createElement("div",{className:"missionvission"},s.a.createElement(Js.a.Body,null,s.a.createElement("div",{className:"size13"},s.a.createElement(Vs.a,{onClick:function(){return e.handleOthersClose()}})),s.a.createElement("div",{className:"missionStatement"},s.a.createElement(_s.a.Title,{className:"mb-3"},"Others Payment Analysis"),s.a.createElement("hr",null),s.a.createElement(_s.a.Subtitle,{className:"mb-3 text-muted editsub"},o),s.a.createElement(_s.a.Text,{className:"mb-3 editsub"},s.a.createElement("div",{className:"tableBody"},s.a.createElement("p",{className:"adjust5"},"Cash: ",s.a.createElement(E.a,{value:this.state.OtherCash,thousandSeparator:!0,displayType:"text"})),s.a.createElement("p",{className:"adjust5"},"POS: ",s.a.createElement(E.a,{value:this.state.OtherPOS,thousandSeparator:!0,displayType:"text"})),s.a.createElement("p",{className:"adjust5"},"Transfer: ",s.a.createElement(E.a,{value:this.state.OtherTransfer,thousandSeparator:!0,displayType:"text"})),s.a.createElement("p",{className:"adjust5"},"Room: ",s.a.createElement(E.a,{value:this.state.OtherRoom,thousandSeparator:!0,displayType:"text"})),s.a.createElement("p",{className:"adjust5"},"Comp.: ",s.a.createElement(E.a,{value:this.state.OtherComplimentary,thousandSeparator:!0,displayType:"text"})),s.a.createElement("p",{className:"adjust5"},"Total: ",s.a.createElement(E.a,{value:this.state.OtherTotalSales,thousandSeparator:!0,displayType:"text"})))),s.a.createElement("br",null),s.a.createElement("br",null))))),s.a.createElement(Js.a,{show:this.state.showRest},s.a.createElement("div",{className:"missionvission"},s.a.createElement(Js.a.Body,null,s.a.createElement("div",{className:"size13"},s.a.createElement(Vs.a,{onClick:function(){return e.handleRestClose()}})),s.a.createElement("div",{className:"missionStatement"},s.a.createElement(_s.a.Title,{className:"mb-3"},"Restaurant Payment Analysis"),s.a.createElement("hr",null),s.a.createElement(_s.a.Subtitle,{className:"mb-3 text-muted editsub"},o),s.a.createElement(_s.a.Text,{className:"mb-3 editsub"},s.a.createElement("div",{className:"tableBody"},s.a.createElement("p",{className:"adjust5"},"Cash: ",s.a.createElement(E.a,{value:this.state.RestCash,thousandSeparator:!0,displayType:"text"})),s.a.createElement("p",{className:"adjust5"},"POS: ",s.a.createElement(E.a,{value:this.state.RestPOS,thousandSeparator:!0,displayType:"text"})),s.a.createElement("p",{className:"adjust5"},"Transfer: ",s.a.createElement(E.a,{value:this.state.RestTransfer,thousandSeparator:!0,displayType:"text"})),s.a.createElement("p",{className:"adjust5"},"Room: ",s.a.createElement(E.a,{value:this.state.RestRoom,thousandSeparator:!0,displayType:"text"})),s.a.createElement("p",{className:"adjust5"},"Comp.: ",s.a.createElement(E.a,{value:this.state.RestComplimentary,thousandSeparator:!0,displayType:"text"})),s.a.createElement("p",{className:"adjust5"},"Total: ",s.a.createElement(E.a,{value:this.state.RestTotalSales,thousandSeparator:!0,displayType:"text"})))),s.a.createElement("br",null),s.a.createElement("br",null))))),s.a.createElement(Js.a,{show:this.state.showInnerBar},s.a.createElement("div",{className:"missionvission"},s.a.createElement(Js.a.Body,null,s.a.createElement("div",{className:"size13"},s.a.createElement(Vs.a,{onClick:function(){return e.handleInnerBarClose()}})),s.a.createElement("div",{className:"missionStatement"},s.a.createElement(_s.a.Title,{className:"mb-3"},"Bar Payment Analysis"),s.a.createElement("hr",null),s.a.createElement(_s.a.Subtitle,{className:"mb-3 text-muted editsub"},o),s.a.createElement(_s.a.Text,{className:"mb-3 editsub"},s.a.createElement("div",{className:"tableBody"},s.a.createElement("p",{className:"adjust5"},"Cash: ",s.a.createElement(E.a,{value:this.state.BarCash,thousandSeparator:!0,displayType:"text"})),s.a.createElement("p",{className:"adjust5"},"POS: ",s.a.createElement(E.a,{value:this.state.BarPOS,thousandSeparator:!0,displayType:"text"})),s.a.createElement("p",{className:"adjust5"},"Transfer: ",s.a.createElement(E.a,{value:this.state.BarTransfer,thousandSeparator:!0,displayType:"text"})),s.a.createElement("p",{className:"adjust5"},"Room: ",s.a.createElement(E.a,{value:this.state.BarRoom,thousandSeparator:!0,displayType:"text"})),s.a.createElement("p",{className:"adjust5"},"Comp.: ",s.a.createElement(E.a,{value:this.state.BarComplimentary,thousandSeparator:!0,displayType:"text"})),s.a.createElement("p",{className:"adjust5"},"Total: ",s.a.createElement(E.a,{value:this.state.BarTotalSales,thousandSeparator:!0,displayType:"text"})))),s.a.createElement("br",null),s.a.createElement("br",null))))),s.a.createElement(Js.a,{show:this.state.showPool},s.a.createElement("div",{className:"missionvission"},s.a.createElement(Js.a.Body,null,s.a.createElement("div",{className:"size13"},s.a.createElement(Vs.a,{onClick:function(){return e.handlePoolClose()}})),s.a.createElement("div",{className:"missionStatement"},s.a.createElement(_s.a.Title,{className:"mb-3"},"Pool Bar Payment Analysis"),s.a.createElement("hr",null),s.a.createElement(_s.a.Subtitle,{className:"mb-3 text-muted editsub"},o),s.a.createElement(_s.a.Text,{className:"mb-3 editsub"},s.a.createElement("div",{className:"tableBody"},s.a.createElement("p",{className:"adjust5"},"Cash: ",s.a.createElement(E.a,{value:this.state.PoolCash,thousandSeparator:!0,displayType:"text"})),s.a.createElement("p",{className:"adjust5"},"POS: ",s.a.createElement(E.a,{value:this.state.PoolPOS,thousandSeparator:!0,displayType:"text"})),s.a.createElement("p",{className:"adjust5"},"Transfer: ",s.a.createElement(E.a,{value:this.state.PoolTransfer,thousandSeparator:!0,displayType:"text"})),s.a.createElement("p",{className:"adjust5"},"Room: ",s.a.createElement(E.a,{value:this.state.PoolRoom,thousandSeparator:!0,displayType:"text"})),s.a.createElement("p",{className:"adjust5"},"Comp.: ",s.a.createElement(E.a,{value:this.state.PoolComplimentary,thousandSeparator:!0,displayType:"text"})),s.a.createElement("p",{className:"adjust5"},"Total: ",s.a.createElement(E.a,{value:this.state.PoolTotalSales,thousandSeparator:!0,displayType:"text"})))),s.a.createElement("br",null),s.a.createElement("br",null))))),s.a.createElement(Js.a,{show:this.state.showClub},s.a.createElement("div",{className:"missionvission"},s.a.createElement(Js.a.Body,null,s.a.createElement("div",{className:"size13"},s.a.createElement(Vs.a,{onClick:function(){return e.handleClubClose()}})),s.a.createElement("div",{className:"missionStatement"},s.a.createElement(_s.a.Title,{className:"mb-3"},"Reservation Payment Analysis"),s.a.createElement("hr",null),s.a.createElement(_s.a.Subtitle,{className:"mb-3 text-muted editsub"},o),s.a.createElement(_s.a.Text,{className:"mb-3 editsub"},s.a.createElement("div",{className:"tableBody"},s.a.createElement("p",{className:"adjust5"},"Cash: ",s.a.createElement(E.a,{value:this.state.ClubCash,thousandSeparator:!0,displayType:"text"})),s.a.createElement("p",{className:"adjust5"},"POS: ",s.a.createElement(E.a,{value:this.state.ClubPOS,thousandSeparator:!0,displayType:"text"})),s.a.createElement("p",{className:"adjust5"},"Transfer: ",s.a.createElement(E.a,{value:this.state.ClubTransfer,thousandSeparator:!0,displayType:"text"})),s.a.createElement("p",{className:"adjust5"},"Room: ",s.a.createElement(E.a,{value:this.state.ClubRoom,thousandSeparator:!0,displayType:"text"})),s.a.createElement("p",{className:"adjust5"},"Comp.: ",s.a.createElement(E.a,{value:this.state.ClubComplimentary,thousandSeparator:!0,displayType:"text"})),s.a.createElement("p",{className:"adjust5"},"Total: ",s.a.createElement(E.a,{value:this.state.ClubTotalSales,thousandSeparator:!0,displayType:"text"})))),s.a.createElement("br",null),s.a.createElement("br",null))))))}},{key:"componentDidMount",value:function(){var e=this;console.log(">>> Inside DidMount"),fetch("".concat(Zs),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({allOccupied:t.map(function(e){return e.roomStatus}).filter(function(e){return"green"!==e&&"black"!==e}),allVacant:t.map(function(e){return e.roomStatus}).filter(function(e){return"green"===e}),allCorporate:t.map(function(e){return e.roomStatus}).filter(function(e){return"blue"===e}),allIndividual:t.map(function(e){return e.roomStatus}).filter(function(e){return"blueviolet"===e}),allStaff:t.map(function(e){return e.roomStatus}).filter(function(e){return"deeppink"===e}),allComplimentary:t.map(function(e){return e.roomStatus}).filter(function(e){return"orange"===e}),allCheckout:t.map(function(e){return e.roomStatus}).filter(function(e){return"black"===e})})}),fetch("".concat(to),{method:"GET"}).then(function(e){return e.json()}).then(function(t){var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({POS:a});var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({Cash:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({Transfer:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({Complimentary:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);e.setState({Room:r});var l=0+e.state.Cash+e.state.POS+e.state.Transfer+e.state.Room;e.setState({TotalSales:l})}),fetch("".concat(eo),{method:"GET"}).then(function(e){return e.json()}).then(function(t){var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({OtherPOS:a});var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({OtherCash:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({OtherTransfer:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({OtherComplimentary:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);e.setState({OtherRoom:r});var l=0+e.state.OtherCash+e.state.OtherPOS+e.state.OtherTransfer+e.state.OtherRoom;e.setState({OtherTotalSales:l})}),fetch("".concat(ao),{method:"GET"}).then(function(e){return e.json()}).then(function(t){var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({RestPOS:a});var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({RestCash:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({RestTransfer:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({RestComplimentary:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);e.setState({RestRoom:r});var l=0+e.state.RestCash+e.state.RestPOS+e.state.RestTransfer+e.state.RestRoom;e.setState({RestTotalSales:l})}),fetch("".concat(no),{method:"GET"}).then(function(e){return e.json()}).then(function(t){var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({BarPOS:a});var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({BarCash:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({BarTransfer:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({BarComplimentary:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);e.setState({BarRoom:r});var l=0+e.state.BarCash+e.state.BarPOS+e.state.BarTransfer+e.state.BarRoom;e.setState({BarTotalSales:l})}),fetch("".concat(so),{method:"GET"}).then(function(e){return e.json()}).then(function(t){var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({PoolPOS:a});var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({PoolCash:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({PoolTransfer:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({PoolComplimentary:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);e.setState({PoolRoom:r});var l=0+e.state.PoolCash+e.state.PoolPOS+e.state.PoolTransfer+e.state.PoolRoom;e.setState({PoolTotalSales:l})}),fetch("".concat(oo),{method:"GET"}).then(function(e){return e.json()}).then(function(t){var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({ClubPOS:a});var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({ClubCash:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({ClubTransfer:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({ClubComplimentary:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);e.setState({ClubRoom:r});var l=0+e.state.ClubCash+e.state.ClubPOS+e.state.ClubTransfer+e.state.ClubRoom;e.setState({ClubTotalSales:l})}),fetch("".concat($s),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({loginDetails:t})}),this.myTimer=setTimeout(function(){var t=e.state.loginDetails,a=e.state.name;t.some(function(e){return e.name===a})?e.setState({Blogin:!0}):e.setState({Blogin:!1});var n=parseInt(e.state.TotalSales)+parseInt(e.state.OtherTotalSales);e.setState({ReceptionSales:n})},1e3),fetch("".concat($s),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({loginDetails:t})}),this.myTimer=setInterval(function(){fetch("".concat(Zs),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({allOccupied:t.map(function(e){return e.roomStatus}).filter(function(e){return"green"!==e&&"black"!==e}),allVacant:t.map(function(e){return e.roomStatus}).filter(function(e){return"green"===e}),allCorporate:t.map(function(e){return e.roomStatus}).filter(function(e){return"blue"===e}),allIndividual:t.map(function(e){return e.roomStatus}).filter(function(e){return"blueviolet"===e}),allStaff:t.map(function(e){return e.roomStatus}).filter(function(e){return"deeppink"===e}),allComplimentary:t.map(function(e){return e.roomStatus}).filter(function(e){return"orange"===e}),allCheckout:t.map(function(e){return e.roomStatus}).filter(function(e){return"black"===e})})}),fetch("".concat(to),{method:"GET"}).then(function(e){return e.json()}).then(function(t){var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({POS:a});var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({Cash:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({Transfer:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({Complimentary:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);e.setState({Room:r});var l=0+e.state.Cash+e.state.POS+e.state.Transfer+e.state.Room;e.setState({TotalSales:l})}),fetch("".concat(eo),{method:"GET"}).then(function(e){return e.json()}).then(function(t){var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({OtherPOS:a});var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({OtherCash:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({OtherTransfer:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({OtherComplimentary:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);e.setState({OtherRoom:r});var l=0+e.state.OtherCash+e.state.OtherPOS+e.state.OtherTransfer+e.state.OtherRoom;e.setState({OtherTotalSales:l})}),fetch("".concat(ao),{method:"GET"}).then(function(e){return e.json()}).then(function(t){var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({RestPOS:a});var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({RestCash:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({RestTransfer:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({RestComplimentary:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);e.setState({RestRoom:r});var l=0+e.state.RestCash+e.state.RestPOS+e.state.RestTransfer+e.state.RestRoom;e.setState({RestTotalSales:l})}),fetch("".concat(no),{method:"GET"}).then(function(e){return e.json()}).then(function(t){var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({BarPOS:a});var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({BarCash:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({BarTransfer:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({BarComplimentary:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);e.setState({BarRoom:r});var l=0+e.state.BarCash+e.state.BarPOS+e.state.BarTransfer+e.state.BarRoom;e.setState({BarTotalSales:l})}),fetch("".concat(so),{method:"GET"}).then(function(e){return e.json()}).then(function(t){var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({PoolPOS:a});var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({PoolCash:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({PoolTransfer:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({PoolComplimentary:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);e.setState({PoolRoom:r});var l=0+e.state.PoolCash+e.state.PoolPOS+e.state.PoolTransfer+e.state.PoolRoom;e.setState({PoolTotalSales:l})}),fetch("".concat(oo),{method:"GET"}).then(function(e){return e.json()}).then(function(t){var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({ClubPOS:a});var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({ClubCash:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({ClubTransfer:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({ClubComplimentary:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);e.setState({ClubRoom:r});var l=0+e.state.ClubCash+e.state.ClubPOS+e.state.ClubTransfer+e.state.ClubRoom;e.setState({ClubTotalSales:l})})},2e4),fetch("".concat(lo),{method:"GET"}).then(function(e){return e.json()}).then(function(t){t.map(function(t){return e.setState({date:t.date}),"ok"})}),fetch("".concat(ro),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({resttables:t})}),fetch("".concat(co),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({bartables:t})}),fetch("".concat(io),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({poolbartables:t})}),fetch("".concat(mo),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({Clubtables:t})}),this.myTimer=setInterval(function(){fetch("".concat(lo),{method:"GET"}).then(function(e){return e.json()}).then(function(t){t.map(function(t){return e.setState({date:t.date}),"ok"}),fetch("".concat(ro),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({resttables:t})}),fetch("".concat(co),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({bartables:t})}),fetch("".concat(io),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({poolbartables:t})}),fetch("".concat(mo),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({Clubtables:t})})})},1e3),fetch("".concat($s),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({loginDetails:t})}),fetch("".concat($s),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({loginDetails:t})}),this.myTimer=setTimeout(function(){fetch("".concat(Zs),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({allOccupied:t.map(function(e){return e.roomStatus}).filter(function(e){return"green"!==e&&"black"!==e}),allVacant:t.map(function(e){return e.roomStatus}).filter(function(e){return"green"===e}),allCorporate:t.map(function(e){return e.roomStatus}).filter(function(e){return"blue"===e}),allIndividual:t.map(function(e){return e.roomStatus}).filter(function(e){return"blueviolet"===e}),allStaff:t.map(function(e){return e.roomStatus}).filter(function(e){return"deeppink"===e}),allComplimentary:t.map(function(e){return e.roomStatus}).filter(function(e){return"orange"===e}),allCheckout:t.map(function(e){return e.roomStatus}).filter(function(e){return"black"===e})})}),fetch("".concat(to),{method:"GET"}).then(function(e){return e.json()}).then(function(t){var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({POS:a});var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({Cash:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({Transfer:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({Complimentary:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);e.setState({Room:r});var l=0+e.state.Cash+e.state.POS+e.state.Transfer+e.state.Room;e.setState({TotalSales:l})}),fetch("".concat(eo),{method:"GET"}).then(function(e){return e.json()}).then(function(t){var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({OtherPOS:a});var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({OtherCash:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({OtherTransfer:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({OtherComplimentary:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);e.setState({OtherRoom:r});var l=0+e.state.OtherCash+e.state.OtherPOS+e.state.OtherTransfer+e.state.OtherRoom;e.setState({OtherTotalSales:l})}),fetch("".concat(ao),{method:"GET"}).then(function(e){return e.json()}).then(function(t){var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({RestPOS:a});var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({RestCash:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({RestTransfer:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({RestComplimentary:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);e.setState({RestRoom:r});var l=0+e.state.RestCash+e.state.RestPOS+e.state.RestTransfer+e.state.RestRoom;e.setState({RestTotalSales:l})}),fetch("".concat(no),{method:"GET"}).then(function(e){return e.json()}).then(function(t){var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({BarPOS:a});var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({BarCash:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({BarTransfer:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({BarComplimentary:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);e.setState({BarRoom:r});var l=0+e.state.BarCash+e.state.BarPOS+e.state.BarTransfer+e.state.BarRoom;e.setState({BarTotalSales:l})}),fetch("".concat(so),{method:"GET"}).then(function(e){return e.json()}).then(function(t){var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({PoolPOS:a});var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({PoolCash:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({PoolTransfer:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({PoolComplimentary:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);e.setState({PoolRoom:r});var l=0+e.state.PoolCash+e.state.PoolPOS+e.state.PoolTransfer+e.state.PoolRoom;e.setState({PoolTotalSales:l})}),fetch("".concat(oo),{method:"GET"}).then(function(e){return e.json()}).then(function(t){var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({ClubPOS:a});var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({ClubCash:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({ClubTransfer:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({ClubComplimentary:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);e.setState({ClubRoom:r});var l=0+e.state.ClubCash+e.state.ClubPOS+e.state.ClubTransfer+e.state.ClubRoom;e.setState({ClubTotalSales:l})}),fetch("".concat($s),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({loginDetails:t})}),e.myTimer=setTimeout(function(){var t=e.state.loginDetails,a=e.state.name;t.some(function(e){return e.name===a})?e.setState({Blogin:!0}):e.setState({Blogin:!1});var n=parseInt(e.state.TotalSales)+parseInt(e.state.OtherTotalSales);e.setState({ReceptionSales:n})},1e3),fetch("".concat($s),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({loginDetails:t})}),e.myTimer=setInterval(function(){fetch("".concat(Zs),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({allOccupied:t.map(function(e){return e.roomStatus}).filter(function(e){return"green"!==e&&"black"!==e}),allVacant:t.map(function(e){return e.roomStatus}).filter(function(e){return"green"===e}),allCorporate:t.map(function(e){return e.roomStatus}).filter(function(e){return"blue"===e}),allIndividual:t.map(function(e){return e.roomStatus}).filter(function(e){return"blueviolet"===e}),allStaff:t.map(function(e){return e.roomStatus}).filter(function(e){return"deeppink"===e}),allComplimentary:t.map(function(e){return e.roomStatus}).filter(function(e){return"orange"===e}),allCheckout:t.map(function(e){return e.roomStatus}).filter(function(e){return"black"===e})})}),fetch("".concat(to),{method:"GET"}).then(function(e){return e.json()}).then(function(t){var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({POS:a});var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({Cash:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({Transfer:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({Complimentary:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);e.setState({Room:r});var l=0+e.state.Cash+e.state.POS+e.state.Transfer+e.state.Room;e.setState({TotalSales:l})}),fetch("".concat(eo),{method:"GET"}).then(function(e){return e.json()}).then(function(t){var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({OtherPOS:a});var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({OtherCash:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({OtherTransfer:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({OtherComplimentary:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);e.setState({OtherRoom:r});var l=0+e.state.OtherCash+e.state.OtherPOS+e.state.OtherTransfer+e.state.OtherRoom;e.setState({OtherTotalSales:l})}),fetch("".concat(ao),{method:"GET"}).then(function(e){return e.json()}).then(function(t){var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({RestPOS:a});var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({RestCash:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({RestTransfer:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({RestComplimentary:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);e.setState({RestRoom:r});var l=0+e.state.RestCash+e.state.RestPOS+e.state.RestTransfer+e.state.RestRoom;e.setState({RestTotalSales:l})}),fetch("".concat(no),{method:"GET"}).then(function(e){return e.json()}).then(function(t){var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({BarPOS:a});var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({BarCash:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({BarTransfer:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({BarComplimentary:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);e.setState({BarRoom:r});var l=0+e.state.BarCash+e.state.BarPOS+e.state.BarTransfer+e.state.BarRoom;e.setState({BarTotalSales:l})}),fetch("".concat(so),{method:"GET"}).then(function(e){return e.json()}).then(function(t){var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({PoolPOS:a});var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({PoolCash:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({PoolTransfer:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({PoolComplimentary:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);e.setState({PoolRoom:r});var l=0+e.state.PoolCash+e.state.PoolPOS+e.state.PoolTransfer+e.state.PoolRoom;e.setState({PoolTotalSales:l})}),fetch("".concat(oo),{method:"GET"}).then(function(e){return e.json()}).then(function(t){var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({ClubPOS:a});var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({ClubCash:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({ClubTransfer:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({ClubComplimentary:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);e.setState({ClubRoom:r});var l=0+e.state.ClubCash+e.state.ClubPOS+e.state.ClubTransfer+e.state.ClubRoom;e.setState({ClubTotalSales:l})})},2e4),fetch("".concat(lo),{method:"GET"}).then(function(e){return e.json()}).then(function(t){t.map(function(t){return e.setState({date:t.date}),"ok"})}),fetch("".concat(ro),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({resttables:t})}),fetch("".concat(co),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({bartables:t})}),fetch("".concat(io),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({poolbartables:t})}),fetch("".concat(mo),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({Clubtables:t})}),e.myTimer=setInterval(function(){fetch("".concat(lo),{method:"GET"}).then(function(e){return e.json()}).then(function(t){t.map(function(t){return e.setState({date:t.date}),"ok"}),fetch("".concat(ro),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({resttables:t})}),fetch("".concat(co),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({bartables:t})}),fetch("".concat(io),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({poolbartables:t})}),fetch("".concat(mo),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({Clubtables:t})})})},1e3),fetch("".concat($s),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({loginDetails:t})}),fetch("".concat($s),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({loginDetails:t})})},1e3)}}]),a}(n.Component);a(240);Ws.e.register(Ws.d,Ws.h,Ws.b,Ws.m,Ws.n);var po="https://zarvichdemo.localto.net/fofUserInfo",fo=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),n=t.call(this,e),console.log(">>>Inside Constructor"),n.state={allOccupied:"",allVacant:"",allCorporate:"",allIndividual:"",allStaff:"",allComplimentary:"",allCheckout:"",TotalSales:0,POS:0,Cash:0,Transfer:0,Complimentary:0,Room:0,OtherTotalSales:0,OtherRoom:0,OtherComplimentary:0,OtherTransfer:0,OtherCash:0,OtherPOS:0,ReceptionSales:0,date:new Date,RestTotalSales:0,RestRoom:0,RestComplimentary:0,RestTransfer:0,RestCash:0,RestPOS:0,BarTotalSales:0,BarRoom:0,BarComplimentary:0,BarTransfer:0,BarCash:0,BarPOS:0,PoolTotalSales:0,PoolRoom:0,PoolComplimentary:0,PoolTransfer:0,PoolCash:0,PoolPOS:0,Gtotal:0,loginDetails:"",name:localStorage.getItem("userInfo"),login:"",Blogin:"",labels:["Rooms","Others","Restaurant","PoolBar","Inner Bar"],showRooms:!1,showOthers:!1,showRest:!1,showPool:!1,showInnerBar:!1},n}return Object(p.a)(a,[{key:"handleRoomShow",value:function(){this.setState({showRooms:!0})}},{key:"handleRoomClose",value:function(){this.setState({showRooms:!1})}},{key:"handleOthersShow",value:function(){this.setState({showOthers:!0})}},{key:"handleOthersClose",value:function(){this.setState({showOthers:!1})}},{key:"handleRestShow",value:function(){this.setState({showRest:!0})}},{key:"handleRestClose",value:function(){this.setState({showRest:!1})}},{key:"handlePoolClose",value:function(){this.setState({showPool:!1})}},{key:"handlePoolShow",value:function(){this.setState({showPool:!0})}},{key:"handleInnerBarClose",value:function(){this.setState({showInnerBar:!1})}},{key:"handleInnerBarShow",value:function(){this.setState({showInnerBar:!0})}},{key:"logout",value:function(){localStorage.removeItem("userInfo"),this.setState({login:!0})}},{key:"render",value:function(){var e=this;if(console.log(">>> Inside Render",this.state),null==localStorage.getItem("userInfo")||!1===this.state.Blogin)return s.a.createElement(s.a.Fragment,null,s.a.createElement(T,null));var t=this.state.allOccupied;if("green"!==t)var a=t.length;var n={labels:this.state.labels,datasets:[{data:[this.state.TotalSales,this.state.OtherTotalSales,this.state.RestTotalSales,this.state.PoolTotalSales,this.state.BarTotalSales],backgroundColor:["chartreuse","cornflowerblue","cyan","hotpink","lightseagreen"]}]},o=k()(this.state.date).format("YYYY-DD-MMM");return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"Dashbackground"},s.a.createElement("div",{className:"heading"},s.a.createElement("h5",null,"Dashboard")),s.a.createElement("div",{className:"miniDash"},s.a.createElement(Ks.a,{variant:"Danger",className:"DashSheet1",type:"button",onClick:function(){return e.handleRoomShow()}},s.a.createElement("p",{className:"mobileText"},"Rooms ",s.a.createElement("span",{className:"placeTxt"},"Occupied: ",a),": ",s.a.createElement(E.a,{value:this.state.TotalSales,thousandSeparator:!0,displayType:"text"}))),s.a.createElement(Ks.a,{variant:"Danger",className:"DashSheet2",type:"button",onClick:function(){return e.handleOthersShow()}},s.a.createElement("p",{className:"mobileText"},"Other Sales: ",s.a.createElement(E.a,{value:this.state.OtherTotalSales,thousandSeparator:!0,displayType:"text"}))),s.a.createElement(Ks.a,{variant:"Danger",className:"DashSheet3",type:"button",onClick:function(){return e.handleRestShow()}},s.a.createElement("p",{className:"mobileText"},"Restaurant: ",s.a.createElement(E.a,{value:this.state.RestTotalSales,thousandSeparator:!0,displayType:"text"}))),s.a.createElement(Ks.a,{variant:"Danger",className:"DashSheet4",type:"button",onClick:function(){return e.handleInnerBarShow()}},s.a.createElement("p",{className:"mobileText"},"Inner Bar: ",s.a.createElement(E.a,{value:this.state.BarTotalSales,thousandSeparator:!0,displayType:"text"}))),s.a.createElement(Ks.a,{variant:"Danger",className:"DashSheet5",type:"button",onClick:function(){return e.handlePoolShow()}},s.a.createElement("p",{className:"mobileText"},"Pool Bar: ",s.a.createElement(E.a,{value:this.state.PoolTotalSales,thousandSeparator:!0,displayType:"text"}))),s.a.createElement(Ks.a,{variant:"Danger",className:"DashSheet6"},s.a.createElement(_s.a.Title,null,s.a.createElement("p",{className:"mobileText"},"Total: ",s.a.createElement(E.a,{value:parseInt(this.state.PoolTotalSales)+parseInt(this.state.BarTotalSales)+parseInt(this.state.RestTotalSales)+parseInt(this.state.OtherTotalSales)+parseInt(this.state.TotalSales),thousandSeparator:!0,displayType:"text"}))))),s.a.createElement("div",{className:"chart"},s.a.createElement(Qs.a,{options:{responsive:!0,plugins:{title:{display:!0,text:"Income Chart"}}},data:n}))),s.a.createElement(Js.a,{show:this.state.showRooms},s.a.createElement("div",{className:"missionvission"},s.a.createElement(Js.a.Body,null,s.a.createElement("div",{className:"size13"},s.a.createElement(Vs.a,{onClick:function(){return e.handleRoomClose()}})),s.a.createElement("div",{className:"missionStatement"},s.a.createElement(_s.a.Title,{className:"mb-3"},"Rooms Payment Analysis"),s.a.createElement("hr",null),s.a.createElement(_s.a.Subtitle,{className:"mb-3 text-muted editsub2"},o),s.a.createElement(_s.a.Text,{className:"mb-3 editsub"},s.a.createElement("div",{className:"tableBody"},s.a.createElement("p",{className:"adjust5"},"Cash: ",s.a.createElement(E.a,{value:this.state.Cash,thousandSeparator:!0,displayType:"text"})),s.a.createElement("p",{className:"adjust5"},"POS: ",s.a.createElement(E.a,{value:this.state.POS,thousandSeparator:!0,displayType:"text"})),s.a.createElement("p",{className:"adjust5"},"Transfer: ",s.a.createElement(E.a,{value:this.state.Transfer,thousandSeparator:!0,displayType:"text"})),s.a.createElement("p",{className:"adjust5"},"Room: ",s.a.createElement(E.a,{value:this.state.Room,thousandSeparator:!0,displayType:"text"})),s.a.createElement("p",{className:"adjust5"},"Comp.: ",s.a.createElement(E.a,{value:this.state.Complimentary,thousandSeparator:!0,displayType:"text"})),s.a.createElement("p",{className:"adjust5"},"Total: ",s.a.createElement(E.a,{value:this.state.TotalSales,thousandSeparator:!0,displayType:"text"})))),s.a.createElement("br",null),s.a.createElement("br",null))))),s.a.createElement(Js.a,{show:this.state.showOthers},s.a.createElement("div",{className:"missionvission"},s.a.createElement(Js.a.Body,null,s.a.createElement("div",{className:"size13"},s.a.createElement(Vs.a,{onClick:function(){return e.handleOthersClose()}})),s.a.createElement("div",{className:"missionStatement"},s.a.createElement(_s.a.Title,{className:"mb-3"},"Others Payment Analysis"),s.a.createElement("hr",null),s.a.createElement(_s.a.Subtitle,{className:"mb-3 text-muted editsub"},o),s.a.createElement(_s.a.Text,{className:"mb-3 editsub"},s.a.createElement("div",{className:"tableBody"},s.a.createElement("p",{className:"adjust5"},"Cash: ",s.a.createElement(E.a,{value:this.state.OtherCash,thousandSeparator:!0,displayType:"text"})),s.a.createElement("p",{className:"adjust5"},"POS: ",s.a.createElement(E.a,{value:this.state.OtherPOS,thousandSeparator:!0,displayType:"text"})),s.a.createElement("p",{className:"adjust5"},"Transfer: ",s.a.createElement(E.a,{value:this.state.OtherTransfer,thousandSeparator:!0,displayType:"text"})),s.a.createElement("p",{className:"adjust5"},"Room: ",s.a.createElement(E.a,{value:this.state.OtherRoom,thousandSeparator:!0,displayType:"text"})),s.a.createElement("p",{className:"adjust5"},"Comp.: ",s.a.createElement(E.a,{value:this.state.OtherComplimentary,thousandSeparator:!0,displayType:"text"})),s.a.createElement("p",{className:"adjust5"},"Total: ",s.a.createElement(E.a,{value:this.state.OtherTotalSales,thousandSeparator:!0,displayType:"text"})))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("hr",null))))),s.a.createElement(Js.a,{show:this.state.showRest},s.a.createElement("div",{className:"missionvission"},s.a.createElement(Js.a.Body,null,s.a.createElement("div",{className:"size13"},s.a.createElement(Vs.a,{onClick:function(){return e.handleRestClose()}})),s.a.createElement("div",{className:"missionStatement"},s.a.createElement(_s.a.Title,{className:"mb-3"},"Restaurant Payment Analysis"),s.a.createElement("hr",null),s.a.createElement(_s.a.Subtitle,{className:"mb-3 text-muted editsub"},o),s.a.createElement(_s.a.Text,{className:"mb-3 editsub"},s.a.createElement("div",{className:"tableBody"},s.a.createElement("p",{className:"adjust5"},"Cash: ",s.a.createElement(E.a,{value:this.state.RestCash,thousandSeparator:!0,displayType:"text"})),s.a.createElement("p",{className:"adjust5"},"POS: ",s.a.createElement(E.a,{value:this.state.RestPOS,thousandSeparator:!0,displayType:"text"})),s.a.createElement("p",{className:"adjust5"},"Transfer: ",s.a.createElement(E.a,{value:this.state.RestTransfer,thousandSeparator:!0,displayType:"text"})),s.a.createElement("p",{className:"adjust5"},"Room: ",s.a.createElement(E.a,{value:this.state.RestRoom,thousandSeparator:!0,displayType:"text"})),s.a.createElement("p",{className:"adjust5"},"Comp.: ",s.a.createElement(E.a,{value:this.state.RestComplimentary,thousandSeparator:!0,displayType:"text"})),s.a.createElement("p",{className:"adjust5"},"Total: ",s.a.createElement(E.a,{value:this.state.RestTotalSales,thousandSeparator:!0,displayType:"text"})))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("hr",null))))),s.a.createElement(Js.a,{show:this.state.showInnerBar},s.a.createElement("div",{className:"missionvission"},s.a.createElement(Js.a.Body,null,s.a.createElement("div",{className:"size13"},s.a.createElement(Vs.a,{onClick:function(){return e.handleInnerBarClose()}})),s.a.createElement("div",{className:"missionStatement"},s.a.createElement(_s.a.Title,{className:"mb-3"},"Inner Bar Payment Analysis"),s.a.createElement("hr",null),s.a.createElement(_s.a.Subtitle,{className:"mb-3 text-muted editsub"},o),s.a.createElement(_s.a.Text,{className:"mb-3 editsub"},s.a.createElement("div",{className:"tableBody"},s.a.createElement("p",{className:"adjust5"},"Cash: ",s.a.createElement(E.a,{value:this.state.BarCash,thousandSeparator:!0,displayType:"text"})),s.a.createElement("p",{className:"adjust5"},"POS: ",s.a.createElement(E.a,{value:this.state.BarPOS,thousandSeparator:!0,displayType:"text"})),s.a.createElement("p",{className:"adjust5"},"Transfer: ",s.a.createElement(E.a,{value:this.state.BarTransfer,thousandSeparator:!0,displayType:"text"})),s.a.createElement("p",{className:"adjust5"},"Room: ",s.a.createElement(E.a,{value:this.state.BarRoom,thousandSeparator:!0,displayType:"text"})),s.a.createElement("p",{className:"adjust5"},"Comp.: ",s.a.createElement(E.a,{value:this.state.BarComplimentary,thousandSeparator:!0,displayType:"text"})),s.a.createElement("p",{className:"adjust5"},"Total: ",s.a.createElement(E.a,{value:this.state.BarTotalSales,thousandSeparator:!0,displayType:"text"})))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("hr",null))))),s.a.createElement(Js.a,{show:this.state.showPool},s.a.createElement("div",{className:"missionvission"},s.a.createElement(Js.a.Body,null,s.a.createElement("div",{className:"size13"},s.a.createElement(Vs.a,{onClick:function(){return e.handlePoolClose()}})),s.a.createElement("div",{className:"missionStatement"},s.a.createElement(_s.a.Title,{className:"mb-3"},"Pool Bar Payment Analysis"),s.a.createElement("hr",null),s.a.createElement(_s.a.Subtitle,{className:"mb-3 text-muted editsub"},o),s.a.createElement(_s.a.Text,{className:"mb-3 editsub"},s.a.createElement("div",{className:"tableBody"},s.a.createElement("p",{className:"adjust5"},"Cash: ",s.a.createElement(E.a,{value:this.state.PoolCash,thousandSeparator:!0,displayType:"text"})),s.a.createElement("p",{className:"adjust5"},"POS: ",s.a.createElement(E.a,{value:this.state.PoolPOS,thousandSeparator:!0,displayType:"text"})),s.a.createElement("p",{className:"adjust5"},"Transfer: ",s.a.createElement(E.a,{value:this.state.PoolTransfer,thousandSeparator:!0,displayType:"text"})),s.a.createElement("p",{className:"adjust5"},"Room: ",s.a.createElement(E.a,{value:this.state.PoolRoom,thousandSeparator:!0,displayType:"text"})),s.a.createElement("p",{className:"adjust5"},"Comp.: ",s.a.createElement(E.a,{value:this.state.PoolComplimentary,thousandSeparator:!0,displayType:"text"})),s.a.createElement("p",{className:"adjust5"},"Total: ",s.a.createElement(E.a,{value:this.state.PoolTotalSales,thousandSeparator:!0,displayType:"text"})))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("hr",null))))))}},{key:"componentDidMount",value:function(){var e=this;console.log(">>> Inside DidMount"),fetch("".concat("https://zarvichdemo.localto.net/getrmstatus"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({allOccupied:t.map(function(e){return e.roomStatus}).filter(function(e){return"green"!==e&&"black"!==e}),allVacant:t.map(function(e){return e.roomStatus}).filter(function(e){return"green"===e}),allCorporate:t.map(function(e){return e.roomStatus}).filter(function(e){return"blue"===e}),allIndividual:t.map(function(e){return e.roomStatus}).filter(function(e){return"blueviolet"===e}),allStaff:t.map(function(e){return e.roomStatus}).filter(function(e){return"deeppink"===e}),allComplimentary:t.map(function(e){return e.roomStatus}).filter(function(e){return"orange"===e}),allCheckout:t.map(function(e){return e.roomStatus}).filter(function(e){return"black"===e})})}),fetch("".concat("https://zarvichdemo.localto.net/getRmDeposits"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({POS:a});var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({Cash:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({Transfer:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({Complimentary:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);e.setState({Room:r});var l=0+e.state.Cash+e.state.POS+e.state.Transfer+e.state.Room+e.state.Complimentary;e.setState({TotalSales:l})}),fetch("".concat("https://zarvichdemo.localto.net/otherSalesPoints"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({OtherPOS:a});var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({OtherCash:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({OtherTransfer:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({OtherComplimentary:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);e.setState({OtherRoom:r});var l=0+e.state.OtherCash+e.state.OtherPOS+e.state.OtherTransfer+e.state.OtherRoom+e.state.OtherComplimentary;e.setState({OtherTotalSales:l})}),fetch("".concat("https://zarvichdemo.localto.net/restaurantSales"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({RestPOS:a});var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({RestCash:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({RestTransfer:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({RestComplimentary:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);e.setState({RestRoom:r});var l=0+e.state.RestCash+e.state.RestPOS+e.state.RestTransfer+e.state.RestRoom+e.state.RestComplimentary;e.setState({RestTotalSales:l})}),fetch("".concat("https://zarvichdemo.localto.net/barSales"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({BarPOS:a});var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({BarCash:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({BarTransfer:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({BarComplimentary:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);e.setState({BarRoom:r});var l=0+e.state.BarCash+e.state.BarPOS+e.state.BarTransfer+e.state.BarRoom+e.state.BarComplimentary;e.setState({BarTotalSales:l})}),fetch("".concat("https://zarvichdemo.localto.net/poolbarSales"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({PoolPOS:a});var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({PoolCash:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({PoolTransfer:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({PoolComplimentary:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);e.setState({PoolRoom:r});var l=0+e.state.PoolCash+e.state.PoolPOS+e.state.PoolTransfer+e.state.PoolRoom+e.state.PoolComplimentary;e.setState({PoolTotalSales:l})}),fetch("".concat(po),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({loginDetails:t})}),this.myTimer=setTimeout(function(){var t=e.state.loginDetails,a=e.state.name;t.some(function(e){return e.name===a})?e.setState({Blogin:!0}):e.setState({Blogin:!1});var n=parseInt(e.state.TotalSales)+parseInt(e.state.OtherTotalSales);e.setState({ReceptionSales:n})},1e3),fetch("".concat(po),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({loginDetails:t})}),this.myTimer=setInterval(function(){fetch("".concat("https://zarvichdemo.localto.net/getrmstatus"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({allOccupied:t.map(function(e){return e.roomStatus}).filter(function(e){return"green"!==e&&"black"!==e}),allVacant:t.map(function(e){return e.roomStatus}).filter(function(e){return"green"===e}),allCorporate:t.map(function(e){return e.roomStatus}).filter(function(e){return"blue"===e}),allIndividual:t.map(function(e){return e.roomStatus}).filter(function(e){return"blueviolet"===e}),allStaff:t.map(function(e){return e.roomStatus}).filter(function(e){return"deeppink"===e}),allComplimentary:t.map(function(e){return e.roomStatus}).filter(function(e){return"orange"===e}),allCheckout:t.map(function(e){return e.roomStatus}).filter(function(e){return"black"===e})})}),fetch("".concat("https://zarvichdemo.localto.net/getRmDeposits"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({POS:a});var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({Cash:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({Transfer:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({Complimentary:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);e.setState({Room:r});var l=0+e.state.Cash+e.state.POS+e.state.Transfer+e.state.Room+e.state.Complimentary;e.setState({TotalSales:l})}),fetch("".concat("https://zarvichdemo.localto.net/otherSalesPoints"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({OtherPOS:a});var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({OtherCash:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({OtherTransfer:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({OtherComplimentary:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);e.setState({OtherRoom:r});var l=0+e.state.OtherCash+e.state.OtherPOS+e.state.OtherTransfer+e.state.OtherRoom+e.state.OtherComplimentary;e.setState({OtherTotalSales:l})}),fetch("".concat("https://zarvichdemo.localto.net/restaurantSales"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({RestPOS:a});var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({RestCash:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({RestTransfer:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({RestComplimentary:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);e.setState({RestRoom:r});var l=0+e.state.RestCash+e.state.RestPOS+e.state.RestTransfer+e.state.RestRoom+e.state.RestComplimentary;e.setState({RestTotalSales:l})}),fetch("".concat("https://zarvichdemo.localto.net/barSales"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({BarPOS:a});var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({BarCash:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({BarTransfer:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({BarComplimentary:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);e.setState({BarRoom:r});var l=0+e.state.BarCash+e.state.BarPOS+e.state.BarTransfer+e.state.BarRoom+e.state.BarComplimentary;e.setState({BarTotalSales:l})}),fetch("".concat("https://zarvichdemo.localto.net/poolbarSales"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({PoolPOS:a});var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({PoolCash:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({PoolTransfer:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({PoolComplimentary:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);e.setState({PoolRoom:r});var l=0+e.state.PoolCash+e.state.PoolPOS+e.state.PoolTransfer+e.state.PoolRoom+e.state.PoolComplimentary;e.setState({PoolTotalSales:l})}),fetch("".concat(po),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({loginDetails:t})})},3e4)}}]),a}(n.Component),bo="https://zarvichdemo.localto.net/feesAndCharges",go=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value))},console.log(">>> inside GrpCobtructor",e),n.state={_id:Math.floor(1e4*Math.random()),feesData:"",feesName:"",feeAmount:0,feesRate:0,feesID:"",loginDetails:"",name:localStorage.getItem("userInfo"),login:"",Blogin:"",getfeesID:""},n}return Object(p.a)(a,[{key:"logout",value:function(){localStorage.removeItem("userInfo"),this.setState({login:!0})}},{key:"deletedept",value:function(){var e=this;fetch("".concat("https://zarvichdemo.localto.net/delFee","/").concat(sessionStorage.getItem("getfeesdelID")),{method:"delete"}),alert("Levy Deleted"),this.setState({feesName:"",feesID:"",feesRate:0,feesData:"",_id:""}),this.myTimer=setTimeout(function(){fetch("".concat(bo),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({feesData:t}),t.map(function(t){var a=parseInt(t.feesID),n=Math.max(a)+1;return e.setState({feesID:n}),"ok"})})},1e3),this.myTimer=setTimeout(function(){e.setState({_id:Math.floor(1e4*Math.random())})},1e3)}},{key:"editDept",value:function(){var e=this,t=parseInt(sessionStorage.getItem("feesID"));fetch("".concat("https://zarvichdemo.localto.net/feesAndCharges?fID=").concat(t),{method:"GET"}).then(function(e){return e.json()}).then(function(t){t.map(function(t){return e.setState({feesID:t.feesID,feesName:t.feesName,feesRate:t.feesRate}),"ok"})})}},{key:"handleSubmit",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=this.state.feesData,a=this.state.feesID,n={feesID:"".concat(this.state.feesID),feesName:"".concat(this.state.feesName),feesRate:"".concat(this.state.feesRate),_id:"".concat(this.state._id)},!t.some(function(e){return e.feesID===a})){e.next=10;break}alert(this.state.feesName+" already exist"),fetch("".concat(bo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){o.setState({feesData:e}),e.map(function(e){var t=parseInt(e.feesID),a=Math.max(t)+1;return o.setState({feesID:a,feesName:"",feesRate:0}),"ok"})}),this.myTimer=setTimeout(function(){o.setState({_id:Math.floor(1e4*Math.random())})},1e3),e.next=18;break;case 10:return e.next=12,fetch("".concat("https://zarvichdemo.localto.net/postFees"),{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)});case 12:s=e.sent,console.log("result>  "+s),alert(this.state.feesName+" Added"),this.setState({feesName:"",feesIDs:"",feesRate:0,feesData:"",_id:""}),fetch("".concat(bo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){o.setState({feesData:e}),e.map(function(e){var t=parseInt(e.feesID),a=Math.max(t)+1;return o.setState({feesID:a}),"ok"})}),this.myTimer=setTimeout(function(){o.setState({_id:Math.floor(1e4*Math.random())})},1e3);case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),console.log(e.t0);case 23:case"end":return e.stop()}},e,this,[[0,20]])}));return function(){return e.apply(this,arguments)}}()},{key:"feesUpdate",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.state.feesID,a={_id:"".concat(this.state._id),feesName:"".concat(this.state.feesName),feesRate:"".concat(this.state.feesRate),feesID:"".concat(this.state.feesID)},e.next=5,fetch("".concat("https://zarvichdemo.localto.net/editfees","/").concat(t),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(a)});case 5:n=e.sent,console.log("result>  "+n),alert(this.state.feesName+" Updated"),this.setState({feesName:"",feesID:"",feesData:"",feesRate:0,_id:""}),fetch("".concat(bo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){s.setState({feesData:e}),e.map(function(e){var t=parseInt(e.feesID),a=Math.max(t)+1;return s.setState({feesID:a}),"ok"})}),this.myTimer=setTimeout(function(){s.setState({_id:Math.floor(1e4*Math.random())})},1e3),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}},e,this,[[0,13]])}));return function(){return e.apply(this,arguments)}}()},{key:"renderfeesData",value:function(e){var t=this;if(e)return e.map(function(a){return e.sort(function(e,t){return e.feesID-t.feesID}),s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:a._id},s.a.createElement("td",{className:"table-light table-striped adjust2"},a.feesID),s.a.createElement("td",{className:"table-light table-striped adjust2"},a.feesName),s.a.createElement("td",{className:"table-light table-striped adjust2"},a.feesRate),s.a.createElement("td",{className:"table-light table-striped adjust10"},s.a.createElement("button",{className:"btn btn-primary textcolor",onMouseOver:function(){return sessionStorage.setItem("feesID",a.feesID)},onClick:function(){t.editDept()}},"Edit")),s.a.createElement("td",{className:"table-light table-striped adjust10"},s.a.createElement("button",{className:"btn btn-danger textcolor",onMouseOver:function(){return sessionStorage.setItem("getfeesdelID",a.feesID)},onClick:function(){t.deletedept()}},"Delete"))))})}},{key:"render",value:function(){var e=this;return console.log(">>> Inside Grpdetails",this.state),null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement(As,null)):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"background990i2"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-3"},s.a.createElement("h4",{style:{color:"silver",marginLeft:"50px",marginBottom:"-50px"}},"Hospitality Levies")),s.a.createElement("div",{className:"col-6"},s.a.createElement("h6",{style:{color:"purple",marginLeft:"480px",marginBottom:"-50px"}},"Welcome, ",localStorage.getItem("userInfo").split(" ")[0]," ")),s.a.createElement("div",{className:"col-3"},s.a.createElement("h6",{type:"button",style:{color:"yellow",marginLeft:"180",textAlign:"left",marginBottom:"-50px"},onClick:function(){return e.logout()}},"Logout "))),s.a.createElement("h4",{style:{color:"rgb(23, 23, 71)",marginLeft:"50px",marginBottom:"-40px"}}," "),s.a.createElement("div",{className:"formdesign510b"},s.a.createElement("div",{className:"row container"},s.a.createElement("div",{className:"col-4"},s.a.createElement("p",{type:"text",className:"form-control mb-3 formsize51",name:"feesID"},this.state.feesID," ")),s.a.createElement("div",{className:"col-4"},s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize51",name:"feesName",require:!0,placeholder:"Enter Levy Name",value:this.state.feesName,onChange:this.handleChange})),s.a.createElement("div",{className:"col-4"},s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize51",name:"feesRate",require:!0,placeholder:"Enter Levy Name",value:this.state.feesRate,onChange:this.handleChange})),s.a.createElement("center",null,s.a.createElement("br",null),s.a.createElement("span",null,s.a.createElement("button",{disabled:""===this.state.feesName||0===this.state.feesRate,className:"btn btn-warning",onClick:function(){return e.handleSubmit()}},"Add New Levy"),s.a.createElement("button",{disabled:""===this.state.feesName,className:"btn btn-warning gap",onClick:function(){return e.feesUpdate()}},"Save Update"),s.a.createElement("button",{className:"btn btn-danger gap",onClick:function(){return e.props.history.push("/settings")}},"Close")))),s.a.createElement("br",null),s.a.createElement("div",{className:"container"},s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust5"},"Levy ID"),s.a.createElement("th",{className:"adjust5"},"Levy Name"),s.a.createElement("th",{className:"adjust5"},"Levy Rate"),s.a.createElement("th",{className:"adjust5"},"Action"),s.a.createElement("th",{className:"adjust5"}," "))),s.a.createElement("tbody",{className:"table table-hover"},this.renderfeesData(this.state.feesData))),s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-danger gap mb-3",onClick:function(){return e.props.history.push("/Settings")}},"Close"),s.a.createElement("button",{className:"btn btn-success mb-3 gap ",onClick:function(){e.props.history.push("/Dashboard")}},"Goto Dashboard"))))))}},{key:"componentDidMount",value:function(){var e=this;console.log(">>> Inside GrpDidMount",this.state),fetch("".concat(bo),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({feesData:t}),t.map(function(t){var a=parseInt(t.feesID),n=Math.max(a)+1;return e.setState({feesID:n}),"ok"})}),fetch("".concat("https://zarvichdemo.localto.net/adminUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({loginDetails:t})}),this.myTimer=setTimeout(function(){var t=e.state.loginDetails,a=e.state.name;t.some(function(e){return e.name===a})?e.setState({Blogin:!0}):e.setState({Blogin:!1})},1e3)}}]),a}(n.Component),Eo="https://zarvichdemo.localto.net/rooms",So="https://zarvichdemo.localto.net/roomTypes",yo=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value))},n.handleChange3=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value)),fetch("".concat(So),{method:"GET"}).then(function(e){return e.json()}).then(function(e){n.setState({feesData:e})})},n.handleChange2=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value)),"Add New"===e.target.value&&(n.setState({edit:!0}),fetch("".concat(So),{method:"GET"}).then(function(e){return e.json()}).then(function(e){n.setState({feesData:e}),e.map(function(e){var t=parseInt(e.typeID),a=Math.max(t)+1;return n.setState({typeID:a,roomType:""}),"ok"})}))},console.log(">>> inside GrpCobtructor",e),n.state={_id:Math.floor(1e4*Math.random()),roomsData:"",roomNumbers:"",roomStatus:"green",roomtypeName:"",fname:"",lname:"",status:"",BillStatus:"",roomTypeID:0,roomRate:"",floorNumber:"",loginDetails:"",name:localStorage.getItem("userInfo"),login:"",Blogin:"",feesData:"",roomType:"",typeID:"",edit:!1},n}return Object(p.a)(a,[{key:"onOpenModaledit",value:function(){var e=this;this.setState({edit:!0}),fetch("".concat(So),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({feesData:t})})}},{key:"onCloseModaledit",value:function(){var e=this;this.setState({edit:!1}),fetch("".concat(So),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({feesData:t}),t.map(function(t){var a=parseInt(t.typeID),n=Math.max(a)+1;return e.setState({typeID:n}),"ok"})})}},{key:"logout",value:function(){localStorage.removeItem("userInfo"),this.setState({login:!0})}},{key:"deletedeptType",value:function(){var e=this;fetch("".concat("https://zarvichdemo.localto.net/delRoomType","/").concat(sessionStorage.getItem("getRmTypID")),{method:"delete"}),alert("Room Type Deleted"),this.setState({roomType:"",typeID:"",feesData:"",_id:""}),this.myTimer=setTimeout(function(){fetch("".concat(So),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({feesData:t}),t.map(function(t){var a=parseInt(t.typeID),n=Math.max(a)+1;return e.setState({typeID:n}),"ok"})})},1e3),this.myTimer=setTimeout(function(){e.setState({_id:Math.floor(1e4*Math.random())})},1e3)}},{key:"deleteRoom",value:function(){var e=this;fetch("".concat("https://zarvichdemo.localto.net/delRoom","/").concat(sessionStorage.getItem("getRoomsdelID")),{method:"delete"}),fetch("".concat("https://zarvichdemo.localto.net/delRoomSt","/").concat(sessionStorage.getItem("getRoomsdelID")),{method:"delete"}),alert("Room Deleted"),this.setState({roomtypeName:"",roomStatus:"",floorNumber:"",roomRate:"",roomsData:"",_id:""}),this.myTimer=setTimeout(function(){fetch("".concat(Eo),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({roomsData:t})})},1e3),this.myTimer=setTimeout(function(){e.setState({_id:Math.floor(1e4*Math.random())})},1e3)}},{key:"editRoomz",value:function(){var e=this;fetch("".concat("https://zarvichdemo.localto.net/rooms?details=").concat(sessionStorage.getItem("roomsIden")),{method:"GET"}).then(function(e){return e.json()}).then(function(t){t.map(function(t){return e.setState({roomID:t.roomID,roomtypeName:t.roomtypeName,roomRate:t.roomRate,roomNumbers:t.roomNumbers,floorNumber:t.floorNumber}),"ok"})})}},{key:"handleSubmitType",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=this.state.feesData,a=this.state.typeID,n={typeID:"".concat(this.state.typeID),roomType:"".concat(this.state.roomType),_id:"".concat(this.state._id)},!t.some(function(e){return e.typeID===a})){e.next=10;break}alert(this.state.roomType+" already exist"),fetch("".concat(So),{method:"GET"}).then(function(e){return e.json()}).then(function(e){o.setState({feesData:e}),e.map(function(e){var t=parseInt(e.typeID),a=Math.max(t)+1;return o.setState({typeID:a,roomType:""}),"ok"})}),this.myTimer=setTimeout(function(){o.setState({_id:Math.floor(1e4*Math.random())})},1e3),e.next=18;break;case 10:return e.next=12,fetch("".concat("https://zarvichdemo.localto.net/newRoom"),{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)});case 12:s=e.sent,console.log("result>  "+s),alert(this.state.roomType+" Added"),this.setState({roomType:"",typeID:"",feesData:"",_id:""}),fetch("".concat(So),{method:"GET"}).then(function(e){return e.json()}).then(function(e){o.setState({feesData:e}),e.map(function(e){var t=parseInt(e.typeID),a=Math.max(t)+1;return o.setState({typeID:a}),"ok"})}),this.myTimer=setTimeout(function(){o.setState({_id:Math.floor(1e4*Math.random())})},1e3);case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),console.log(e.t0);case 23:case"end":return e.stop()}},e,this,[[0,20]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleSubmit",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o,r,l=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=this.state.roomsData,a=this.state.roomNumbers,n={roomtypeID:parseInt("".concat(this.state.floorNumber)),roomtypeName:"".concat(this.state.roomtypeName),roomNumbers:"".concat(this.state.roomNumbers),roomRate:"".concat(this.state.roomRate),floorNumber:"".concat(this.state.floorNumber)},s={_id:"".concat(this.state.roomNumbers),roomNumbers:"".concat(this.state.roomNumbers),roomStatus:"".concat(this.state.roomStatus),roomtypeName:"".concat(this.state.roomtypeName),fname:"".concat(this.state.fname),lname:"".concat(this.state.lname),status:"".concat(this.state.status),BillStatus:"".concat(this.state.BillStatus)},!t.some(function(e){return e.roomNumbers===a})){e.next=10;break}alert(this.state.roomNumbers+" already exist"),fetch("".concat(Eo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){l.setState({roomsData:e}),l.setState({_id:Math.floor(1e4*Math.random()),roomtypeName:"",roomRate:"",roomNumbers:"",roomStatus:"green",floorNumber:"",feesData:""})}),e.next=26;break;case 10:if(!t.some(function(e){return e.roomNumbers===a})){e.next=15;break}alert(this.state.roomNumbers+" already exist"),fetch("".concat(Eo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){l.setState({roomsData:e}),l.setState({_id:Math.floor(1e4*Math.random()),roomtypeName:"",roomRate:"",roomNumbers:"",roomStatus:"green",floorNumber:"",feesData:""})}),e.next=26;break;case 15:return e.next=17,fetch("".concat("https://zarvichdemo.localto.net/createRoom"),{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)});case 17:return o=e.sent,console.log("result>  "+o),e.next=21,fetch("".concat("https://zarvichdemo.localto.net/createRoomStatus"),{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(s)});case 21:r=e.sent,console.log("result2>  "+r),alert(this.state.roomNumbers+" Added"),this.setState({_id:Math.floor(1e4*Math.random()),roomtypeName:"",roomRate:"",roomNumbers:"",roomStatus:"green",floorNumber:"",feesData:""}),fetch("".concat(Eo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){l.setState({roomsData:e}),l.setState({_id:Math.floor(1e4*Math.random())})});case 26:e.next=31;break;case 28:e.prev=28,e.t0=e.catch(0),console.log(e.t0);case 31:case"end":return e.stop()}},e,this,[[0,28]])}));return function(){return e.apply(this,arguments)}}()},{key:"renderTypeData",value:function(e){var t=this;if(e)return e.map(function(a){return e.sort(function(e,t){return e.typeID-t.typeID}),"Add New"!==a.roomType?s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:a.typeID},s.a.createElement("td",{className:"table-light table-striped adjust2"},a.typeID),s.a.createElement("td",{className:"table-light table-striped adjust2"},a.roomType),s.a.createElement("td",{className:"table-light table-striped adjust10"},s.a.createElement("button",{className:"btn btn-danger textcolor",onMouseOver:function(){return sessionStorage.setItem("getRmTypID",a.typeID)},onClick:function(){t.deletedeptType()}},"Delete")))):s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:a.typeID},s.a.createElement("td",null," ")))})}},{key:"renderRoomTypesData",value:function(e){if(e)return e.sort(function(e,t){return e.feesName-t.feesName}),e.map(function(e,t){return s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{key:t,value:e.roomType},e.roomType))})}},{key:"renderRoomsData",value:function(e){var t=this;if(e)return e.map(function(a){return e.sort(function(e,t){return e.roomNumbers-t.roomNumbers}),s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:a._id},s.a.createElement("td",{className:"table-light table-striped adjust2"},a.roomtypeName),s.a.createElement("td",{className:"table-light table-striped adjust2"},a.roomNumbers),s.a.createElement("td",{className:"table-light table-striped adjust2"},s.a.createElement(E.a,{value:a.roomRate,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2"},a.floorNumber),s.a.createElement("td",{className:"table-light table-striped adjust10"},s.a.createElement("button",{className:"btn btn-danger textcolor",onMouseOver:function(){return sessionStorage.setItem("getRoomsdelID",a.roomNumbers)},onClick:function(){t.deleteRoom()}},"Delete"))))})}},{key:"render",value:function(){var e=this;return console.log(">>> Inside Grpdetails",this.state),null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement(As,null)):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"background990i2"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-3"},s.a.createElement("h4",{style:{color:"silver",marginLeft:"50px",marginBottom:"-50px"}},"Rooms Management")),s.a.createElement("div",{className:"col-6"},s.a.createElement("h6",{style:{color:"purple",marginLeft:"480px",marginBottom:"-50px"}},"Welcome, ",localStorage.getItem("userInfo").split(" ")[0]," ")),s.a.createElement("div",{className:"col-3"},s.a.createElement("h6",{type:"button",style:{color:"yellow",marginLeft:"180",textAlign:"left",marginBottom:"-50px"},onClick:function(){return e.logout()}},"Logout "))),s.a.createElement("h4",{style:{color:"rgb(23, 23, 71)",marginLeft:"50px",marginBottom:"-40px"}}," "),s.a.createElement("div",{className:"formdesign510b"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-3"},s.a.createElement("input",{type:"number",className:"form-control mb-3 formsize51",name:"roomNumbers",require:!0,placeholder:"Room Number",value:this.state.roomNumbers,onChange:this.handleChange3})),s.a.createElement("div",{className:"col-3"},s.a.createElement("select",{className:"form-select  mb-3 formsize51",name:"roomtypeName",onChange:this.handleChange2},s.a.createElement("option",{defaultValue:""},"Room Types"),this.renderRoomTypesData(this.state.feesData))),s.a.createElement("div",{className:"col-3"},s.a.createElement("input",{type:"number",className:"form-control mb-3 formsize51",name:"roomRate",require:!0,placeholder:"Room Rate",value:this.state.roomRate,onChange:this.handleChange})),s.a.createElement("div",{className:"col-3"},s.a.createElement("input",{type:"number",className:"form-control mb-3 formsize51",name:"floorNumber",require:!0,placeholder:"Floor Number",value:this.state.floorNumber,onChange:this.handleChange}))),s.a.createElement("center",null,s.a.createElement("br",null),s.a.createElement("span",null,s.a.createElement("button",{disabled:""===this.state.roomtypeName||""===this.state.roomRate||""===this.state.roomNumbers||""===this.state.floorNumber,className:"btn btn-warning",onClick:function(){return e.handleSubmit()}},"Add New Room"),s.a.createElement("button",{className:"btn btn-danger gap",onClick:function(){return e.props.history.push("/settings")}},"Close")))),s.a.createElement("br",null),s.a.createElement("div",{className:"container"},s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust5"},"Room Name"),s.a.createElement("th",{className:"adjust5"},"Room Number"),s.a.createElement("th",{className:"adjust5"},"Room Rate"),s.a.createElement("th",{className:"adjust5"},"Floor Number"),s.a.createElement("th",{className:"adjust5"},"Action"),s.a.createElement("th",{className:"adjust5"}," "))),s.a.createElement("tbody",{className:"table table-hover"},this.renderRoomsData(this.state.roomsData))),s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-danger gap mb-3",onClick:function(){return e.props.history.push("/Settings")}},"Close"),s.a.createElement("button",{className:"btn btn-danger gap mb-3",onClick:function(){e.props.history.push("/Dashboard")}},"Goto Dashboard"))))),s.a.createElement(v.a,{open:this.state.edit,onClose:function(){return e.onCloseModaledit()}},s.a.createElement("div",{className:"background990i2b5"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-3"},s.a.createElement("h6",{style:{color:"silver",marginLeft:"50px",marginBottom:"-50px"}},"Add Room Type")),s.a.createElement("div",{className:"col-6"},s.a.createElement("h6",{style:{color:"purple",marginLeft:"480px",marginBottom:"-50px"}},"Welcome, ",localStorage.getItem("userInfo").split(" ")[0]," ")),s.a.createElement("div",{className:"col-3"},s.a.createElement("h6",{type:"button",style:{color:"yellow",marginLeft:"180",textAlign:"left",marginBottom:"-50px"},onClick:function(){return e.logout()}},"Logout "))),s.a.createElement("h4",{style:{color:"rgb(23, 23, 71)",marginLeft:"50px",marginBottom:"-40px"}}," "),s.a.createElement("center",null,s.a.createElement("div",{className:"formdesign510b21"},s.a.createElement("center",null,s.a.createElement("div",{className:"row container"},s.a.createElement("div",{className:"col-6"},s.a.createElement("p",{type:"text",className:"form-control mb-3 formsize51",name:"typeID"},this.state.typeID," ")),s.a.createElement("div",{className:"col-6"},s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize51",name:"roomType",require:!0,placeholder:"Enter Room Type",value:this.state.roomType,onChange:this.handleChange})),s.a.createElement("center",null,s.a.createElement("br",null),s.a.createElement("span",null,s.a.createElement("button",{disabled:""===this.state.feesName||""===this.state.typeID,className:"btn btn-warning",onClick:function(){return e.handleSubmitType()}},"Add Room Type"),s.a.createElement("button",{className:"btn btn-danger gap",onClick:function(){return e.onCloseModaledit()}},"Close"))))),s.a.createElement("br",null),s.a.createElement("div",{className:"container"},s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust5"},"Type ID"),s.a.createElement("th",{className:"adjust5"},"Room Name"),s.a.createElement("th",{className:"adjust5"},"Action"),s.a.createElement("th",{className:"adjust5"}," "))),s.a.createElement("tbody",{className:"table table-hover"},this.renderTypeData(this.state.feesData))),s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-danger gap mb-3",onClick:function(){return e.onCloseModaledit()}},"Close"))))))))}},{key:"componentDidMount",value:function(){var e=this;console.log(">>> Inside GrpDidMount",this.state),fetch("".concat(Eo),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({roomsData:t})}),fetch("".concat(So),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({feesData:t})}),fetch("".concat("https://zarvichdemo.localto.net/adminUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({loginDetails:t})}),this.myTimer=setTimeout(function(){var t=e.state.loginDetails,a=e.state.name;t.some(function(e){return e.name===a})?e.setState({Blogin:!0}):e.setState({Blogin:!1})},1e3)}}]),a}(n.Component),No="https://zarvichdemo.localto.net/barUserInfo?barrefcode=",vo="https://zarvichdemo.localto.net/baruser",Do="https://zarvichdemo.localto.net/delbarUser",To="https://zarvichdemo.localto.net/fofUserInfo?fofrefcode=",Co="https://zarvichdemo.localto.net/delfrontUser",ko="https://zarvichdemo.localto.net/editFrontUser",Io="https://zarvichdemo.localto.net/pooluser",jo="https://zarvichdemo.localto.net/delpoolUser",xo="https://zarvichdemo.localto.net/editPoolUser",Mo="https://zarvichdemo.localto.net/clubUserInfo?clubcode=",Oo="https://zarvichdemo.localto.net/ClubUsers",wo="https://zarvichdemo.localto.net/delclubUser",Po="https://zarvichdemo.localto.net/editClubUser",Ro="https://zarvichdemo.localto.net/adminUserInfo?refcode=",Ao="https://zarvichdemo.localto.net/housekpUserInfo?",zo="https://zarvichdemo.localto.net/delhousekpUser",Bo="https://zarvichdemo.localto.net/restUserInfo?restrefcode=",Go="https://zarvichdemo.localto.net/restuser",Yo="https://zarvichdemo.localto.net/delrestUser",Fo="https://zarvichdemo.localto.net/editRestkpUser",Uo="https://zarvichdemo.localto.net/billingUserInfo?billingrefcode=",Ho="https://zarvichdemo.localto.net/billinguser",qo="https://zarvichdemo.localto.net/delbillingUser",Lo="https://zarvichdemo.localto.net/editbillingUser",_o="https://zarvichdemo.localto.net/fandbUserInfo?fandbrefcode=",Wo="https://zarvichdemo.localto.net/delfandbUser",Qo="https://zarvichdemo.localto.net/billingUserInfo",Jo="https://zarvichdemo.localto.net/storeUserInfo?storerefcode=",Vo="https://zarvichdemo.localto.net/delstoreUser",Ko="https://zarvichdemo.localto.net/editstoreUser",Xo=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value))},console.log(">>> inside GrpCobtructor",e),n.state={_id:Math.floor(1e6*Math.random()),BarUsersData:"",FrontOffcUsers:"",BillingUsers:"",PoolUsers:"",ClubUsers:"",AdminUsers:"",HouseKpUsers:"",RestUsers:"",FandBUsers:"",storeUsers:"",staffData:"",staffname:"",username:"",password:"",department:"",loginDetails:"",name:localStorage.getItem("userInfo"),login:"",Blogin:"",show:"form-select  mb-3 formsize51",hide:"hidden"},n}return Object(p.a)(a,[{key:"logout",value:function(){localStorage.removeItem("userInfo"),this.setState({login:!0})}},{key:"deleteUser",value:function(){var e=this;"Admin"===sessionStorage.getItem("getUserDept")?(fetch("".concat("https://zarvichdemo.localto.net/deladminUser","/").concat(parseInt(sessionStorage.getItem("getUserID"))),{method:"delete"}),fetch("".concat(qo,"/").concat(parseInt(sessionStorage.getItem("getUserID"))),{method:"delete"}),fetch("".concat(Do,"/").concat(parseInt(sessionStorage.getItem("getUserID"))),{method:"delete"}),fetch("".concat(jo,"/").concat(parseInt(sessionStorage.getItem("getUserID"))),{method:"delete"}),fetch("".concat(wo,"/").concat(parseInt(sessionStorage.getItem("getUserID"))),{method:"delete"}),fetch("".concat(Vo,"/").concat(parseInt(sessionStorage.getItem("getUserID"))),{method:"delete"}),fetch("".concat(Wo,"/").concat(parseInt(sessionStorage.getItem("getUserID"))),{method:"delete"}),fetch("".concat(Co,"/").concat(parseInt(sessionStorage.getItem("getUserID"))),{method:"delete"}),fetch("".concat(zo,"/").concat(parseInt(sessionStorage.getItem("getUserID"))),{method:"delete"}),fetch("".concat(Yo,"/").concat(parseInt(sessionStorage.getItem("getUserID"))),{method:"delete"}),alert("Admin User Removed"),this.setState({staffname:"",password:"",username:"",department:"Select Department",_id:""}),this.myTimer=setTimeout(function(){fetch("".concat(No),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({BarUsersData:t})}),fetch("".concat(To),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({FrontOffcUsers:t})}),fetch("".concat(Mo),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({ClubUsers:t})}),fetch("".concat(Ro),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({AdminUsers:t})}),fetch("".concat(Ao),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({HouseKpUsers:t})}),fetch("".concat(Bo),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({RestUsers:t})}),fetch("".concat(Uo),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({BillingUsers:t})}),fetch("".concat(_o),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({FandBUsers:t})}),fetch("".concat(Jo),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({storeUsers:t})}),e.myTimer=setTimeout(function(){var t=e.state.BarUsersData,a=e.state.FrontOffcUsers,n=e.state.PoolUsers,s=e.state.ClubUsers,o=e.state.RestUsers,r=e.state.BillingUsers,l=e.state.FandBUsers,c=e.state.storeUsers,i=e.state.AdminUsers;e.setState({staffData:[].concat(Object(Ea.a)(t),Object(Ea.a)(a),Object(Ea.a)(n),Object(Ea.a)(o),Object(Ea.a)(r),Object(Ea.a)(l),Object(Ea.a)(c),Object(Ea.a)(i),Object(Ea.a)(s)),_id:Math.floor(1e7*Math.random())})},1e3)},1e3)):"Billing"===sessionStorage.getItem("getUserDept")?(fetch("".concat(qo,"/").concat(parseInt(sessionStorage.getItem("getUserID"))),{method:"delete"}),alert("Billing User Removed"),this.setState({staffname:"",password:"",username:"",department:"Select Department",_id:""}),this.myTimer=setTimeout(function(){fetch("".concat(No),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({BarUsersData:t})}),fetch("".concat(To),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({FrontOffcUsers:t})}),fetch("".concat(Mo),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({ClubUsers:t})}),fetch("".concat(Ro),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({AdminUsers:t})}),fetch("".concat(Ao),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({HouseKpUsers:t})}),fetch("".concat(Bo),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({RestUsers:t})}),fetch("".concat(Uo),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({BillingUsers:t})}),fetch("".concat(_o),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({FandBUsers:t})}),fetch("".concat(Jo),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({storeUsers:t})}),e.myTimer=setTimeout(function(){var t=e.state.BarUsersData,a=e.state.FrontOffcUsers,n=e.state.PoolUsers,s=e.state.clubStaff,o=e.state.RestUsers,r=e.state.BillingUsers,l=e.state.FandBUsers,c=e.state.storeUsers,i=e.state.AdminUsers;e.setState({staffData:[].concat(Object(Ea.a)(t),Object(Ea.a)(a),Object(Ea.a)(n),Object(Ea.a)(o),Object(Ea.a)(r),Object(Ea.a)(l),Object(Ea.a)(c),Object(Ea.a)(i),Object(Ea.a)(s)),_id:Math.floor(1e6*Math.random())})},2e3)},1e3)):"Bar"===sessionStorage.getItem("getUserDept")?(fetch("".concat(Do,"/").concat(parseInt(sessionStorage.getItem("getUserID"))),{method:"delete"}),alert("Bar User Removed"),this.setState({staffname:"",password:"",username:"",department:"Select Department",_id:""}),this.myTimer=setTimeout(function(){fetch("".concat(No),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({BarUsersData:t})}),fetch("".concat(To),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({FrontOffcUsers:t})}),fetch("".concat(Mo),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({ClubUsers:t})}),fetch("".concat(Ro),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({AdminUsers:t})}),fetch("".concat(Ao),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({HouseKpUsers:t})}),fetch("".concat(Bo),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({RestUsers:t})}),fetch("".concat(Uo),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({BillingUsers:t})}),fetch("".concat(_o),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({FandBUsers:t})}),fetch("".concat(Jo),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({storeUsers:t})}),e.myTimer=setTimeout(function(){var t=e.state.BarUsersData,a=e.state.FrontOffcUsers,n=e.state.PoolUsers,s=e.state.clubStaff,o=e.state.RestUsers,r=e.state.BillingUsers,l=e.state.FandBUsers,c=e.state.storeUsers,i=e.state.AdminUsers;e.setState({staffData:[].concat(Object(Ea.a)(t),Object(Ea.a)(a),Object(Ea.a)(n),Object(Ea.a)(o),Object(Ea.a)(r),Object(Ea.a)(l),Object(Ea.a)(c),Object(Ea.a)(i),Object(Ea.a)(s)),_id:Math.floor(1e6*Math.random())})},2e3)},1e3)):"PoolBar"===sessionStorage.getItem("getUserDept")?(fetch("".concat(jo,"/").concat(parseInt(sessionStorage.getItem("getUserID"))),{method:"delete"}),alert("PoolBar User Removed"),this.setState({staffname:"",password:"",username:"",department:"Select Department",_id:""}),this.myTimer=setTimeout(function(){fetch("".concat(No),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({BarUsersData:t})}),fetch("".concat(To),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({FrontOffcUsers:t})}),fetch("".concat(Mo),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({ClubUsers:t})}),fetch("".concat(Ro),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({AdminUsers:t})}),fetch("".concat(Ao),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({HouseKpUsers:t})}),fetch("".concat(Bo),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({RestUsers:t})}),fetch("".concat(Uo),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({BillingUsers:t})}),fetch("".concat(_o),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({FandBUsers:t})}),fetch("".concat(Jo),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({storeUsers:t})}),e.myTimer=setTimeout(function(){var t=e.state.BarUsersData,a=e.state.FrontOffcUsers,n=e.state.PoolUsers,s=e.state.clubStaff,o=e.state.RestUsers,r=e.state.BillingUsers,l=e.state.FandBUsers,c=e.state.storeUsers,i=e.state.AdminUsers;e.setState({staffData:[].concat(Object(Ea.a)(t),Object(Ea.a)(a),Object(Ea.a)(n),Object(Ea.a)(o),Object(Ea.a)(r),Object(Ea.a)(l),Object(Ea.a)(c),Object(Ea.a)(i),Object(Ea.a)(s)),_id:Math.floor(1e6*Math.random())})},2e3)},1e3)):"Club"===sessionStorage.getItem("getUserDept")?(fetch("".concat(wo,"/").concat(parseInt(sessionStorage.getItem("getUserID"))),{method:"delete"}),alert("Club User Removed"),this.setState({staffname:"",password:"",username:"",department:"Select Department",_id:""}),this.myTimer=setTimeout(function(){fetch("".concat(No),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({BarUsersData:t})}),fetch("".concat(To),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({FrontOffcUsers:t})}),fetch("".concat(Mo),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({ClubUsers:t})}),fetch("".concat(Ro),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({AdminUsers:t})}),fetch("".concat(Ao),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({HouseKpUsers:t})}),fetch("".concat(Bo),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({RestUsers:t})}),fetch("".concat(Uo),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({BillingUsers:t})}),fetch("".concat(_o),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({FandBUsers:t})}),fetch("".concat(Jo),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({storeUsers:t})}),e.myTimer=setTimeout(function(){var t=e.state.BarUsersData,a=e.state.FrontOffcUsers,n=e.state.PoolUsers,s=e.state.clubStaff,o=e.state.RestUsers,r=e.state.BillingUsers,l=e.state.FandBUsers,c=e.state.storeUsers,i=e.state.AdminUsers;e.setState({staffData:[].concat(Object(Ea.a)(t),Object(Ea.a)(a),Object(Ea.a)(n),Object(Ea.a)(o),Object(Ea.a)(r),Object(Ea.a)(l),Object(Ea.a)(c),Object(Ea.a)(i),Object(Ea.a)(s)),_id:Math.floor(1e6*Math.random())})},2e3)},1e3)):"Store"===sessionStorage.getItem("getUserDept")?(fetch("".concat(Vo,"/").concat(parseInt(sessionStorage.getItem("getUserID"))),{method:"delete"}),alert("Store User Removed"),this.setState({staffname:"",password:"",username:"",department:"Select Department",_id:""}),this.myTimer=setTimeout(function(){fetch("".concat(No),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({BarUsersData:t})}),fetch("".concat(To),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({FrontOffcUsers:t})}),fetch("".concat(Mo),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({ClubUsers:t})}),fetch("".concat(Ro),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({AdminUsers:t})}),fetch("".concat(Ao),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({HouseKpUsers:t})}),fetch("".concat(Bo),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({RestUsers:t})}),fetch("".concat(Uo),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({BillingUsers:t})}),fetch("".concat(_o),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({FandBUsers:t})}),fetch("".concat(Jo),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({storeUsers:t})}),e.myTimer=setTimeout(function(){var t=e.state.BarUsersData,a=e.state.FrontOffcUsers,n=e.state.PoolUsers,s=e.state.ClubUsers,o=e.state.RestUsers,r=e.state.BillingUsers,l=e.state.FandBUsers,c=e.state.storeUsers,i=e.state.AdminUsers;e.setState({staffData:[].concat(Object(Ea.a)(t),Object(Ea.a)(a),Object(Ea.a)(n),Object(Ea.a)(o),Object(Ea.a)(r),Object(Ea.a)(l),Object(Ea.a)(c),Object(Ea.a)(i),Object(Ea.a)(s)),_id:Math.floor(1e6*Math.random())})},2e3)},1e3)):"FandB"===sessionStorage.getItem("getUserDept")?(fetch("".concat(Wo,"/").concat(parseInt(sessionStorage.getItem("getUserID"))),{method:"delete"}),alert("F and B User Removed"),this.setState({staffname:"",password:"",username:"",department:"Select Department",_id:""}),this.myTimer=setTimeout(function(){fetch("".concat(No),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({BarUsersData:t})}),fetch("".concat(To),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({FrontOffcUsers:t})}),fetch("".concat(Mo),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({ClubUsers:t})}),fetch("".concat(Ro),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({AdminUsers:t})}),fetch("".concat(Ao),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({HouseKpUsers:t})}),fetch("".concat(Bo),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({RestUsers:t})}),fetch("".concat(Uo),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({BillingUsers:t})}),fetch("".concat(_o),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({FandBUsers:t})}),fetch("".concat(Jo),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({storeUsers:t})}),e.myTimer=setTimeout(function(){var t=e.state.BarUsersData,a=e.state.FrontOffcUsers,n=e.state.PoolUsers,s=e.state.ClubUsers,o=e.state.RestUsers,r=e.state.BillingUsers,l=e.state.FandBUsers,c=e.state.storeUsers,i=e.state.AdminUsers;e.setState({staffData:[].concat(Object(Ea.a)(t),Object(Ea.a)(a),Object(Ea.a)(n),Object(Ea.a)(o),Object(Ea.a)(r),Object(Ea.a)(l),Object(Ea.a)(c),Object(Ea.a)(i),Object(Ea.a)(s)),_id:Math.floor(1e6*Math.random())})},2e3)},1e3)):"Reception"===sessionStorage.getItem("getUserDept")?(fetch("".concat(Co,"/").concat(parseInt(sessionStorage.getItem("getUserID"))),{method:"delete"}),alert("Reception User Removed"),this.setState({staffname:"",password:"",username:"",department:"Select Department",_id:""}),this.myTimer=setTimeout(function(){fetch("".concat(No),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({BarUsersData:t})}),fetch("".concat(To),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({FrontOffcUsers:t})}),fetch("".concat(Mo),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({ClubUsers:t})}),fetch("".concat(Ro),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({AdminUsers:t})}),fetch("".concat(Ao),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({HouseKpUsers:t})}),fetch("".concat(Bo),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({RestUsers:t})}),fetch("".concat(Uo),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({BillingUsers:t})}),fetch("".concat(_o),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({FandBUsers:t})}),fetch("".concat(Jo),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({storeUsers:t})}),e.myTimer=setTimeout(function(){var t=e.state.BarUsersData,a=e.state.FrontOffcUsers,n=e.state.PoolUsers,s=e.state.ClubUsers,o=e.state.RestUsers,r=e.state.BillingUsers,l=e.state.FandBUsers,c=e.state.storeUsers,i=e.state.AdminUsers;e.setState({staffData:[].concat(Object(Ea.a)(t),Object(Ea.a)(a),Object(Ea.a)(n),Object(Ea.a)(o),Object(Ea.a)(r),Object(Ea.a)(l),Object(Ea.a)(c),Object(Ea.a)(i),Object(Ea.a)(s)),_id:Math.floor(1e6*Math.random())})},2e3)},1e3)):"HouseKeeping"===sessionStorage.getItem("getUserDept")?(fetch("".concat(zo,"/").concat(parseInt(sessionStorage.getItem("getUserID"))),{method:"delete"}),alert("HouseKeeping User Removed"),this.setState({staffname:"",password:"",username:"",department:"Select Department",_id:""}),this.myTimer=setTimeout(function(){fetch("".concat(No),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({BarUsersData:t})}),fetch("".concat(To),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({FrontOffcUsers:t})}),fetch("".concat(Mo),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({clubStaff:t})}),fetch("".concat(Ro),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({AdminUsers:t})}),fetch("".concat(Ao),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({HouseKpUsers:t})}),fetch("".concat(Bo),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({RestUsers:t})}),fetch("".concat(Uo),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({BillingUsers:t})}),fetch("".concat(_o),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({FandBUsers:t})}),fetch("".concat(Jo),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({storeUsers:t})}),e.myTimer=setTimeout(function(){var t=e.state.BarUsersData,a=e.state.FrontOffcUsers,n=e.state.PoolUsers,s=e.state.ClubUsers,o=e.state.RestUsers,r=e.state.BillingUsers,l=e.state.FandBUsers,c=e.state.storeUsers,i=e.state.AdminUsers;e.setState({staffData:[].concat(Object(Ea.a)(t),Object(Ea.a)(a),Object(Ea.a)(n),Object(Ea.a)(o),Object(Ea.a)(r),Object(Ea.a)(l),Object(Ea.a)(c),Object(Ea.a)(i),Object(Ea.a)(s)),_id:Math.floor(1e6*Math.random())})},2e3)},1e3)):"Restaurant"===sessionStorage.getItem("getUserDept")&&(fetch("".concat(Yo,"/").concat(parseInt(sessionStorage.getItem("getUserID"))),{method:"delete"}),alert("Restaurant User Removed"),this.setState({staffname:"",password:"",username:"",department:"Select Department",_id:""}),this.myTimer=setTimeout(function(){fetch("".concat(No),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({BarUsersData:t})}),fetch("".concat(To),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({FrontOffcUsers:t})}),fetch("".concat(Mo),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({ClubUsers:t})}),fetch("".concat(Ro),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({AdminUsers:t})}),fetch("".concat(Ao),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({HouseKpUsers:t})}),fetch("".concat(Bo),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({RestUsers:t})}),fetch("".concat(Uo),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({BillingUsers:t})}),fetch("".concat(_o),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({FandBUsers:t})}),fetch("".concat(Jo),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({storeUsers:t})}),e.myTimer=setTimeout(function(){var t=e.state.BarUsersData,a=e.state.FrontOffcUsers,n=e.state.PoolUsers,s=e.state.ClubUsers,o=e.state.RestUsers,r=e.state.BillingUsers,l=e.state.FandBUsers,c=e.state.storeUsers,i=e.state.AdminUsers,m=e.state.HouseKpUsers;e.setState({staffData:[].concat(Object(Ea.a)(t),Object(Ea.a)(a),Object(Ea.a)(n),Object(Ea.a)(o),Object(Ea.a)(r),Object(Ea.a)(l),Object(Ea.a)(c),Object(Ea.a)(i),Object(Ea.a)(m),Object(Ea.a)(s)),_id:Math.floor(1e6*Math.random())})},1e3)},1e3))}},{key:"editUser",value:function(){var e=this;"Admin"===sessionStorage.getItem("editUserDept")?fetch("".concat(Ro).concat(parseInt(sessionStorage.getItem("editUserID"))),{method:"get"}).then(function(e){return e.json()}).then(function(t){t.map(function(t){return e.setState({staffname:t.name,department:t.department,password:t.password,username:t.username}),"ok"})}):"Billing"===sessionStorage.getItem("editUserDept")?fetch("".concat(Uo).concat(parseInt(sessionStorage.getItem("editUserID"))),{method:"get"}).then(function(e){return e.json()}).then(function(t){t.map(function(t){return e.setState({staffname:t.name,department:t.department,password:t.password,username:t.username}),"ok"})}):"Bar"===sessionStorage.getItem("editUserDept")?fetch("".concat(No).concat(parseInt(sessionStorage.getItem("editUserID"))),{method:"get"}).then(function(e){return e.json()}).then(function(t){t.map(function(t){return e.setState({staffname:t.name,department:t.department,password:t.password,username:t.username}),"ok"})}):"Club"===sessionStorage.getItem("editUserDept")?fetch("".concat(Mo).concat(parseInt(sessionStorage.getItem("editUserID"))),{method:"get"}).then(function(e){return e.json()}).then(function(t){t.map(function(t){return e.setState({staffname:t.name,department:t.department,password:t.password,username:t.username}),"ok"})}):"Store"===sessionStorage.getItem("editUserDept")?fetch("".concat(Jo).concat(parseInt(sessionStorage.getItem("editUserID"))),{method:"get"}).then(function(e){return e.json()}).then(function(t){t.map(function(t){return e.setState({staffname:t.name,department:t.department,password:t.password,username:t.username}),"ok"})}):"FandB"===sessionStorage.getItem("editUserDept")?fetch("".concat(_o).concat(parseInt(sessionStorage.getItem("editUserID"))),{method:"get"}).then(function(e){return e.json()}).then(function(t){t.map(function(t){return e.setState({staffname:t.name,department:t.department,password:t.password,username:t.username}),"ok"})}):"Reception"===sessionStorage.getItem("editUserDept")?fetch("".concat(To).concat(parseInt(sessionStorage.getItem("editUserID"))),{method:"get"}).then(function(e){return e.json()}).then(function(t){t.map(function(t){return e.setState({staffname:t.name,department:t.department,password:t.password,username:t.username}),"ok"})}):"HouseKeeping"===sessionStorage.getItem("editUserDept")?fetch("".concat(Ao).concat(parseInt(sessionStorage.getItem("editUserID"))),{method:"get"}).then(function(e){return e.json()}).then(function(t){t.map(function(t){return e.setState({staffname:t.name,department:t.department,password:t.password,username:t.username}),"ok"})}):"Restaurant"===sessionStorage.getItem("editUserDept")&&fetch("".concat(Bo).concat(parseInt(sessionStorage.getItem("editUserID"))),{method:"get"}).then(function(e){return e.json()}).then(function(t){t.map(function(t){return e.setState({staffname:t.name,department:t.department,password:t.password,username:t.username}),"ok"})})}},{key:"handleUpdate",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o,r,l,c,i,u,h,d,p,f,b,g,E,S,y,N,v=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t={name:"".concat(this.state.staffname),username:"".concat(this.state.username),password:"".concat(this.state.password),department:"".concat(this.state.department)},"Admin"!==this.state.department){e.next=53;break}return e.next=5,fetch("".concat("https://zarvichdemo.localto.net/editAdminUser","/").concat(parseInt(sessionStorage.getItem("getUserID"))),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)});case 5:return a=e.sent,console.log("AdminEdit>  "+a),e.next=9,fetch("".concat(ko,"/").concat(parseInt(sessionStorage.getItem("getUserID"))),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)});case 9:return n=e.sent,console.log("ReceptnEdit>  "+n),e.next=13,fetch("".concat(xo,"/").concat(parseInt(sessionStorage.getItem("getUserID"))),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)});case 13:return s=e.sent,console.log("PoolEdit>  "+s),e.next=17,fetch("".concat(Po,"/").concat(parseInt(sessionStorage.getItem("getUserID"))),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)});case 17:return o=e.sent,console.log("ClubEdit>  "+o),e.next=21,fetch("".concat(Ko,"/").concat(parseInt(sessionStorage.getItem("getUserID"))),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)});case 21:return r=e.sent,console.log("StoreEdit>  "+r),e.next=25,fetch("".concat(Lo,"/").concat(parseInt(sessionStorage.getItem("getUserID"))),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)});case 25:return l=e.sent,console.log("BillingEdit>  "+l),e.next=29,fetch("".concat("https://zarvichdemo.localto.net/edithousekpUser","/").concat(parseInt(sessionStorage.getItem("getUserID"))),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)});case 29:return c=e.sent,console.log("HousekpEdit>  "+c),e.next=33,fetch("".concat(Fo,"/").concat(parseInt(sessionStorage.getItem("getUserID"))),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)});case 33:return i=e.sent,console.log("RestEdit>  "+i),e.next=37,fetch("".concat(Qo,"/").concat(parseInt(sessionStorage.getItem("getUserID"))),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)});case 37:u=e.sent,console.log("FandBEdit>  "+u),alert(this.state.department+" User Added"),this.setState({staffname:"",username:"",department:"Select Department",password:""}),fetch("".concat(No),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({BarUsersData:e})}),fetch("".concat(To),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({FrontOffcUsers:e})}),fetch("".concat(Mo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({ClubUsers:e})}),fetch("".concat(Ro),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({AdminUsers:e})}),fetch("".concat(Ao),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({HouseKpUsers:e})}),fetch("".concat(Bo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({RestUsers:e})}),fetch("".concat(Uo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({BillingUsers:e})}),fetch("".concat(_o),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({FandBUsers:e})}),fetch("".concat(Jo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({storeUsers:e})}),this.myTimer=setTimeout(function(){var e=v.state.BarUsersData,t=v.state.FrontOffcUsers,a=v.state.PoolUsers,n=v.state.ClubUsers,s=v.state.RestUsers,o=v.state.BillingUsers,r=v.state.FandBUsers,l=v.state.storeUsers,c=v.state.AdminUsers,i=v.state.HouseKpUsers;v.setState({staffData:[].concat(Object(Ea.a)(e),Object(Ea.a)(t),Object(Ea.a)(a),Object(Ea.a)(s),Object(Ea.a)(o),Object(Ea.a)(r),Object(Ea.a)(l),Object(Ea.a)(c),Object(Ea.a)(i),Object(Ea.a)(n)),_id:Math.floor(1e6*Math.random())})},2e3),e.next=226;break;case 53:if("Reception"!==this.state.department){e.next=76;break}return e.next=56,fetch("".concat(ko,"/").concat(parseInt(sessionStorage.getItem("getUserID"))),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)});case 56:return h=e.sent,console.log("ReceptnEdit>  "+h),e.next=60,fetch("".concat(Lo,"/").concat(parseInt(sessionStorage.getItem("getUserID"))),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)});case 60:d=e.sent,console.log("BillingEdit>  "+d),alert(this.state.department+" User Added"),this.setState({staffname:"",username:"",department:"Select Department",password:""}),fetch("".concat(No),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({BarUsersData:e})}),fetch("".concat(To),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({FrontOffcUsers:e})}),fetch("".concat(Mo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({ClubUsers:e})}),fetch("".concat(Ro),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({AdminUsers:e})}),fetch("".concat(Ao),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({HouseKpUsers:e})}),fetch("".concat(Bo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({RestUsers:e})}),fetch("".concat(Uo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({BillingUsers:e})}),fetch("".concat(_o),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({FandBUsers:e})}),fetch("".concat(Jo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({storeUsers:e})}),this.myTimer=setTimeout(function(){var e=v.state.BarUsersData,t=v.state.FrontOffcUsers,a=v.state.PoolUsers,n=v.state.ClubUsers,s=v.state.RestUsers,o=v.state.BillingUsers,r=v.state.FandBUsers,l=v.state.storeUsers,c=v.state.AdminUsers,i=v.state.HouseKpUsers;v.setState({staffData:[].concat(Object(Ea.a)(e),Object(Ea.a)(t),Object(Ea.a)(a),Object(Ea.a)(s),Object(Ea.a)(o),Object(Ea.a)(r),Object(Ea.a)(l),Object(Ea.a)(c),Object(Ea.a)(i),Object(Ea.a)(n)),_id:Math.floor(1e6*Math.random())})},1e3),e.next=226;break;case 76:if("PoolBar"!==this.state.department){e.next=95;break}return e.next=79,fetch("".concat(xo,"/").concat(parseInt(sessionStorage.getItem("getUserID"))),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)});case 79:p=e.sent,console.log("PoolEdit>  "+p),alert(this.state.department+" User Added"),this.setState({staffname:"",username:"",department:"Select Department",password:""}),fetch("".concat(No),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({BarUsersData:e})}),fetch("".concat(To),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({FrontOffcUsers:e})}),fetch("".concat(Mo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({ClubUsers:e})}),fetch("".concat(Ro),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({AdminUsers:e})}),fetch("".concat(Ao),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({HouseKpUsers:e})}),fetch("".concat(Bo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({RestUsers:e})}),fetch("".concat(Uo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({BillingUsers:e})}),fetch("".concat(_o),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({FandBUsers:e})}),fetch("".concat(Jo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({storeUsers:e})}),this.myTimer=setTimeout(function(){var e=v.state.BarUsersData,t=v.state.FrontOffcUsers,a=v.state.PoolUsers,n=v.state.ClubUsers,s=v.state.RestUsers,o=v.state.BillingUsers,r=v.state.FandBUsers,l=v.state.storeUsers,c=v.state.AdminUsers,i=v.state.HouseKpUsers;v.setState({staffData:[].concat(Object(Ea.a)(e),Object(Ea.a)(t),Object(Ea.a)(a),Object(Ea.a)(s),Object(Ea.a)(o),Object(Ea.a)(r),Object(Ea.a)(l),Object(Ea.a)(c),Object(Ea.a)(i),Object(Ea.a)(n)),_id:Math.floor(1e6*Math.random())})},1e3),e.next=226;break;case 95:if("Club"!==this.state.department){e.next=114;break}return e.next=98,fetch("".concat(Po,"/").concat(parseInt(sessionStorage.getItem("getUserID"))),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)});case 98:f=e.sent,console.log("ClubEdit>  "+f),alert(this.state.department+" User Added"),this.setState({staffname:"",username:"",department:"Select Department",password:""}),fetch("".concat(No),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({BarUsersData:e})}),fetch("".concat(To),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({FrontOffcUsers:e})}),fetch("".concat(Mo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({ClubUsers:e})}),fetch("".concat(Ro),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({AdminUsers:e})}),fetch("".concat(Ao),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({HouseKpUsers:e})}),fetch("".concat(Bo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({RestUsers:e})}),fetch("".concat(Uo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({BillingUsers:e})}),fetch("".concat(_o),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({FandBUsers:e})}),fetch("".concat(Jo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({storeUsers:e})}),this.myTimer=setTimeout(function(){var e=v.state.BarUsersData,t=v.state.FrontOffcUsers,a=v.state.PoolUsers,n=v.state.ClubUsers,s=v.state.RestUsers,o=v.state.BillingUsers,r=v.state.FandBUsers,l=v.state.storeUsers,c=v.state.AdminUsers,i=v.state.HouseKpUsers;v.setState({staffData:[].concat(Object(Ea.a)(e),Object(Ea.a)(t),Object(Ea.a)(a),Object(Ea.a)(s),Object(Ea.a)(o),Object(Ea.a)(r),Object(Ea.a)(l),Object(Ea.a)(c),Object(Ea.a)(i),Object(Ea.a)(n)),_id:Math.floor(1e6*Math.random())})},1e3),e.next=226;break;case 114:if("Store"!==this.state.department){e.next=133;break}return e.next=117,fetch("".concat(Ko,"/").concat(parseInt(sessionStorage.getItem("getUserID"))),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)});case 117:b=e.sent,console.log("StoreEdit>  "+b),alert(this.state.department+" User Added"),this.setState({staffname:"",username:"",department:"Select Department",password:""}),fetch("".concat(No),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({BarUsersData:e})}),fetch("".concat(To),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({FrontOffcUsers:e})}),fetch("".concat(Mo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({ClubUsers:e})}),fetch("".concat(Ro),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({AdminUsers:e})}),fetch("".concat(Ao),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({HouseKpUsers:e})}),fetch("".concat(Bo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({RestUsers:e})}),fetch("".concat(Uo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({BillingUsers:e})}),fetch("".concat(_o),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({FandBUsers:e})}),fetch("".concat(Jo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({storeUsers:e})}),this.myTimer=setTimeout(function(){var e=v.state.BarUsersData,t=v.state.FrontOffcUsers,a=v.state.PoolUsers,n=v.state.ClubUsers,s=v.state.RestUsers,o=v.state.BillingUsers,r=v.state.FandBUsers,l=v.state.storeUsers,c=v.state.AdminUsers,i=v.state.HouseKpUsers;v.setState({staffData:[].concat(Object(Ea.a)(e),Object(Ea.a)(t),Object(Ea.a)(a),Object(Ea.a)(s),Object(Ea.a)(o),Object(Ea.a)(r),Object(Ea.a)(l),Object(Ea.a)(c),Object(Ea.a)(i),Object(Ea.a)(n)),_id:Math.floor(1e6*Math.random())})},1e3),e.next=226;break;case 133:if("Billing"!==this.state.department){e.next=152;break}return e.next=136,fetch("".concat(Lo,"/").concat(parseInt(sessionStorage.getItem("getUserID"))),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)});case 136:g=e.sent,console.log("BillingEdit>  "+g),alert(this.state.department+" User Added"),this.setState({staffname:"",username:"",department:"Select Department",password:""}),fetch("".concat(No),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({BarUsersData:e})}),fetch("".concat(To),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({FrontOffcUsers:e})}),fetch("".concat(Mo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({ClubUsers:e})}),fetch("".concat(Ro),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({AdminUsers:e})}),fetch("".concat(Ao),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({HouseKpUsers:e})}),fetch("".concat(Bo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({RestUsers:e})}),fetch("".concat(Uo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({BillingUsers:e})}),fetch("".concat(_o),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({FandBUsers:e})}),fetch("".concat(Jo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({storeUsers:e})}),this.myTimer=setTimeout(function(){var e=v.state.BarUsersData,t=v.state.FrontOffcUsers,a=v.state.PoolUsers,n=v.state.ClubUsers,s=v.state.RestUsers,o=v.state.BillingUsers,r=v.state.FandBUsers,l=v.state.storeUsers,c=v.state.AdminUsers,i=v.state.HouseKpUsers;v.setState({staffData:[].concat(Object(Ea.a)(e),Object(Ea.a)(t),Object(Ea.a)(a),Object(Ea.a)(s),Object(Ea.a)(o),Object(Ea.a)(r),Object(Ea.a)(l),Object(Ea.a)(c),Object(Ea.a)(i),Object(Ea.a)(n)),_id:Math.floor(1e6*Math.random())})},1e3),e.next=226;break;case 152:if("Bar"!==this.state.department){e.next=171;break}return e.next=155,fetch("".concat("https://zarvichdemo.localto.net/editBarUser","/").concat(parseInt(sessionStorage.getItem("getUserID"))),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)});case 155:E=e.sent,console.log("BarEdit>  "+E),alert(this.state.department+" User Added"),this.setState({staffname:"",username:"",department:"Select Department",password:""}),fetch("".concat(No),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({BarUsersData:e})}),fetch("".concat(To),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({FrontOffcUsers:e})}),fetch("".concat(Mo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({ClubUsers:e})}),fetch("".concat(Ro),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({AdminUsers:e})}),fetch("".concat(Ao),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({HouseKpUsers:e})}),fetch("".concat(Bo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({RestUsers:e})}),fetch("".concat(Uo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({BillingUsers:e})}),fetch("".concat(_o),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({FandBUsers:e})}),fetch("".concat(Jo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({storeUsers:e})}),this.myTimer=setTimeout(function(){var e=v.state.BarUsersData,t=v.state.FrontOffcUsers,a=v.state.PoolUsers,n=v.state.ClubUsers,s=v.state.RestUsers,o=v.state.BillingUsers,r=v.state.FandBUsers,l=v.state.storeUsers,c=v.state.AdminUsers,i=v.state.HouseKpUsers;v.setState({staffData:[].concat(Object(Ea.a)(e),Object(Ea.a)(t),Object(Ea.a)(a),Object(Ea.a)(s),Object(Ea.a)(o),Object(Ea.a)(r),Object(Ea.a)(l),Object(Ea.a)(c),Object(Ea.a)(i),Object(Ea.a)(n)),_id:Math.floor(1e6*Math.random())})},1e3),e.next=226;break;case 171:if("HouseKeeping"!==this.state.department){e.next=190;break}return e.next=174,fetch("".concat("https://zarvichdemo.localto.net/edithousekpUser","/").concat(parseInt(sessionStorage.getItem("getUserID"))),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)});case 174:S=e.sent,console.log("HousekpEdit>  "+S),alert(this.state.department+" User Added"),this.setState({staffname:"",username:"",department:"Select Department",password:""}),fetch("".concat(No),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({BarUsersData:e})}),fetch("".concat(To),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({FrontOffcUsers:e})}),fetch("".concat(Mo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({ClubUsers:e})}),fetch("".concat(Ro),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({AdminUsers:e})}),fetch("".concat(Ao),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({HouseKpUsers:e})}),fetch("".concat(Bo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({RestUsers:e})}),fetch("".concat(Uo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({BillingUsers:e})}),fetch("".concat(_o),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({FandBUsers:e})}),fetch("".concat(Jo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({storeUsers:e})}),this.myTimer=setTimeout(function(){var e=v.state.BarUsersData,t=v.state.FrontOffcUsers,a=v.state.PoolUsers,n=v.state.ClubUsers,s=v.state.RestUsers,o=v.state.BillingUsers,r=v.state.FandBUsers,l=v.state.storeUsers,c=v.state.AdminUsers,i=v.state.HouseKpUsers;v.setState({staffData:[].concat(Object(Ea.a)(e),Object(Ea.a)(t),Object(Ea.a)(a),Object(Ea.a)(s),Object(Ea.a)(o),Object(Ea.a)(r),Object(Ea.a)(l),Object(Ea.a)(c),Object(Ea.a)(i),Object(Ea.a)(n)),_id:Math.floor(1e6*Math.random())})},1e3),e.next=226;break;case 190:if("Restaurant"!==this.state.department){e.next=209;break}return e.next=193,fetch("".concat(Fo,"/").concat(parseInt(sessionStorage.getItem("getUserID"))),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)});case 193:y=e.sent,console.log("RestEdit>  "+y),alert(this.state.department+" User Added"),this.setState({staffname:"",username:"",department:"Select Department",password:""}),fetch("".concat(No),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({BarUsersData:e})}),fetch("".concat(To),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({FrontOffcUsers:e})}),fetch("".concat(Mo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({ClubUsers:e})}),fetch("".concat(Ro),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({AdminUsers:e})}),fetch("".concat(Ao),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({HouseKpUsers:e})}),fetch("".concat(Bo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({RestUsers:e})}),fetch("".concat(Uo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({BillingUsers:e})}),fetch("".concat(_o),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({FandBUsers:e})}),fetch("".concat(Jo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({storeUsers:e})}),this.myTimer=setTimeout(function(){var e=v.state.BarUsersData,t=v.state.FrontOffcUsers,a=v.state.PoolUsers,n=v.state.ClubUsers,s=v.state.RestUsers,o=v.state.BillingUsers,r=v.state.FandBUsers,l=v.state.storeUsers,c=v.state.AdminUsers,i=v.state.HouseKpUsers;v.setState({staffData:[].concat(Object(Ea.a)(e),Object(Ea.a)(t),Object(Ea.a)(a),Object(Ea.a)(s),Object(Ea.a)(o),Object(Ea.a)(r),Object(Ea.a)(l),Object(Ea.a)(c),Object(Ea.a)(i),Object(Ea.a)(n)),_id:Math.floor(1e6*Math.random())})},1e3),e.next=226;break;case 209:if("FandB"!==this.state.department){e.next=226;break}return e.next=212,fetch("".concat(Qo,"/").concat(parseInt(sessionStorage.getItem("getUserID"))),{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)});case 212:N=e.sent,console.log("FandBEdit>  "+N),alert(this.state.department+" User Added"),this.setState({staffname:"",username:"",department:"Select Department",password:""}),fetch("".concat(No),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({BarUsersData:e})}),fetch("".concat(To),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({FrontOffcUsers:e})}),fetch("".concat(Mo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({ClubUsers:e})}),fetch("".concat(Ro),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({AdminUsers:e})}),fetch("".concat(Ao),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({HouseKpUsers:e})}),fetch("".concat(Bo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({RestUsers:e})}),fetch("".concat(Uo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({BillingUsers:e})}),fetch("".concat(_o),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({FandBUsers:e})}),fetch("".concat(Jo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){v.setState({storeUsers:e})}),this.myTimer=setTimeout(function(){var e=v.state.BarUsersData,t=v.state.FrontOffcUsers,a=v.state.PoolUsers,n=v.state.ClubUsers,s=v.state.RestUsers,o=v.state.BillingUsers,r=v.state.FandBUsers,l=v.state.storeUsers,c=v.state.AdminUsers,i=v.state.HouseKpUsers;v.setState({staffData:[].concat(Object(Ea.a)(e),Object(Ea.a)(t),Object(Ea.a)(a),Object(Ea.a)(s),Object(Ea.a)(o),Object(Ea.a)(r),Object(Ea.a)(l),Object(Ea.a)(c),Object(Ea.a)(i),Object(Ea.a)(n)),_id:Math.floor(1e6*Math.random())})},1e3);case 226:e.next=231;break;case 228:e.prev=228,e.t0=e.catch(0),console.log(e.t0);case 231:case"end":return e.stop()}},e,this,[[0,228]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleSubmit",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,o,r,l,c,i,u,h,d,p,f,b,g,E,S,y,N,v,D,T,C,k,I,j,x,M,O,w=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t={refID:"".concat(this.state._id),name:"".concat(this.state.staffname),username:"".concat(this.state.username),password:"".concat(this.state.password),department:"".concat(this.state.department)},a={refID:"".concat(this.state._id),name:"".concat(this.state.staffname),username:"".concat(this.state.username),password:"".concat(this.state.password),department:"Billing"},n={refID:"".concat(this.state._id),name:"".concat(this.state.staffname),username:"".concat(this.state.username),password:"".concat(this.state.password),department:"Bar"},s={refID:"".concat(this.state._id),name:"".concat(this.state.staffname),username:"".concat(this.state.username),password:"".concat(this.state.password),department:"Restaurant"},o={refID:"".concat(this.state._id),name:"".concat(this.state.staffname),username:"".concat(this.state.username),password:"".concat(this.state.password),department:"Club"},r={refID:"".concat(this.state._id),name:"".concat(this.state.staffname),username:"".concat(this.state.username),password:"".concat(this.state.password),department:"Reception"},l={refID:"".concat(this.state._id),name:"".concat(this.state.staffname),username:"".concat(this.state.username),password:"".concat(this.state.password),department:"HouseKeeping"},c={refID:"".concat(this.state._id),name:"".concat(this.state.staffname),username:"".concat(this.state.username),password:"".concat(this.state.password),department:"PoolBar"},i={refID:"".concat(this.state._id),name:"".concat(this.state.staffname),username:"".concat(this.state.username),password:"".concat(this.state.password),department:"Store"},u={refID:"".concat(this.state._id),name:"".concat(this.state.staffname),username:"".concat(this.state.username),password:"".concat(this.state.password),department:"FandB"},"Admin"!==this.state.department){e.next=66;break}return e.next=14,fetch("".concat("https://zarvichdemo.localto.net/adminuser"),{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)});case 14:return h=e.sent,console.log("Adminresult>  "+h),e.next=18,fetch("".concat("https://zarvichdemo.localto.net/fofuser"),{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(r)});case 18:return d=e.sent,console.log("FrontOffcresult>  "+d),e.next=22,fetch("".concat(Io),{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(c)});case 22:return p=e.sent,console.log("poolresult>  "+p),e.next=26,fetch("".concat(Oo),{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(o)});case 26:return f=e.sent,console.log("clubresult>  "+f),e.next=30,fetch("".concat("https://zarvichdemo.localto.net/storeuser"),{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(i)});case 30:return b=e.sent,console.log("storeresult>  "+b),e.next=34,fetch("".concat(Ho),{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(a)});case 34:return g=e.sent,console.log("billingresult>  "+g),e.next=38,fetch("".concat(vo),{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)});case 38:return E=e.sent,console.log("barresult>  "+E),e.next=42,fetch("".concat("https://zarvichdemo.localto.net/housekeepuser"),{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(l)});case 42:return S=e.sent,console.log("hskresult>  "+S),e.next=46,fetch("".concat(Go),{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(s)});case 46:return y=e.sent,console.log("restresult>  "+y),e.next=50,fetch("".concat("https://zarvichdemo.localto.net/fandbuser"),{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(u)});case 50:N=e.sent,console.log("fandbresult>  "+N),alert(this.state.department+" User Added"),this.setState({staffname:"",username:"",department:"Select Department",password:""}),fetch("".concat(No),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({BarUsersData:e})}),fetch("".concat(To),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({FrontOffcUsers:e})}),fetch("".concat(Mo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({ClubUsers:e})}),fetch("".concat(Ro),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({AdminUsers:e})}),fetch("".concat(Ao),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({HouseKpUsers:e})}),fetch("".concat(Bo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({RestUsers:e})}),fetch("".concat(Uo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({BillingUsers:e})}),fetch("".concat(_o),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({FandBUsers:e})}),fetch("".concat(Jo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({storeUsers:e})}),this.myTimer=setTimeout(function(){var e=w.state.BarUsersData,t=w.state.FrontOffcUsers,a=w.state.PoolUsers,n=w.state.ClubUsers,s=w.state.RestUsers,o=w.state.BillingUsers,r=w.state.FandBUsers,l=w.state.storeUsers,c=w.state.AdminUsers,i=w.state.HouseKpUsers;w.setState({staffData:[].concat(Object(Ea.a)(e),Object(Ea.a)(t),Object(Ea.a)(a),Object(Ea.a)(s),Object(Ea.a)(o),Object(Ea.a)(r),Object(Ea.a)(l),Object(Ea.a)(c),Object(Ea.a)(i),Object(Ea.a)(n)),_id:Math.floor(1e6*Math.random())})},2e3),e.next=239;break;case 66:if("Reception"!==this.state.department){e.next=89;break}return e.next=69,fetch("".concat("https://zarvichdemo.localto.net/fofuser"),{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)});case 69:return v=e.sent,console.log("result>  "+v),e.next=73,fetch("".concat(Ho),{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(a)});case 73:D=e.sent,console.log("Bresult>  "+D),alert(this.state.department+" User Added"),this.setState({staffname:"",username:"",department:"Select Department",password:""}),fetch("".concat(No),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({BarUsersData:e})}),fetch("".concat(To),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({FrontOffcUsers:e})}),fetch("".concat(Mo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({ClubUsers:e})}),fetch("".concat(Ro),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({AdminUsers:e})}),fetch("".concat(Ao),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({HouseKpUsers:e})}),fetch("".concat(Bo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({RestUsers:e})}),fetch("".concat(Uo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({BillingUsers:e})}),fetch("".concat(_o),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({FandBUsers:e})}),fetch("".concat(Jo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({storeUsers:e})}),this.myTimer=setTimeout(function(){var e=w.state.BarUsersData,t=w.state.FrontOffcUsers,a=w.state.PoolUsers,n=w.state.ClubUsers,s=w.state.RestUsers,o=w.state.BillingUsers,r=w.state.FandBUsers,l=w.state.storeUsers,c=w.state.AdminUsers,i=w.state.HouseKpUsers;w.setState({staffData:[].concat(Object(Ea.a)(e),Object(Ea.a)(t),Object(Ea.a)(a),Object(Ea.a)(s),Object(Ea.a)(o),Object(Ea.a)(r),Object(Ea.a)(l),Object(Ea.a)(c),Object(Ea.a)(i),Object(Ea.a)(n)),_id:Math.floor(1e6*Math.random())})},1e3),e.next=239;break;case 89:if("PoolBar"!==this.state.department){e.next=108;break}return e.next=92,fetch("".concat(Io),{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)});case 92:T=e.sent,console.log("result>  "+T),alert(this.state.department+" User Added"),this.setState({staffname:"",username:"",department:"Select Department",password:""}),fetch("".concat(No),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({BarUsersData:e})}),fetch("".concat(To),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({FrontOffcUsers:e})}),fetch("".concat(Mo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({ClubUsers:e})}),fetch("".concat(Ro),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({AdminUsers:e})}),fetch("".concat(Ao),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({HouseKpUsers:e})}),fetch("".concat(Bo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({RestUsers:e})}),fetch("".concat(Uo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({BillingUsers:e})}),fetch("".concat(_o),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({FandBUsers:e})}),fetch("".concat(Jo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({storeUsers:e})}),this.myTimer=setTimeout(function(){var e=w.state.BarUsersData,t=w.state.FrontOffcUsers,a=w.state.PoolUsers,n=w.state.ClubUsers,s=w.state.RestUsers,o=w.state.BillingUsers,r=w.state.FandBUsers,l=w.state.storeUsers,c=w.state.AdminUsers,i=w.state.HouseKpUsers;w.setState({staffData:[].concat(Object(Ea.a)(e),Object(Ea.a)(t),Object(Ea.a)(a),Object(Ea.a)(s),Object(Ea.a)(o),Object(Ea.a)(r),Object(Ea.a)(l),Object(Ea.a)(c),Object(Ea.a)(i),Object(Ea.a)(n)),_id:Math.floor(1e6*Math.random())})},1e3),e.next=239;break;case 108:if("Club"!==this.state.department){e.next=127;break}return e.next=111,fetch("".concat(Oo),{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)});case 111:C=e.sent,console.log("result>  "+C),alert(this.state.department+" User Added"),this.setState({staffname:"",username:"",department:"Select Department",password:""}),fetch("".concat(No),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({BarUsersData:e})}),fetch("".concat(To),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({FrontOffcUsers:e})}),fetch("".concat(Mo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({ClubUsers:e})}),fetch("".concat(Ro),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({AdminUsers:e})}),fetch("".concat(Ao),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({HouseKpUsers:e})}),fetch("".concat(Bo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({RestUsers:e})}),fetch("".concat(Uo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({BillingUsers:e})}),fetch("".concat(_o),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({FandBUsers:e})}),fetch("".concat(Jo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({storeUsers:e})}),this.myTimer=setTimeout(function(){var e=w.state.BarUsersData,t=w.state.FrontOffcUsers,a=w.state.PoolUsers,n=w.state.ClubUsers,s=w.state.RestUsers,o=w.state.BillingUsers,r=w.state.FandBUsers,l=w.state.storeUsers,c=w.state.AdminUsers,i=w.state.HouseKpUsers;w.setState({staffData:[].concat(Object(Ea.a)(e),Object(Ea.a)(t),Object(Ea.a)(a),Object(Ea.a)(s),Object(Ea.a)(o),Object(Ea.a)(r),Object(Ea.a)(l),Object(Ea.a)(c),Object(Ea.a)(i),Object(Ea.a)(n)),_id:Math.floor(1e6*Math.random())})},1e3),e.next=239;break;case 127:if("Store"!==this.state.department){e.next=146;break}return e.next=130,fetch("".concat("https://zarvichdemo.localto.net/storeuser"),{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)});case 130:k=e.sent,console.log("result>  "+k),alert(this.state.department+" User Added"),this.setState({staffname:"",username:"",department:"Select Department",password:""}),fetch("".concat(No),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({BarUsersData:e})}),fetch("".concat(To),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({FrontOffcUsers:e})}),fetch("".concat(Mo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({ClubUsers:e})}),fetch("".concat(Ro),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({AdminUsers:e})}),fetch("".concat(Ao),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({HouseKpUsers:e})}),fetch("".concat(Bo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({RestUsers:e})}),fetch("".concat(Uo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({BillingUsers:e})}),fetch("".concat(_o),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({FandBUsers:e})}),fetch("".concat(Jo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({storeUsers:e})}),this.myTimer=setTimeout(function(){var e=w.state.BarUsersData,t=w.state.FrontOffcUsers,a=w.state.PoolUsers,n=w.state.ClubUsers,s=w.state.RestUsers,o=w.state.BillingUsers,r=w.state.FandBUsers,l=w.state.storeUsers,c=w.state.AdminUsers,i=w.state.HouseKpUsers;w.setState({staffData:[].concat(Object(Ea.a)(e),Object(Ea.a)(t),Object(Ea.a)(a),Object(Ea.a)(s),Object(Ea.a)(o),Object(Ea.a)(r),Object(Ea.a)(l),Object(Ea.a)(c),Object(Ea.a)(i),Object(Ea.a)(n)),_id:Math.floor(1e6*Math.random())})},1e3),e.next=239;break;case 146:if("Billing"!==this.state.department){e.next=165;break}return e.next=149,fetch("".concat(Ho),{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)});case 149:I=e.sent,console.log("result>  "+I),alert(this.state.department+" User Added"),this.setState({staffname:"",username:"",department:"Select Department",password:""}),fetch("".concat(No),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({BarUsersData:e})}),fetch("".concat(To),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({FrontOffcUsers:e})}),fetch("".concat(Mo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({ClubUsers:e})}),fetch("".concat(Ro),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({AdminUsers:e})}),fetch("".concat(Ao),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({HouseKpUsers:e})}),fetch("".concat(Bo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({RestUsers:e})}),fetch("".concat(Uo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({BillingUsers:e})}),fetch("".concat(_o),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({FandBUsers:e})}),fetch("".concat(Jo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({storeUsers:e})}),this.myTimer=setTimeout(function(){var e=w.state.BarUsersData,t=w.state.FrontOffcUsers,a=w.state.PoolUsers,n=w.state.ClubUsers,s=w.state.RestUsers,o=w.state.BillingUsers,r=w.state.FandBUsers,l=w.state.storeUsers,c=w.state.AdminUsers,i=w.state.HouseKpUsers;w.setState({staffData:[].concat(Object(Ea.a)(e),Object(Ea.a)(t),Object(Ea.a)(a),Object(Ea.a)(s),Object(Ea.a)(o),Object(Ea.a)(r),Object(Ea.a)(l),Object(Ea.a)(c),Object(Ea.a)(i),Object(Ea.a)(n)),_id:Math.floor(1e6*Math.random())})},1e3),e.next=239;break;case 165:if("Bar"!==this.state.department){e.next=184;break}return e.next=168,fetch("".concat(vo),{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)});case 168:j=e.sent,console.log("result>  "+j),alert(this.state.department+" User Added"),this.setState({staffname:"",username:"",department:"Select Department",password:""}),fetch("".concat(No),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({BarUsersData:e})}),fetch("".concat(To),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({FrontOffcUsers:e})}),fetch("".concat(Mo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({ClubUsers:e})}),fetch("".concat(Ro),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({AdminUsers:e})}),fetch("".concat(Ao),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({HouseKpUsers:e})}),fetch("".concat(Bo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({RestUsers:e})}),fetch("".concat(Uo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({BillingUsers:e})}),fetch("".concat(_o),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({FandBUsers:e})}),fetch("".concat(Jo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({storeUsers:e})}),this.myTimer=setTimeout(function(){var e=w.state.BarUsersData,t=w.state.FrontOffcUsers,a=w.state.PoolUsers,n=w.state.ClubUsers,s=w.state.RestUsers,o=w.state.BillingUsers,r=w.state.FandBUsers,l=w.state.storeUsers,c=w.state.AdminUsers,i=w.state.HouseKpUsers;w.setState({staffData:[].concat(Object(Ea.a)(e),Object(Ea.a)(t),Object(Ea.a)(a),Object(Ea.a)(s),Object(Ea.a)(o),Object(Ea.a)(r),Object(Ea.a)(l),Object(Ea.a)(c),Object(Ea.a)(i),Object(Ea.a)(n)),_id:Math.floor(1e6*Math.random())})},1e3),e.next=239;break;case 184:if("HouseKeeping"!==this.state.department){e.next=203;break}return e.next=187,fetch("".concat("https://zarvichdemo.localto.net/housekeepuser"),{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)});case 187:x=e.sent,console.log("result>  "+x),alert(this.state.department+" User Added"),this.setState({staffname:"",username:"",department:"Select Department",password:""}),fetch("".concat(No),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({BarUsersData:e})}),fetch("".concat(To),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({FrontOffcUsers:e})}),fetch("".concat(Mo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({ClubUsers:e})}),fetch("".concat(Ro),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({AdminUsers:e})}),fetch("".concat(Ao),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({HouseKpUsers:e})}),fetch("".concat(Bo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({RestUsers:e})}),fetch("".concat(Uo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({BillingUsers:e})}),fetch("".concat(_o),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({FandBUsers:e})}),fetch("".concat(Jo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({storeUsers:e})}),this.myTimer=setTimeout(function(){var e=w.state.BarUsersData,t=w.state.FrontOffcUsers,a=w.state.PoolUsers,n=w.state.ClubUsers,s=w.state.RestUsers,o=w.state.BillingUsers,r=w.state.FandBUsers,l=w.state.storeUsers,c=w.state.AdminUsers,i=w.state.HouseKpUsers;w.setState({staffData:[].concat(Object(Ea.a)(e),Object(Ea.a)(t),Object(Ea.a)(a),Object(Ea.a)(s),Object(Ea.a)(o),Object(Ea.a)(r),Object(Ea.a)(l),Object(Ea.a)(c),Object(Ea.a)(i),Object(Ea.a)(n)),_id:Math.floor(1e6*Math.random())})},1e3),e.next=239;break;case 203:if("Restaurant"!==this.state.department){e.next=222;break}return e.next=206,fetch("".concat(Go),{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)});case 206:M=e.sent,console.log("result>  "+M),alert(this.state.department+" User Added"),this.setState({staffname:"",username:"",department:"Select Department",password:""}),fetch("".concat(No),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({BarUsersData:e})}),fetch("".concat(To),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({FrontOffcUsers:e})}),fetch("".concat(Mo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({ClubUsers:e})}),fetch("".concat(Ro),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({AdminUsers:e})}),fetch("".concat(Ao),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({HouseKpUsers:e})}),fetch("".concat(Bo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({RestUsers:e})}),fetch("".concat(Uo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({BillingUsers:e})}),fetch("".concat(_o),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({FandBUsers:e})}),fetch("".concat(Jo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({storeUsers:e})}),this.myTimer=setTimeout(function(){var e=w.state.BarUsersData,t=w.state.FrontOffcUsers,a=w.state.PoolUsers,n=w.state.ClubUsers,s=w.state.RestUsers,o=w.state.BillingUsers,r=w.state.FandBUsers,l=w.state.storeUsers,c=w.state.AdminUsers,i=w.state.HouseKpUsers;w.setState({staffData:[].concat(Object(Ea.a)(e),Object(Ea.a)(t),Object(Ea.a)(a),Object(Ea.a)(s),Object(Ea.a)(o),Object(Ea.a)(r),Object(Ea.a)(l),Object(Ea.a)(c),Object(Ea.a)(i),Object(Ea.a)(n)),_id:Math.floor(1e6*Math.random())})},1e3),e.next=239;break;case 222:if("FandB"!==this.state.department){e.next=239;break}return e.next=225,fetch("".concat("https://zarvichdemo.localto.net/fandbuser"),{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)});case 225:O=e.sent,console.log("result>  "+O),alert(this.state.department+" User Added"),this.setState({staffname:"",username:"",department:"Select Department",password:""}),fetch("".concat(No),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({BarUsersData:e})}),fetch("".concat(To),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({FrontOffcUsers:e})}),fetch("".concat(Mo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({ClubUsers:e})}),fetch("".concat(Ro),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({AdminUsers:e})}),fetch("".concat(Ao),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({HouseKpUsers:e})}),fetch("".concat(Bo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({RestUsers:e})}),fetch("".concat(Uo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({BillingUsers:e})}),fetch("".concat(_o),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({FandBUsers:e})}),fetch("".concat(Jo),{method:"GET"}).then(function(e){return e.json()}).then(function(e){w.setState({storeUsers:e})}),this.myTimer=setTimeout(function(){var e=w.state.BarUsersData,t=w.state.FrontOffcUsers,a=w.state.PoolUsers,n=w.state.ClubUsers,s=w.state.RestUsers,o=w.state.BillingUsers,r=w.state.FandBUsers,l=w.state.storeUsers,c=w.state.AdminUsers,i=w.state.HouseKpUsers;w.setState({staffData:[].concat(Object(Ea.a)(e),Object(Ea.a)(t),Object(Ea.a)(a),Object(Ea.a)(s),Object(Ea.a)(o),Object(Ea.a)(r),Object(Ea.a)(l),Object(Ea.a)(c),Object(Ea.a)(i),Object(Ea.a)(n)),_id:Math.floor(1e6*Math.random())})},1e3);case 239:e.next=244;break;case 241:e.prev=241,e.t0=e.catch(0),console.log(e.t0);case 244:case"end":return e.stop()}},e,this,[[0,241]])}));return function(){return e.apply(this,arguments)}}()},{key:"renderStaffData",value:function(e){var t=this;if(e)return e.sort(function(e,t){return t.department-e.department}),e.map(function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:e._id},s.a.createElement("td",{className:"table-light table-striped adjust2"},e.name),s.a.createElement("td",{className:"table-light table-striped adjust2"},e.department),s.a.createElement("td",{className:"table-light table-striped adjust2"},e.username),s.a.createElement("td",{className:"table-light table-striped adjust10"},s.a.createElement("button",{className:"btn btn-danger textcolor",onMouseOver:function(){sessionStorage.setItem("getUserID",e.refID),sessionStorage.setItem("getUserDept",e.department)},onClick:function(){t.deleteUser()}},"Delete")),s.a.createElement("td",{className:"table-light table-striped adjust10"},s.a.createElement("button",{className:"btn btn-danger textcolor",onMouseOver:function(){sessionStorage.setItem("editUserID",e.refID),sessionStorage.setItem("editUserDept",e.department)},onClick:function(){t.setState({staffname:"",username:"",password:"",department:"",show:"hidden"}),t.editUser()}},"Edit"))))})}},{key:"render",value:function(){var e=this;return console.log(">>> Inside Grpdetails",this.state),null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement(As,null)):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"background990i2"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-3"},s.a.createElement("h4",{style:{color:"silver",marginLeft:"50px",marginBottom:"-50px"}},"Users Management")),s.a.createElement("div",{className:"col-6"},s.a.createElement("h6",{style:{color:"purple",marginLeft:"480px",marginBottom:"-50px"}},"Welcome, ",localStorage.getItem("userInfo").split(" ")[0]," ")),s.a.createElement("div",{className:"col-3"},s.a.createElement("h6",{type:"button",style:{color:"yellow",marginLeft:"180",textAlign:"left",marginBottom:"-50px"},onClick:function(){return e.logout()}},"Logout "))),s.a.createElement("h4",{style:{color:"rgb(23, 23, 71)",marginLeft:"50px",marginBottom:"-40px"}}," "),s.a.createElement("div",{className:"formdesign510b"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-3"},s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize51",name:"staffname",require:!0,placeholder:"Enter Names",autoComplete:"off",value:this.state.staffname,onChange:this.handleChange})),s.a.createElement("div",{className:"col-3"},s.a.createElement("select",{className:this.state.show,name:"department",onChange:this.handleChange},s.a.createElement("option",{selected:!0,value:""},"Select Department"),s.a.createElement("option",{value:"Admin"},"Admin"),s.a.createElement("option",{value:"Reception"},"Reception"),s.a.createElement("option",{value:"Billing"},"Billing"),s.a.createElement("option",{value:"Bar"},"Bar"),s.a.createElement("option",{value:"PoolBar"},"Pool Bar"),s.a.createElement("option",{value:"Club"},"Club"),s.a.createElement("option",{value:"Store"},"Store"),s.a.createElement("option",{value:"HouseKeeping"},"Housekeeping"),s.a.createElement("option",{value:"Restaurant"},"Restaurant"),s.a.createElement("option",{value:"FandB"},"F and B"))),s.a.createElement("div",{className:"col-3"},s.a.createElement("input",{type:"text",className:"form-control mb-3 formsize51",name:"username",autoComplete:"off",require:!0,placeholder:"Enter User Name",value:this.state.username,onChange:this.handleChange})),s.a.createElement("div",{className:"col-3"},s.a.createElement("input",{type:"password",className:"form-control mb-3 formsize51",name:"password",autoComplete:"off",require:!0,placeholder:"Enter Password",value:this.state.password,onChange:this.handleChange}))),s.a.createElement("center",null,s.a.createElement("br",null),s.a.createElement("span",null,s.a.createElement("button",{disabled:""===this.state.name||""===this.state.password||""===this.state.username||""===this.state.department,className:"btn btn-warning",onClick:function(){return e.handleSubmit()}},"Add New User"),s.a.createElement("button",{disabled:""===this.state.name||""===this.state.password||""===this.state.username||""===this.state.department,className:"btn btn-warning gap",onClick:function(){e.handleUpdate(),e.setState({show:"form-select  mb-3 formsize51"})}},"Update User"),s.a.createElement("button",{className:"btn btn-danger gap",onClick:function(){return e.props.history.push("/settings")}},"Close"),s.a.createElement("button",{className:"btn btn-danger gap",onClick:function(){e.props.history.push("/Dashboard")}},"Goto Dashboard")))),s.a.createElement("br",null),s.a.createElement("div",{className:"container"},s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust5"},"Names"),s.a.createElement("th",{className:"adjust5"},"Department"),s.a.createElement("th",{className:"adjust5"},"userName"),s.a.createElement("th",{className:"adjust5"},"Action"),s.a.createElement("th",{className:"adjust5"}," "))),s.a.createElement("tbody",{className:"table table-hover"},this.renderStaffData(this.state.staffData))),s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-danger gap mb-3",onClick:function(){return e.props.history.push("/Settings")}},"Close"))))))}},{key:"componentDidMount",value:function(){var e=this;console.log(">>> Inside GrpDidMount",this.state),fetch("".concat(No),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({BarUsersData:t})}),fetch("".concat(To),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({FrontOffcUsers:t})}),fetch("".concat(Mo),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({ClubUsers:t})}),fetch("".concat(Ro),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({AdminUsers:t})}),fetch("".concat(Ao),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({HouseKpUsers:t})}),fetch("".concat(Bo),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({RestUsers:t})}),fetch("".concat(Uo),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({BillingUsers:t})}),fetch("".concat(_o),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({FandBUsers:t})}),fetch("".concat(Jo),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({storeUsers:t})}),this.myTimer=setTimeout(function(){var t=e.state.BarUsersData,a=e.state.FrontOffcUsers,n=e.state.PoolUsers,s=e.state.ClubUsers,o=e.state.RestUsers,r=e.state.BillingUsers,l=e.state.FandBUsers,c=e.state.storeUsers,i=e.state.AdminUsers,m=e.state.HouseKpUsers;e.setState({staffData:[].concat(Object(Ea.a)(t),Object(Ea.a)(a),Object(Ea.a)(n),Object(Ea.a)(o),Object(Ea.a)(r),Object(Ea.a)(l),Object(Ea.a)(c),Object(Ea.a)(i),Object(Ea.a)(m),Object(Ea.a)(s)),_id:Math.floor(1e6*Math.random())})},1e3),fetch("".concat("https://zarvichdemo.localto.net/adminUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({loginDetails:t})}),this.myTimer=setTimeout(function(){var t=e.state.loginDetails,a=e.state.name;t.some(function(e){return e.name===a})?e.setState({Blogin:!0}):e.setState({Blogin:!1})},1e3)}}]),a}(n.Component),Zo=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={loginDetails:"",name:localStorage.getItem("userInfo"),login:"",Blogin:""},n}return Object(p.a)(a,[{key:"logout",value:function(){localStorage.removeItem("userInfo"),this.setState({login:!0})}},{key:"render",value:function(){var e=this;return null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement(As,null)):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"background15kmenu"},s.a.createElement("center",null,s.a.createElement("div",{className:"formdesign15kmenu"},s.a.createElement("h4",{className:"mb-3"},"Settings Menu"),s.a.createElement("div",{className:"grow"},s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-primary btnwidth15k mb-3",onClick:function(){e.props.history.push("/Dashboard")}},"Dashboard"),s.a.createElement("button",{className:"btn btn-primary btnwidth15k mb-3",onClick:function(){e.props.history.push("/Levy")}},"VAT & Charges"),s.a.createElement("button",{className:"btn btn-primary btnwidth15k mb-3",onClick:function(){e.props.history.push("/RoomSettings")}},"Room Settings"),s.a.createElement("button",{className:"btn btn-primary btnwidth15k mb-3",onClick:function(){e.props.history.push("/Users")}},"Users"),s.a.createElement("button",{className:"btn btn-warning btnwidth15k mb-3",onClick:function(){e.props.history.push("/AppMenu")}},"App Menu"),s.a.createElement("button",{className:"btn btn-danger btnwidth15 mb-3",onClick:function(){return e.logout()}},"Log Out ",localStorage.getItem("userInfo").split(" ")[0])))))))}},{key:"componentDidMount",value:function(){var e=this;fetch("".concat("https://zarvichdemo.localto.net/adminUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({loginDetails:t})}),this.myTimer=setTimeout(function(){var t=e.state.loginDetails,a=e.state.name;t.some(function(e){return e.name===a})?e.setState({Blogin:!0}):e.setState({Blogin:!1})},1e3)}}]),a}(n.Component),$o=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),n=t.call(this,e),console.log(">>>Inside RESConstructor",e),n.state={loginDetails:"",name:localStorage.getItem("userInfo"),Blogin:"",login:""},n}return Object(p.a)(a,[{key:"logout",value:function(){localStorage.removeItem("userInfo"),this.setState({login:!0})}},{key:"render",value:function(){var e=this;return console.log(">>> Inside logindetails",this.state),null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement($a,null)):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"background15"},s.a.createElement("center",null,s.a.createElement("div",{className:"formdesign152"},s.a.createElement("h4",{className:"mb-3"},"Club Portal"),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-primary btnwidth15 mb-3",onClick:function(){e.props.history.push("./Club")}},"Club"),s.a.createElement("button",{className:"btn btn-warning btnwidth15k mb-3",onClick:function(){e.props.history.push("/AppMenu")}},"App Menu"),s.a.createElement("button",{className:"btn btn-warning btnwidth15k mb-3",onClick:function(){e.props.history.push("/Dashboard")}},"Goto Dashboard"),s.a.createElement("button",{className:"btn btn-danger btnwidth15 mb-3",onClick:function(){return e.logout()}},"Log Out ",localStorage.getItem("userInfo").split(" ")[0])))))),s.a.createElement("div",{className:"pagebody3"},s.a.createElement("input",{hidden:!0})))}},{key:"componentDidMount",value:function(){var e=this;fetch("".concat("https://zarvichdemo.localto.net/clubUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({loginDetails:t})}),this.myTimer=setTimeout(function(){var t=e.state.loginDetails,a=e.state.name;t.some(function(e){return e.name===a})?e.setState({Blogin:!0}):e.setState({Blogin:!1})},1e3)}}]),a}(n.Component),er=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value))},n.renderRoomSales=function(e){if(e)return e.map(function(e){var t=k()(e.date).format("MMM DD YYYY");return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:e._id},s.a.createElement("td",{className:"table-light table-striped adjust2"},t),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},e.description),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:e.POSAmount,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:e.CashAmount,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:e.TransferAmount,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:e.CompDebit,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:e.roomDebit,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(e.POSAmount)+parseInt(e.CashAmount)+parseInt(e.TransferAmount)+parseInt(e.roomDebit),thousandSeparator:!0,displayType:"text"})))))})},console.log(">>>Inside CashConstructor",e),n.state={RoomSales:"",RoomTotal:"",depPOS:"",depCash:"",depTransfer:"",depComp:"",TotalSales:"",date:"",deproom:"",loginDetails:"",name:localStorage.getItem("userInfo"),login:"",Blogin:"",shift:"",startdate:"",endDate:"",levyData:"",ServiceChrg:"",TourismLevy:"",VAT:"",Hotelname:"",Hoteladdress:"",Hotelphone:""},n.checkinhandleChange=n.checkinhandleChange.bind(Object(f.a)(n)),n.endhandleChange=n.endhandleChange.bind(Object(f.a)(n)),n}return Object(p.a)(a,[{key:"checkinhandleChange",value:function(e){this.setState({date:e,startdate:e})}},{key:"endhandleChange",value:function(e){this.setState({endDate:e})}},{key:"renderDate",value:function(){return s.a.createElement("div",null,s.a.createElement(y.a,{selected:this.state.date,onChange:this.checkinhandleChange,dropdownMode:"select",dateFormat:"MMM/d/ yyyy",className:"form-control mb-3 formsize printing alignText112",placeholderText:"Select Start Date"}))}},{key:"renderendDate",value:function(){return s.a.createElement("div",null,s.a.createElement(y.a,{selected:this.state.endDate,onChange:this.endhandleChange,dropdownMode:"select",dateFormat:"MMM/d/ yyyy",className:"form-control mb-3 formsize printing alignText112 mvrght",placeholderText:"Search End Date"}))}},{key:"logout",value:function(){localStorage.removeItem("userInfo"),this.setState({login:!0}),localStorage.removeItem("shift")}},{key:"cleanup",value:function(){this.setState({RoomSales:"",RoomTotal:"",depPOS:"",depCash:"",depTransfer:"",depComp:"",TotalSales:"",deproom:""})}},{key:"findRoomReport",value:function(){var e=this,t=k()(this.state.date).format("MMM DD YYYY"),a=k()(this.state.endDate).format("MMM DD YYYY"),n="".concat("https://zarvichdemo.localto.net/findClubSalesNow?clubNowDep84=Reservation","&&clubstartdate84=").concat(t,"&&clubendDate84=").concat(a);this.setState({RoomSales:""}),fetch("".concat(n),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({RoomSales:t}),t.map(function(a){var n=0+parseInt(a.CashAmount)+parseInt(a.POSAmount)+parseInt(a.TransferAmount)+parseInt(a.roomDebit);e.setState({RoomTotal:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({depPOS:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({depCash:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({depTransfer:r});var l=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({depComp:l});var c=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);return e.setState({deproom:c}),"ok"})}),this.myTimer=setTimeout(function(){var t=0+e.state.RoomTotal;e.setState({TotalSales:t})},1e3)}},{key:"render",value:function(){var e=this;console.log(">>> Inside Cashdetails",this.state);var t=this.state.depPOS+this.state.depCash+this.state.depTransfer+this.state.deproom;return null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement(et,null)):s.a.createElement("div",{className:"container"},s.a.createElement("div",null,s.a.createElement("img",{src:"https://i.ibb.co/pP1xN03/Orange-Groove2.png",className:"alignImg2",style:{width:"100px",height:"70px"},alt:"companylogo"})),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("h6",null,this.state.Hotelname),s.a.createElement("p",{className:"textSize"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSize"},this.state.Hotelphone))),s.a.createElement("center",null,s.a.createElement("h5",null,"Reservations Sales Report (",this.state.shift,")"),s.a.createElement("br",null),s.a.createElement("div",null,s.a.createElement("span",null,s.a.createElement("label",null,this.renderDate(this.state.startdate))),s.a.createElement("span",null,s.a.createElement("label",null,this.renderendDate(this.state.endDate))),s.a.createElement("span",null,s.a.createElement("select",{type:"button",className:"form-select mb-2 btn btn-primary mt-3 btnwidthp printing space selectadjuster",name:"shift",value:this.state.shift,onChange:this.handleChange},s.a.createElement("option",{selected:!0,value:""},"Select Shift"),s.a.createElement("option",{value:"Morning Shift"},"Morning Shift"),s.a.createElement("option",{value:"Night Shift"},"Night Shift"),s.a.createElement("option",{value:"All Day"},"All Day"),s.a.createElement("option",{value:"All Shifts"},"All Shifts")),s.a.createElement("button",{className:"btn btn-primary space btnadjuster printing",onClick:function(){e.cleanup(),e.findRoomReport()}},"Find")))),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust50"},"Date"),s.a.createElement("th",{className:"adjust50"},"Description"),s.a.createElement("th",{className:"adjust50"},"POS (NGN)"),s.a.createElement("th",{className:"adjust50"},"Cash(NGN)"),s.a.createElement("th",{className:"adjust50"},"Transfer(NGN)"),s.a.createElement("th",{className:"adjust50"},"Compl(NGN)"),s.a.createElement("th",{className:"adjust50"},"Room(NGN)"),s.a.createElement("th",{className:"adjust50"},"Total(NGN)"))),s.a.createElement("tbody",{className:"table table-hover"},this.renderRoomSales(this.state.RoomSales),s.a.createElement("tr",null,s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet"},s.a.createElement("b",null,"Total Collection")),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.depPOS),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.depCash),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.depTransfer),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.depComp),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.deproom),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"}," "),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null," ",s.a.createElement(E.a,{value:t,thousandSeparator:!0,displayType:"text"})))))),s.a.createElement("h6",null,"Total Collection:         ",s.a.createElement(E.a,{value:t,thousandSeparator:!0,displayType:"text",prefix:"NGN"})),s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-danger movebtn printing",onClick:function(){return e.props.history.push("/EndOfDay")}},"Close"),s.a.createElement("button",{className:"btn btn-primary movebtn printing",onClick:function(){return window.print()}},"Print"),s.a.createElement("button",{className:"btn btn-warning movebtn printing",onClick:function(){e.props.history.push("/Dashboard")}},"Goto Dashboard")))}},{key:"componentDidMount",value:function(){var e=this;console.log(">>> Inside CashDidMount",this.state),fetch("".concat("https://zarvichdemo.localto.net/feesAndCharges"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({levyData:t})}),fetch("".concat("https://zarvichdemo.localto.net/billingUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({loginDetails:t})}),fetch("".concat("https://zarvichdemo.localto.net/hoteladdress"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){t.map(function(t){return e.setState({Hotelname:t.HotelName,Hoteladdress:t.Address,Hotelphone:t.Phone}),"ok"})}),this.myTimer=setTimeout(function(){var t=e.state.loginDetails,a=e.state.name;t.some(function(e){return e.name===a})?e.setState({Blogin:!0}):e.setState({Blogin:!1})},1e3)}}]),a}(n.Component),tr=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value))},n.handleChange10=function(e){var t;n.setState((t={},Object(h.a)(t,e.target.name,e.target.value),Object(h.a)(t,"roomSales",""),t))},n.renderRoomSales=function(e){if(e)return e.map(function(t){e.sort(function(e,t){return e.date-t.date});var a=k()(t.date).format("MMM DD YYYY");return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:t._id},s.a.createElement("td",{className:"table-light table-striped adjust222"},a),s.a.createElement("td",{className:"table-light table-striped adjust223 alignTet"},t.description),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:t.POSAmount,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:t.CashAmount,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:t.TransferAmount,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:t.CompDebit,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(t.POSAmount)+parseInt(t.CashAmount)+parseInt(t.TransferAmount),thousandSeparator:!0,displayType:"text"})))))})},console.log(">>>Inside CashConstructor",e),n.state={RoomSales:"",RoomTotal:"",depPOS:"",depCash:"",depTransfer:"",depComp:"",TotalSales:"",date:"",loginDetails:"",name:localStorage.getItem("userInfo"),login:"",Blogin:"",shift:"",startdate:"",endDate:"",levyData:"",ServiceChrg:"",TourismLevy:"",VAT:"",Hotelname:"",Hoteladdress:"",Hotelphone:""},n.checkinhandleChange=n.checkinhandleChange.bind(Object(f.a)(n)),n.endhandleChange=n.endhandleChange.bind(Object(f.a)(n)),n}return Object(p.a)(a,[{key:"checkinhandleChange",value:function(e){this.setState({date:e,startdate:e})}},{key:"endhandleChange",value:function(e){this.setState({endDate:e})}},{key:"renderDate",value:function(){return s.a.createElement("div",null,s.a.createElement(y.a,{selected:this.state.date,onChange:this.checkinhandleChange,maxDate:Object(N.default)(new Date,0),dropdownMode:"select",dateFormat:"MMM/d/ yyyy",className:"form-control mb-3 formsize printing alignText112",placeholderText:"Select Start Date"}))}},{key:"renderendDate",value:function(){return s.a.createElement("div",null,s.a.createElement(y.a,{selected:this.state.endDate,onChange:this.endhandleChange,maxDate:new Date,dropdownMode:"select",dateFormat:"MMM/d/ yyyy",className:"form-control mb-3 formsize printing alignText112 mvrght",placeholderText:"Search End Date"}))}},{key:"logout",value:function(){localStorage.removeItem("userInfo"),this.setState({login:!0})}},{key:"cleanup",value:function(){this.setState({RoomSales:0,RoomTotal:0,depPOS:0,depCash:0,depTransfer:0,depComp:0,TotalSales:0})}},{key:"findRoomReport",value:function(){var e=this,t=k()(this.state.date).format("MMM DD YYYY"),a=k()(this.state.endDate).format("MMM DD YYYY"),n="".concat("https://zarvichdemo.localto.net/findLaundrySales?laundry12=Laundry%20Sales","&&Laundrystartdate12=").concat(t,"&&LaundryendDate12=").concat(a);this.setState({RoomSales:""}),fetch("".concat(n),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({RoomSales:t}),t.map(function(a){var n=0+parseInt(a.CashAmount)+parseInt(a.POSAmount)+parseInt(a.TransferAmount)+parseInt(a.roomDebit);e.setState({RoomTotal:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({depPOS:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({depCash:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({depTransfer:r});var l=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({depComp:l});var c=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);return e.setState({deproom:c}),"ok"})}),this.myTimer=setTimeout(function(){var t=0+e.state.RoomTotal;e.setState({TotalSales:t})},1e3),this.myTimer=setTimeout(function(){var t=0+e.state.RoomTotal;e.setState({TotalSales:t})},1e3)}},{key:"render",value:function(){var e=this;return console.log(">>> Inside Cashdetails",this.state),null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement(et,null)):s.a.createElement("div",{className:"container"},s.a.createElement("div",null,s.a.createElement("img",{src:"https://i.ibb.co/pP1xN03/Orange-Groove2.png",className:"alignImg2",style:{width:"100px",height:"70px"},alt:"companylogo"})),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("h6",null,this.state.Hotelname),s.a.createElement("p",{className:"textSize"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSize"},this.state.Hotelphone))),s.a.createElement("center",null,s.a.createElement("h5",null,"Laundry Sales Report"),s.a.createElement("br",null),s.a.createElement("div",null,s.a.createElement("span",null,s.a.createElement("label",null,this.renderDate(this.state.startdate))),s.a.createElement("span",null,s.a.createElement("label",null,this.renderendDate(this.state.endDate))),s.a.createElement("span",null,s.a.createElement("button",{className:"btn btn-primary space btnadjuster printing",onClick:function(){e.cleanup(),e.findRoomReport()}},"Find")))),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust50"},"Date"),s.a.createElement("th",{className:"adjust50b"},"Description"),s.a.createElement("th",{className:"adjust50"},"POS (NGN)"),s.a.createElement("th",{className:"adjust50"},"Cash(NGN)"),s.a.createElement("th",{className:"adjust50"},"Transfer(NGN)"),s.a.createElement("th",{className:"adjust50"},"Complimentary(NGN)"),s.a.createElement("th",{className:"adjust50"},"Total(NGN)"))),s.a.createElement("tbody",{className:"table table-hover"},this.renderRoomSales(this.state.RoomSales),s.a.createElement("tr",null,s.a.createElement("td",{className:"table-light table-striped adjust2"},s.a.createElement("b",null,"Total")),s.a.createElement("td",{className:"table-light table-striped adjust2"},s.a.createElement("b",null," ")),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.depPOS),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.depCash),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.depTransfer),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.depComp),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null," ",s.a.createElement(E.a,{value:this.state.depPOS+this.state.depCash+this.state.depTransfer,thousandSeparator:!0,displayType:"text"})))))),s.a.createElement("h6",null,"Gross Collection:         ",s.a.createElement(E.a,{value:this.state.depPOS+this.state.depCash+this.state.depTransfer,thousandSeparator:!0,displayType:"text",prefix:"NGN"})),s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-danger movebtn printing",onClick:function(){return e.props.history.push("/EndOfDay")}},"Close"),s.a.createElement("button",{className:"btn btn-primary movebtn printing",onClick:function(){return window.print()}},"Print")))}},{key:"componentDidMount",value:function(){var e=this;console.log(">>> Inside CashDidMount",this.state),fetch("".concat("https://zarvichdemo.localto.net/feesAndCharges"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({levyData:t})}),fetch("".concat("https://zarvichdemo.localto.net/billingUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({loginDetails:t})});var t=k()(new Date).format("MMM DD YYYY"),a=k()(new Date).format("MMM DD YYYY"),n="".concat("https://zarvichdemo.localto.net/findLaundrySales?laundry12=Laundry%20Sales","&&Laundrystartdate12=").concat(t,"&&LaundryendDate12=").concat(a);this.setState({RoomSales:""}),fetch("".concat(n),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({RoomSales:t}),t.map(function(a){var n=0+parseInt(a.CashAmount)+parseInt(a.POSAmount)+parseInt(a.TransferAmount)+parseInt(a.roomDebit);e.setState({RoomTotal:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({depPOS:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({depCash:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({depTransfer:r});var l=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({depComp:l});var c=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);return e.setState({deproom:c}),"ok"})}),this.myTimer=setTimeout(function(){var t=0+e.state.RoomTotal;e.setState({TotalSales:t})},1e3),fetch("".concat("https://zarvichdemo.localto.net/hoteladdress"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){t.map(function(t){return e.setState({Hotelname:t.HotelName,Hoteladdress:t.Address,Hotelphone:t.Phone}),"ok"})}),this.myTimer=setTimeout(function(){var t=e.state.loginDetails,a=e.state.name;t.some(function(e){return e.name===a})?e.setState({Blogin:!0}):e.setState({Blogin:!1})},1e3)}}]),a}(n.Component),ar=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value))},n.handleChange10=function(e){var t;n.setState((t={},Object(h.a)(t,e.target.name,e.target.value),Object(h.a)(t,"roomSales",""),t))},n.renderRoomSales=function(e){if(e)return e.map(function(t){e.sort(function(e,t){return e.date-t.date});var a=k()(t.date).format("MMM DD YYYY");return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:t._id},s.a.createElement("td",{className:"table-light table-striped adjust222"},a),s.a.createElement("td",{className:"table-light table-striped adjust223 alignTet"},t.description),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:t.POSAmount,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:t.CashAmount,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:t.TransferAmount,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:t.CompDebit,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(t.POSAmount)+parseInt(t.CashAmount)+parseInt(t.TransferAmount),thousandSeparator:!0,displayType:"text"})))))})},console.log(">>>Inside CashConstructor",e),n.state={RoomSales:"",RoomTotal:"",depPOS:"",depCash:"",depTransfer:"",depComp:"",TotalSales:"",date:"",loginDetails:"",name:localStorage.getItem("userInfo"),login:"",Blogin:"",shift:"",startdate:"",endDate:"",levyData:"",ServiceChrg:"",TourismLevy:"",VAT:"",Hotelname:"",Hoteladdress:"",Hotelphone:""},n.checkinhandleChange=n.checkinhandleChange.bind(Object(f.a)(n)),n.endhandleChange=n.endhandleChange.bind(Object(f.a)(n)),n}return Object(p.a)(a,[{key:"checkinhandleChange",value:function(e){this.setState({date:e,startdate:e})}},{key:"endhandleChange",value:function(e){this.setState({endDate:e})}},{key:"renderDate",value:function(){return s.a.createElement("div",null,s.a.createElement(y.a,{selected:this.state.date,onChange:this.checkinhandleChange,maxDate:Object(N.default)(new Date,0),dropdownMode:"select",dateFormat:"MMM/d/ yyyy",className:"form-control mb-3 formsize printing alignText112",placeholderText:"Select Start Date"}))}},{key:"renderendDate",value:function(){return s.a.createElement("div",null,s.a.createElement(y.a,{selected:this.state.endDate,onChange:this.endhandleChange,maxDate:new Date,dropdownMode:"select",dateFormat:"MMM/d/ yyyy",className:"form-control mb-3 formsize printing alignText112 mvrght",placeholderText:"Search End Date"}))}},{key:"logout",value:function(){localStorage.removeItem("userInfo"),this.setState({login:!0})}},{key:"cleanup",value:function(){this.setState({RoomSales:0,RoomTotal:0,depPOS:0,depCash:0,depTransfer:0,depComp:0,TotalSales:0})}},{key:"findRoomReport",value:function(){var e=this,t=k()(this.state.date).format("MMM DD YYYY"),a=k()(this.state.endDate).format("MMM DD YYYY"),n="".concat("https://zarvichdemo.localto.net/findGymSales?gym12=Gymnasium%20Sales","&&gymstartdate12=").concat(t,"&&gymendDate12=").concat(a);this.setState({RoomSales:""}),fetch("".concat(n),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({RoomSales:t}),t.map(function(a){var n=0+parseInt(a.CashAmount)+parseInt(a.POSAmount)+parseInt(a.TransferAmount)+parseInt(a.roomDebit);e.setState({RoomTotal:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({depPOS:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({depCash:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({depTransfer:r});var l=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({depComp:l});var c=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);return e.setState({deproom:c}),"ok"})}),this.myTimer=setTimeout(function(){var t=0+e.state.RoomTotal;e.setState({TotalSales:t})},1e3),this.myTimer=setTimeout(function(){var t=0+e.state.RoomTotal;e.setState({TotalSales:t})},1e3)}},{key:"render",value:function(){var e=this;return console.log(">>> Inside Cashdetails",this.state),null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement(et,null)):s.a.createElement("div",{className:"container"},s.a.createElement("div",null,s.a.createElement("img",{src:"https://i.ibb.co/pP1xN03/Orange-Groove2.png",className:"alignImg2",style:{width:"100px",height:"70px"},alt:"companylogo"})),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("h6",null,this.state.Hotelname),s.a.createElement("p",{className:"textSize"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSize"},this.state.Hotelphone))),s.a.createElement("center",null,s.a.createElement("h5",null,"Gymnasium Sales Report"),s.a.createElement("br",null),s.a.createElement("div",null,s.a.createElement("span",null,s.a.createElement("label",null,this.renderDate(this.state.startdate))),s.a.createElement("span",null,s.a.createElement("label",null,this.renderendDate(this.state.endDate))),s.a.createElement("span",null,s.a.createElement("button",{className:"btn btn-primary space btnadjuster printing",onClick:function(){e.cleanup(),e.findRoomReport()}},"Find")))),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust50"},"Date"),s.a.createElement("th",{className:"adjust50b"},"Description"),s.a.createElement("th",{className:"adjust50"},"POS (NGN)"),s.a.createElement("th",{className:"adjust50"},"Cash(NGN)"),s.a.createElement("th",{className:"adjust50"},"Transfer(NGN)"),s.a.createElement("th",{className:"adjust50"},"Complimentary(NGN)"),s.a.createElement("th",{className:"adjust50"},"Total(NGN)"))),s.a.createElement("tbody",{className:"table table-hover"},this.renderRoomSales(this.state.RoomSales),s.a.createElement("tr",null,s.a.createElement("td",{className:"table-light table-striped adjust2"},s.a.createElement("b",null,"Total")),s.a.createElement("td",{className:"table-light table-striped adjust2"},s.a.createElement("b",null," ")),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.depPOS),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.depCash),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.depTransfer),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.depComp),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null," ",s.a.createElement(E.a,{value:this.state.depPOS+this.state.depCash+this.state.depTransfer,thousandSeparator:!0,displayType:"text"})))))),s.a.createElement("h6",null,"Gross Collection:         ",s.a.createElement(E.a,{value:this.state.depPOS+this.state.depCash+this.state.depTransfer,thousandSeparator:!0,displayType:"text",prefix:"NGN"})),s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-danger movebtn printing",onClick:function(){return e.props.history.push("/EndOfDay")}},"Close"),s.a.createElement("button",{className:"btn btn-primary movebtn printing",onClick:function(){return window.print()}},"Print")))}},{key:"componentDidMount",value:function(){var e=this;console.log(">>> Inside CashDidMount",this.state),fetch("".concat("https://zarvichdemo.localto.net/feesAndCharges"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({levyData:t})}),fetch("".concat("https://zarvichdemo.localto.net/billingUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({loginDetails:t})});var t=k()(new Date).format("MMM DD YYYY"),a=k()(new Date).format("MMM DD YYYY"),n="".concat("https://zarvichdemo.localto.net/findGymSales?gym12=Gymnasium%20Sales","&&gymstartdate12=").concat(t,"&&gymendDate12=").concat(a);this.setState({RoomSales:""}),fetch("".concat(n),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({RoomSales:t}),t.map(function(a){var n=0+parseInt(a.CashAmount)+parseInt(a.POSAmount)+parseInt(a.TransferAmount)+parseInt(a.roomDebit);e.setState({RoomTotal:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({depPOS:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({depCash:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({depTransfer:r});var l=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({depComp:l});var c=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);return e.setState({deproom:c}),"ok"})}),this.myTimer=setTimeout(function(){var t=0+e.state.RoomTotal;e.setState({TotalSales:t})},1e3),fetch("".concat("https://zarvichdemo.localto.net/hoteladdress"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){t.map(function(t){return e.setState({Hotelname:t.HotelName,Hoteladdress:t.Address,Hotelphone:t.Phone}),"ok"})}),this.myTimer=setTimeout(function(){var t=e.state.loginDetails,a=e.state.name;t.some(function(e){return e.name===a})?e.setState({Blogin:!0}):e.setState({Blogin:!1})},1e3)}}]),a}(n.Component),nr=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value))},n.handleChange10=function(e){var t;n.setState((t={},Object(h.a)(t,e.target.name,e.target.value),Object(h.a)(t,"roomSales",""),t))},n.renderRoomSales=function(e){if(e)return e.map(function(t){e.sort(function(e,t){return e.date-t.date});var a=k()(t.date).format("MMM DD YYYY");return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:t._id},s.a.createElement("td",{className:"table-light table-striped adjust222"},a),s.a.createElement("td",{className:"table-light table-striped adjust223 alignTet"},t.description),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:t.POSAmount,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:t.CashAmount,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:t.TransferAmount,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:t.CompDebit,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(t.POSAmount)+parseInt(t.CashAmount)+parseInt(t.TransferAmount),thousandSeparator:!0,displayType:"text"})))))})},console.log(">>>Inside CashConstructor",e),n.state={RoomSales:"",RoomTotal:"",depPOS:"",depCash:"",depTransfer:"",depComp:"",TotalSales:"",date:"",loginDetails:"",name:localStorage.getItem("userInfo"),login:"",Blogin:"",shift:"",startdate:"",endDate:"",levyData:"",ServiceChrg:"",TourismLevy:"",VAT:"",Hotelname:"",Hoteladdress:"",Hotelphone:""},n.checkinhandleChange=n.checkinhandleChange.bind(Object(f.a)(n)),n.endhandleChange=n.endhandleChange.bind(Object(f.a)(n)),n}return Object(p.a)(a,[{key:"checkinhandleChange",value:function(e){this.setState({date:e,startdate:e})}},{key:"endhandleChange",value:function(e){this.setState({endDate:e})}},{key:"renderDate",value:function(){return s.a.createElement("div",null,s.a.createElement(y.a,{selected:this.state.date,onChange:this.checkinhandleChange,maxDate:Object(N.default)(new Date,0),dropdownMode:"select",dateFormat:"MMM/d/ yyyy",className:"form-control mb-3 formsize printing alignText112",placeholderText:"Select Start Date"}))}},{key:"renderendDate",value:function(){return s.a.createElement("div",null,s.a.createElement(y.a,{selected:this.state.endDate,onChange:this.endhandleChange,maxDate:new Date,dropdownMode:"select",dateFormat:"MMM/d/ yyyy",className:"form-control mb-3 formsize printing alignText112 mvrght",placeholderText:"Search End Date"}))}},{key:"logout",value:function(){localStorage.removeItem("userInfo"),this.setState({login:!0})}},{key:"cleanup",value:function(){this.setState({RoomSales:0,RoomTotal:0,depPOS:0,depCash:0,depTransfer:0,depComp:0,TotalSales:0})}},{key:"findRoomReport",value:function(){var e=this,t=k()(this.state.date).format("MMM DD YYYY"),a=k()(this.state.endDate).format("MMM DD YYYY"),n="".concat("https://zarvichdemo.localto.net/findSmoothieSales?smoot12=Suya%20Sales","&&smoostartdate12=").concat(t,"&&smooendDate12=").concat(a);this.setState({RoomSales:""}),fetch("".concat(n),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({RoomSales:t}),t.map(function(a){var n=0+parseInt(a.CashAmount)+parseInt(a.POSAmount)+parseInt(a.TransferAmount)+parseInt(a.roomDebit);e.setState({RoomTotal:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({depPOS:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({depCash:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({depTransfer:r});var l=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({depComp:l});var c=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);return e.setState({deproom:c}),"ok"})}),this.myTimer=setTimeout(function(){var t=0+e.state.RoomTotal;e.setState({TotalSales:t})},1e3),this.myTimer=setTimeout(function(){var t=0+e.state.RoomTotal;e.setState({TotalSales:t})},1e3)}},{key:"render",value:function(){var e=this;return console.log(">>> Inside Cashdetails",this.state),null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement(et,null)):s.a.createElement("div",{className:"container"},s.a.createElement("div",null,s.a.createElement("img",{src:"https://i.ibb.co/pP1xN03/Orange-Groove2.png",className:"alignImg2",style:{width:"100px",height:"70px"},alt:"companylogo"})),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("h6",null,this.state.Hotelname),s.a.createElement("p",{className:"textSize"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSize"},this.state.Hotelphone))),s.a.createElement("center",null,s.a.createElement("h5",null,"Suya Sales Report"),s.a.createElement("br",null),s.a.createElement("div",null,s.a.createElement("span",null,s.a.createElement("label",null,this.renderDate(this.state.startdate))),s.a.createElement("span",null,s.a.createElement("label",null,this.renderendDate(this.state.endDate))),s.a.createElement("span",null,s.a.createElement("button",{className:"btn btn-primary space btnadjuster printing",onClick:function(){e.cleanup(),e.findRoomReport()}},"Find")))),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust50"},"Date"),s.a.createElement("th",{className:"adjust50b"},"Description"),s.a.createElement("th",{className:"adjust50"},"POS (NGN)"),s.a.createElement("th",{className:"adjust50"},"Cash(NGN)"),s.a.createElement("th",{className:"adjust50"},"Transfer(NGN)"),s.a.createElement("th",{className:"adjust50"},"Complimentary(NGN)"),s.a.createElement("th",{className:"adjust50"},"Total(NGN)"))),s.a.createElement("tbody",{className:"table table-hover"},this.renderRoomSales(this.state.RoomSales),s.a.createElement("tr",null,s.a.createElement("td",{className:"table-light table-striped adjust2"},s.a.createElement("b",null,"Total")),s.a.createElement("td",{className:"table-light table-striped adjust2"},s.a.createElement("b",null," ")),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.depPOS),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.depCash),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.depTransfer),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.depComp),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null," ",s.a.createElement(E.a,{value:this.state.depPOS+this.state.depCash+this.state.depTransfer,thousandSeparator:!0,displayType:"text"})))))),s.a.createElement("h6",null,"Gross Collection:         ",s.a.createElement(E.a,{value:this.state.depPOS+this.state.depCash+this.state.depTransfer,thousandSeparator:!0,displayType:"text",prefix:"NGN"})),s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-danger movebtn printing",onClick:function(){return e.props.history.push("/EndOfDay")}},"Close"),s.a.createElement("button",{className:"btn btn-primary movebtn printing",onClick:function(){return window.print()}},"Print"),s.a.createElement("button",{className:"btn btn-warning movebtn printing",onClick:function(){e.props.history.push("/Dashboard")}},"Goto Dashboard")))}},{key:"componentDidMount",value:function(){var e=this;console.log(">>> Inside CashDidMount",this.state),fetch("".concat("https://zarvichdemo.localto.net/feesAndCharges"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({levyData:t})}),fetch("".concat("https://zarvichdemo.localto.net/billingUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({loginDetails:t})});var t=k()(new Date).format("MMM DD YYYY"),a=k()(new Date).format("MMM DD YYYY"),n="".concat("https://zarvichdemo.localto.net/findSmoothieSales?smoot12=Suya%20Sales","&&smoostartdate12=").concat(t,"&&smooendDate12=").concat(a);this.setState({RoomSales:""}),fetch("".concat(n),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({RoomSales:t}),t.map(function(a){var n=0+parseInt(a.CashAmount)+parseInt(a.POSAmount)+parseInt(a.TransferAmount)+parseInt(a.roomDebit);e.setState({RoomTotal:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({depPOS:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({depCash:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({depTransfer:r});var l=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({depComp:l});var c=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);return e.setState({deproom:c}),"ok"})}),this.myTimer=setTimeout(function(){var t=0+e.state.RoomTotal;e.setState({TotalSales:t})},1e3),fetch("".concat("https://zarvichdemo.localto.net/hoteladdress"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){t.map(function(t){return e.setState({Hotelname:t.HotelName,Hoteladdress:t.Address,Hotelphone:t.Phone}),"ok"})}),this.myTimer=setTimeout(function(){var t=e.state.loginDetails,a=e.state.name;t.some(function(e){return e.name===a})?e.setState({Blogin:!0}):e.setState({Blogin:!1})},1e3)}}]),a}(n.Component),sr=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value))},n.handleChange10=function(e){var t;n.setState((t={},Object(h.a)(t,e.target.name,e.target.value),Object(h.a)(t,"roomSales",""),t))},n.renderRoomSales=function(e){if(e)return e.map(function(t){e.sort(function(e,t){return e.date-t.date});var a=k()(t.date).format("MMM DD YYYY");return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:t._id},s.a.createElement("td",{className:"table-light table-striped adjust222"},a),s.a.createElement("td",{className:"table-light table-striped adjust223 alignTet"},t.description),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:t.POSAmount,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:t.CashAmount,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:t.TransferAmount,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:t.CompDebit,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(t.POSAmount)+parseInt(t.CashAmount)+parseInt(t.TransferAmount),thousandSeparator:!0,displayType:"text"})))))})},console.log(">>>Inside CashConstructor",e),n.state={RoomSales:"",RoomTotal:"",depPOS:"",depCash:"",depTransfer:"",depComp:"",TotalSales:"",date:"",loginDetails:"",name:localStorage.getItem("userInfo"),login:"",Blogin:"",shift:"",startdate:"",endDate:"",levyData:"",ServiceChrg:"",TourismLevy:"",VAT:"",Hotelname:"",Hoteladdress:"",Hotelphone:""},n.checkinhandleChange=n.checkinhandleChange.bind(Object(f.a)(n)),n.endhandleChange=n.endhandleChange.bind(Object(f.a)(n)),n}return Object(p.a)(a,[{key:"checkinhandleChange",value:function(e){this.setState({date:e,startdate:e})}},{key:"endhandleChange",value:function(e){this.setState({endDate:e})}},{key:"renderDate",value:function(){return s.a.createElement("div",null,s.a.createElement(y.a,{selected:this.state.date,onChange:this.checkinhandleChange,maxDate:Object(N.default)(new Date,0),dropdownMode:"select",dateFormat:"MMM/d/ yyyy",className:"form-control mb-3 formsize printing alignText112",placeholderText:"Select Start Date"}))}},{key:"renderendDate",value:function(){return s.a.createElement("div",null,s.a.createElement(y.a,{selected:this.state.endDate,onChange:this.endhandleChange,maxDate:new Date,dropdownMode:"select",dateFormat:"MMM/d/ yyyy",className:"form-control mb-3 formsize printing alignText112 mvrght",placeholderText:"Search End Date"}))}},{key:"logout",value:function(){localStorage.removeItem("userInfo"),this.setState({login:!0})}},{key:"cleanup",value:function(){this.setState({RoomSales:0,RoomTotal:0,depPOS:0,depCash:0,depTransfer:0,depComp:0,TotalSales:0})}},{key:"findRoomReport",value:function(){var e=this,t=k()(this.state.date).format("MMM DD YYYY"),a=k()(this.state.endDate).format("MMM DD YYYY"),n="".concat("/findMiniMartSales?mart12=Mart%20Sales","&&martstartdate12=").concat(t,"&&martendDate12=").concat(a);this.setState({RoomSales:""}),fetch("".concat(n),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({RoomSales:t}),t.map(function(a){var n=0+parseInt(a.CashAmount)+parseInt(a.POSAmount)+parseInt(a.TransferAmount)+parseInt(a.roomDebit);e.setState({RoomTotal:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({depPOS:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({depCash:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({depTransfer:r});var l=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({depComp:l});var c=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);return e.setState({deproom:c}),"ok"})}),this.myTimer=setTimeout(function(){var t=0+e.state.RoomTotal;e.setState({TotalSales:t})},1e3),this.myTimer=setTimeout(function(){var t=0+e.state.RoomTotal;e.setState({TotalSales:t})},1e3)}},{key:"render",value:function(){var e=this;return console.log(">>> Inside Cashdetails",this.state),null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement(et,null)):s.a.createElement("div",{className:"container"},s.a.createElement("div",null,s.a.createElement("img",{src:"https://i.ibb.co/pP1xN03/Orange-Groove2.png",className:"alignImg2",style:{width:"100px",height:"70px"},alt:"companylogo"})),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("h6",null,this.state.Hotelname),s.a.createElement("p",{className:"textSize"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSize"},this.state.Hotelphone))),s.a.createElement("center",null,s.a.createElement("h5",null,"Mini Mart Sales Report"),s.a.createElement("br",null),s.a.createElement("div",null,s.a.createElement("span",null,s.a.createElement("label",null,this.renderDate(this.state.startdate))),s.a.createElement("span",null,s.a.createElement("label",null,this.renderendDate(this.state.endDate))),s.a.createElement("span",null,s.a.createElement("button",{className:"btn btn-primary space btnadjuster printing",onClick:function(){e.cleanup(),e.findRoomReport()}},"Find")))),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust50"},"Date"),s.a.createElement("th",{className:"adjust50b"},"Description"),s.a.createElement("th",{className:"adjust50"},"POS (NGN)"),s.a.createElement("th",{className:"adjust50"},"Cash(NGN)"),s.a.createElement("th",{className:"adjust50"},"Transfer(NGN)"),s.a.createElement("th",{className:"adjust50"},"Complimentary(NGN)"),s.a.createElement("th",{className:"adjust50"},"Total(NGN)"))),s.a.createElement("tbody",{className:"table table-hover"},this.renderRoomSales(this.state.RoomSales),s.a.createElement("tr",null,s.a.createElement("td",{className:"table-light table-striped adjust2"},s.a.createElement("b",null,"Total")),s.a.createElement("td",{className:"table-light table-striped adjust2"},s.a.createElement("b",null," ")),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.depPOS),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.depCash),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.depTransfer),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.depComp),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null," ",s.a.createElement(E.a,{value:this.state.depPOS+this.state.depCash+this.state.depTransfer,thousandSeparator:!0,displayType:"text"})))))),s.a.createElement("h6",null,"Gross Collection:         ",s.a.createElement(E.a,{value:this.state.depPOS+this.state.depCash+this.state.depTransfer,thousandSeparator:!0,displayType:"text",prefix:"NGN"})),s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-danger movebtn printing",onClick:function(){return e.props.history.push("/EndOfDay")}},"Close"),s.a.createElement("button",{className:"btn btn-primary movebtn printing",onClick:function(){return window.print()}},"Print")))}},{key:"componentDidMount",value:function(){var e=this;console.log(">>> Inside CashDidMount",this.state),fetch("".concat("https://zarvichdemo.localto.net/feesAndCharges"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({levyData:t})}),fetch("".concat("https://zarvichdemo.localto.net/billingUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({loginDetails:t})});var t=k()(new Date).format("MMM DD YYYY"),a=k()(new Date).format("MMM DD YYYY"),n="".concat("/findMiniMartSales?mart12=Mart%20Sales","&&martstartdate12=").concat(t,"&&martendDate12=").concat(a);this.setState({RoomSales:""}),fetch("".concat(n),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({RoomSales:t}),t.map(function(a){var n=0+parseInt(a.CashAmount)+parseInt(a.POSAmount)+parseInt(a.TransferAmount)+parseInt(a.roomDebit);e.setState({RoomTotal:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({depPOS:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({depCash:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({depTransfer:r});var l=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({depComp:l});var c=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);return e.setState({deproom:c}),"ok"})}),this.myTimer=setTimeout(function(){var t=0+e.state.RoomTotal;e.setState({TotalSales:t})},1e3),fetch("".concat("https://zarvichdemo.localto.net/hoteladdress"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){t.map(function(t){return e.setState({Hotelname:t.HotelName,Hoteladdress:t.Address,Hotelphone:t.Phone}),"ok"})}),this.myTimer=setTimeout(function(){var t=e.state.loginDetails,a=e.state.name;t.some(function(e){return e.name===a})?e.setState({Blogin:!0}):e.setState({Blogin:!1})},1e3)}}]),a}(n.Component),or=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value))},n.handleChange10=function(e){var t;n.setState((t={},Object(h.a)(t,e.target.name,e.target.value),Object(h.a)(t,"roomSales",""),t))},n.renderRoomSales=function(e){if(e)return e.map(function(t){e.sort(function(e,t){return e.date-t.date});var a=k()(t.date).format("MMM DD YYYY");return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:t._id},s.a.createElement("td",{className:"table-light table-striped adjust222"},a),s.a.createElement("td",{className:"table-light table-striped adjust223 alignTet"},t.description),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:t.POSAmount,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:t.CashAmount,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:t.TransferAmount,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:t.CompDebit,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(t.POSAmount)+parseInt(t.CashAmount)+parseInt(t.TransferAmount),thousandSeparator:!0,displayType:"text"})))))})},console.log(">>>Inside CashConstructor",e),n.state={RoomSales:"",RoomTotal:"",depPOS:"",depCash:"",depTransfer:"",depComp:"",TotalSales:"",date:"",loginDetails:"",name:localStorage.getItem("userInfo"),login:"",Blogin:"",shift:"",startdate:"",endDate:"",levyData:"",ServiceChrg:"",TourismLevy:"",VAT:"",Hotelname:"",Hoteladdress:"",Hotelphone:""},n.checkinhandleChange=n.checkinhandleChange.bind(Object(f.a)(n)),n.endhandleChange=n.endhandleChange.bind(Object(f.a)(n)),n}return Object(p.a)(a,[{key:"checkinhandleChange",value:function(e){this.setState({date:e,startdate:e})}},{key:"endhandleChange",value:function(e){this.setState({endDate:e})}},{key:"renderDate",value:function(){return s.a.createElement("div",null,s.a.createElement(y.a,{selected:this.state.date,onChange:this.checkinhandleChange,maxDate:Object(N.default)(new Date,0),dropdownMode:"select",dateFormat:"MMM/d/ yyyy",className:"form-control mb-3 formsize printing alignText112",placeholderText:"Select Start Date"}))}},{key:"renderendDate",value:function(){return s.a.createElement("div",null,s.a.createElement(y.a,{selected:this.state.endDate,onChange:this.endhandleChange,maxDate:new Date,dropdownMode:"select",dateFormat:"MMM/d/ yyyy",className:"form-control mb-3 formsize printing alignText112 mvrght",placeholderText:"Search End Date"}))}},{key:"logout",value:function(){localStorage.removeItem("userInfo"),this.setState({login:!0})}},{key:"cleanup",value:function(){this.setState({RoomSales:0,RoomTotal:0,depPOS:0,depCash:0,depTransfer:0,depComp:0,TotalSales:0})}},{key:"findRoomReport",value:function(){var e=this,t=k()(this.state.date).format("MMM DD YYYY"),a=k()(this.state.endDate).format("MMM DD YYYY"),n="".concat("https://zarvichdemo.localto.net/findBbqSales?bbq12=Barbeque%20Sales","&&bbqstartdate12=").concat(t,"&&bbqendDate12=").concat(a);this.setState({RoomSales:""}),fetch("".concat(n),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({RoomSales:t}),t.map(function(a){var n=0+parseInt(a.CashAmount)+parseInt(a.POSAmount)+parseInt(a.TransferAmount)+parseInt(a.roomDebit);e.setState({RoomTotal:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({depPOS:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({depCash:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({depTransfer:r});var l=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({depComp:l});var c=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);return e.setState({deproom:c}),"ok"})}),this.myTimer=setTimeout(function(){var t=0+e.state.RoomTotal;e.setState({TotalSales:t})},1e3),this.myTimer=setTimeout(function(){var t=0+e.state.RoomTotal;e.setState({TotalSales:t})},1e3)}},{key:"render",value:function(){var e=this;return console.log(">>> Inside Cashdetails",this.state),null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement(et,null)):s.a.createElement("div",{className:"container"},s.a.createElement("div",null,s.a.createElement("img",{src:"https://i.ibb.co/pP1xN03/Orange-Groove2.png",className:"alignImg2",style:{width:"100px",height:"70px"},alt:"companylogo"})),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("h6",null,this.state.Hotelname),s.a.createElement("p",{className:"textSize"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSize"},this.state.Hotelphone))),s.a.createElement("center",null,s.a.createElement("h5",null,"Barbeque Sales Report"),s.a.createElement("br",null),s.a.createElement("div",null,s.a.createElement("span",null,s.a.createElement("label",null,this.renderDate(this.state.startdate))),s.a.createElement("span",null,s.a.createElement("label",null,this.renderendDate(this.state.endDate))),s.a.createElement("span",null,s.a.createElement("button",{className:"btn btn-primary space btnadjuster printing",onClick:function(){e.cleanup(),e.findRoomReport()}},"Find")))),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust50"},"Date"),s.a.createElement("th",{className:"adjust50b"},"Description"),s.a.createElement("th",{className:"adjust50"},"POS (NGN)"),s.a.createElement("th",{className:"adjust50"},"Cash(NGN)"),s.a.createElement("th",{className:"adjust50"},"Transfer(NGN)"),s.a.createElement("th",{className:"adjust50"},"Complimentary(NGN)"),s.a.createElement("th",{className:"adjust50"},"Total(NGN)"))),s.a.createElement("tbody",{className:"table table-hover"},this.renderRoomSales(this.state.RoomSales),s.a.createElement("tr",null,s.a.createElement("td",{className:"table-light table-striped adjust2"},s.a.createElement("b",null,"Total")),s.a.createElement("td",{className:"table-light table-striped adjust2"},s.a.createElement("b",null," ")),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.depPOS),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.depCash),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.depTransfer),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.depComp),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null," ",s.a.createElement(E.a,{value:this.state.depPOS+this.state.depCash+this.state.depTransfer,thousandSeparator:!0,displayType:"text"})))))),s.a.createElement("h6",null,"Gross Collection:         ",s.a.createElement(E.a,{value:this.state.depPOS+this.state.depCash+this.state.depTransfer,thousandSeparator:!0,displayType:"text",prefix:"NGN"})),s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-danger movebtn printing",onClick:function(){return e.props.history.push("/EndOfDay")}},"Close"),s.a.createElement("button",{className:"btn btn-primary movebtn printing",onClick:function(){return window.print()}},"Print"),s.a.createElement("button",{className:"btn btn-primary movebtn printing",onClick:function(){e.props.history.push("/Dashboard")}},"Goto Dashboard")))}},{key:"componentDidMount",value:function(){var e=this;console.log(">>> Inside CashDidMount",this.state),fetch("".concat("https://zarvichdemo.localto.net/feesAndCharges"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({levyData:t})}),fetch("".concat("https://zarvichdemo.localto.net/billingUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({loginDetails:t})});var t=k()(new Date).format("MMM DD YYYY"),a=k()(new Date).format("MMM DD YYYY"),n="".concat("https://zarvichdemo.localto.net/findBbqSales?bbq12=Barbeque%20Sales","&&bbqstartdate12=").concat(t,"&&bbqendDate12=").concat(a);this.setState({RoomSales:""}),fetch("".concat(n),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({RoomSales:t}),t.map(function(a){var n=0+parseInt(a.CashAmount)+parseInt(a.POSAmount)+parseInt(a.TransferAmount)+parseInt(a.roomDebit);e.setState({RoomTotal:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({depPOS:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({depCash:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({depTransfer:r});var l=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({depComp:l});var c=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);return e.setState({deproom:c}),"ok"})}),this.myTimer=setTimeout(function(){var t=0+e.state.RoomTotal;e.setState({TotalSales:t})},1e3),fetch("".concat("https://zarvichdemo.localto.net/hoteladdress"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){t.map(function(t){return e.setState({Hotelname:t.HotelName,Hoteladdress:t.Address,Hotelphone:t.Phone}),"ok"})}),this.myTimer=setTimeout(function(){var t=e.state.loginDetails,a=e.state.name;t.some(function(e){return e.name===a})?e.setState({Blogin:!0}):e.setState({Blogin:!1})},1e3)}}]),a}(n.Component),rr=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value))},n.handleChange10=function(e){var t;n.setState((t={},Object(h.a)(t,e.target.name,e.target.value),Object(h.a)(t,"roomSales",""),t))},n.renderRoomSales=function(e){if(e)return e.map(function(t){e.sort(function(e,t){return e.date-t.date});var a=k()(t.date).format("MMM DD YYYY");return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:t._id},s.a.createElement("td",{className:"table-light table-striped adjust222"},a),s.a.createElement("td",{className:"table-light table-striped adjust223 alignTet"},t.description),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:t.POSAmount,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:t.CashAmount,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:t.TransferAmount,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:t.CompDebit,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(t.POSAmount)+parseInt(t.CashAmount)+parseInt(t.TransferAmount),thousandSeparator:!0,displayType:"text"})))))})},console.log(">>>Inside CashConstructor",e),n.state={RoomSales:"",RoomTotal:"",depPOS:"",depCash:"",depTransfer:"",depComp:"",TotalSales:"",date:"",loginDetails:"",name:localStorage.getItem("userInfo"),login:"",Blogin:"",shift:"",startdate:"",endDate:"",levyData:"",ServiceChrg:"",TourismLevy:"",VAT:"",Hotelname:"",Hoteladdress:"",Hotelphone:""},n.checkinhandleChange=n.checkinhandleChange.bind(Object(f.a)(n)),n.endhandleChange=n.endhandleChange.bind(Object(f.a)(n)),n}return Object(p.a)(a,[{key:"checkinhandleChange",value:function(e){this.setState({date:e,startdate:e})}},{key:"endhandleChange",value:function(e){this.setState({endDate:e})}},{key:"renderDate",value:function(){return s.a.createElement("div",null,s.a.createElement(y.a,{selected:this.state.date,onChange:this.checkinhandleChange,maxDate:Object(N.default)(new Date,0),dropdownMode:"select",dateFormat:"MMM/d/ yyyy",className:"form-control mb-3 formsize printing alignText112",placeholderText:"Select Start Date"}))}},{key:"renderendDate",value:function(){return s.a.createElement("div",null,s.a.createElement(y.a,{selected:this.state.endDate,onChange:this.endhandleChange,maxDate:new Date,dropdownMode:"select",dateFormat:"MMM/d/ yyyy",className:"form-control mb-3 formsize printing alignText112 mvrght",placeholderText:"Search End Date"}))}},{key:"logout",value:function(){localStorage.removeItem("userInfo"),this.setState({login:!0})}},{key:"cleanup",value:function(){this.setState({RoomSales:0,RoomTotal:0,depPOS:0,depCash:0,depTransfer:0,depComp:0,TotalSales:0})}},{key:"findRoomReport",value:function(){var e=this,t=k()(this.state.date).format("MMM DD YYYY"),a=k()(this.state.endDate).format("MMM DD YYYY"),n="".concat("/findShiSales?shi12=Games%20Sales","&&shistartdate12=").concat(t,"&&shiendDate12=").concat(a);this.setState({RoomSales:""}),fetch("".concat(n),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({RoomSales:t}),t.map(function(a){var n=0+parseInt(a.CashAmount)+parseInt(a.POSAmount)+parseInt(a.TransferAmount)+parseInt(a.roomDebit);e.setState({RoomTotal:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({depPOS:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({depCash:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({depTransfer:r});var l=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({depComp:l});var c=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);return e.setState({deproom:c}),"ok"})}),this.myTimer=setTimeout(function(){var t=0+e.state.RoomTotal;e.setState({TotalSales:t})},1e3),this.myTimer=setTimeout(function(){var t=0+e.state.RoomTotal;e.setState({TotalSales:t})},1e3)}},{key:"render",value:function(){var e=this;return console.log(">>> Inside Cashdetails",this.state),null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement(et,null)):s.a.createElement("div",{className:"container"},s.a.createElement("div",null,s.a.createElement("img",{src:"https://i.ibb.co/pP1xN03/Orange-Groove2.png",className:"alignImg2",style:{width:"100px",height:"70px"},alt:"companylogo"})),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("h6",null,this.state.Hotelname),s.a.createElement("p",{className:"textSize"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSize"},this.state.Hotelphone))),s.a.createElement("center",null,s.a.createElement("h5",null,"Games Sales Report"),s.a.createElement("br",null),s.a.createElement("div",null,s.a.createElement("span",null,s.a.createElement("label",null,this.renderDate(this.state.startdate))),s.a.createElement("span",null,s.a.createElement("label",null,this.renderendDate(this.state.endDate))),s.a.createElement("span",null,s.a.createElement("button",{className:"btn btn-primary space btnadjuster printing",onClick:function(){e.cleanup(),e.findRoomReport()}},"Find")))),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust50"},"Date"),s.a.createElement("th",{className:"adjust50b"},"Description"),s.a.createElement("th",{className:"adjust50"},"POS (NGN)"),s.a.createElement("th",{className:"adjust50"},"Cash(NGN)"),s.a.createElement("th",{className:"adjust50"},"Transfer(NGN)"),s.a.createElement("th",{className:"adjust50"},"Complimentary(NGN)"),s.a.createElement("th",{className:"adjust50"},"Total(NGN)"))),s.a.createElement("tbody",{className:"table table-hover"},this.renderRoomSales(this.state.RoomSales),s.a.createElement("tr",null,s.a.createElement("td",{className:"table-light table-striped adjust2"},s.a.createElement("b",null,"Total")),s.a.createElement("td",{className:"table-light table-striped adjust2"},s.a.createElement("b",null," ")),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.depPOS),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.depCash),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.depTransfer),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.depComp),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null," ",s.a.createElement(E.a,{value:this.state.depPOS+this.state.depCash+this.state.depTransfer,thousandSeparator:!0,displayType:"text"})))))),s.a.createElement("h6",null,"Gross Collection:         ",s.a.createElement(E.a,{value:this.state.depPOS+this.state.depCash+this.state.depTransfer,thousandSeparator:!0,displayType:"text",prefix:"NGN"})),s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-danger movebtn printing",onClick:function(){return e.props.history.push("/EndOfDay")}},"Close"),s.a.createElement("button",{className:"btn btn-primary movebtn printing",onClick:function(){return window.print()}},"Print"),s.a.createElement("button",{className:"btn btn-warning movebtn printing",onClick:function(){e.props.history.push("/Dashboard")}},"Goto Dashboard")))}},{key:"componentDidMount",value:function(){var e=this;console.log(">>> Inside CashDidMount",this.state),fetch("".concat("https://zarvichdemo.localto.net/feesAndCharges"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({levyData:t})}),fetch("".concat("https://zarvichdemo.localto.net/billingUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({loginDetails:t})});var t=k()(new Date).format("MMM DD YYYY"),a=k()(new Date).format("MMM DD YYYY"),n="".concat("/findShiSales?shi12=Games%20Sales","&&shistartdate12=").concat(t,"&&shiendDate12=").concat(a);this.setState({RoomSales:""}),fetch("".concat(n),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({RoomSales:t}),t.map(function(a){var n=0+parseInt(a.CashAmount)+parseInt(a.POSAmount)+parseInt(a.TransferAmount)+parseInt(a.roomDebit);e.setState({RoomTotal:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({depPOS:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({depCash:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({depTransfer:r});var l=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({depComp:l});var c=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);return e.setState({deproom:c}),"ok"})}),this.myTimer=setTimeout(function(){var t=0+e.state.RoomTotal;e.setState({TotalSales:t})},1e3),fetch("".concat("https://zarvichdemo.localto.net/hoteladdress"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){t.map(function(t){return e.setState({Hotelname:t.HotelName,Hoteladdress:t.Address,Hotelphone:t.Phone}),"ok"})}),this.myTimer=setTimeout(function(){var t=e.state.loginDetails,a=e.state.name;t.some(function(e){return e.name===a})?e.setState({Blogin:!0}):e.setState({Blogin:!1})},1e3)}}]),a}(n.Component),lr=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value))},n.handleChange10=function(e){var t;n.setState((t={},Object(h.a)(t,e.target.name,e.target.value),Object(h.a)(t,"roomSales",""),t))},n.renderRoomSales=function(e){if(e)return e.map(function(t){e.sort(function(e,t){return e.date-t.date});var a=k()(t.date).format("MMM DD YYYY");return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:t._id},s.a.createElement("td",{className:"table-light table-striped adjust222"},a),s.a.createElement("td",{className:"table-light table-striped adjust223 alignTet"},t.description),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:t.POSAmount,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:t.CashAmount,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:t.TransferAmount,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:t.CompDebit,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(t.POSAmount)+parseInt(t.CashAmount)+parseInt(t.TransferAmount),thousandSeparator:!0,displayType:"text"})))))})},console.log(">>>Inside CashConstructor",e),n.state={RoomSales:"",RoomTotal:"",depPOS:"",depCash:"",depTransfer:"",depComp:"",TotalSales:"",date:"",loginDetails:"",name:localStorage.getItem("userInfo"),login:"",Blogin:"",shift:"",startdate:"",endDate:"",levyData:"",ServiceChrg:"",TourismLevy:"",VAT:"",Hotelname:"",Hoteladdress:"",Hotelphone:""},n.checkinhandleChange=n.checkinhandleChange.bind(Object(f.a)(n)),n.endhandleChange=n.endhandleChange.bind(Object(f.a)(n)),n}return Object(p.a)(a,[{key:"checkinhandleChange",value:function(e){this.setState({date:e,startdate:e})}},{key:"endhandleChange",value:function(e){this.setState({endDate:e})}},{key:"renderDate",value:function(){return s.a.createElement("div",null,s.a.createElement(y.a,{selected:this.state.date,onChange:this.checkinhandleChange,maxDate:Object(N.default)(new Date,0),dropdownMode:"select",dateFormat:"MMM/d/ yyyy",className:"form-control mb-3 formsize printing alignText112",placeholderText:"Select Start Date"}))}},{key:"renderendDate",value:function(){return s.a.createElement("div",null,s.a.createElement(y.a,{selected:this.state.endDate,onChange:this.endhandleChange,maxDate:new Date,dropdownMode:"select",dateFormat:"MMM/d/ yyyy",className:"form-control mb-3 formsize printing alignText112 mvrght",placeholderText:"Search End Date"}))}},{key:"logout",value:function(){localStorage.removeItem("userInfo"),this.setState({login:!0})}},{key:"cleanup",value:function(){this.setState({RoomSales:0,RoomTotal:0,depPOS:0,depCash:0,depTransfer:0,depComp:0,TotalSales:0})}},{key:"findRoomReport",value:function(){var e=this,t=k()(this.state.date).format("MMM DD YYYY"),a=k()(this.state.endDate).format("MMM DD YYYY"),n="".concat("https://zarvichdemo.localto.net/findHallSales?hall12=Hall%20Hire","&&hallstartdate12=").concat(t,"&&hallendDate12=").concat(a);this.setState({RoomSales:""}),fetch("".concat(n),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({RoomSales:t}),t.map(function(a){var n=0+parseInt(a.CashAmount)+parseInt(a.POSAmount)+parseInt(a.TransferAmount)+parseInt(a.roomDebit);e.setState({RoomTotal:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({depPOS:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({depCash:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({depTransfer:r});var l=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({depComp:l});var c=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);return e.setState({deproom:c}),"ok"})}),this.myTimer=setTimeout(function(){var t=0+e.state.RoomTotal;e.setState({TotalSales:t})},1e3),this.myTimer=setTimeout(function(){var t=0+e.state.RoomTotal;e.setState({TotalSales:t})},1e3)}},{key:"render",value:function(){var e=this;return console.log(">>> Inside Cashdetails",this.state),null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement(et,null)):s.a.createElement("div",{className:"container"},s.a.createElement("div",null,s.a.createElement("img",{src:"https://i.ibb.co/pP1xN03/Orange-Groove2.png",className:"alignImg2",style:{width:"100px",height:"70px"},alt:"companylogo"})),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("h6",null,this.state.Hotelname),s.a.createElement("p",{className:"textSize"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSize"},this.state.Hotelphone))),s.a.createElement("center",null,s.a.createElement("h5",null,"Hall Hire Report"),s.a.createElement("br",null),s.a.createElement("div",null,s.a.createElement("span",null,s.a.createElement("label",null,this.renderDate(this.state.startdate))),s.a.createElement("span",null,s.a.createElement("label",null,this.renderendDate(this.state.endDate))),s.a.createElement("span",null,s.a.createElement("button",{className:"btn btn-primary space btnadjuster printing",onClick:function(){e.cleanup(),e.findRoomReport()}},"Find")))),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust50"},"Date"),s.a.createElement("th",{className:"adjust50b"},"Description"),s.a.createElement("th",{className:"adjust50"},"POS (NGN)"),s.a.createElement("th",{className:"adjust50"},"Cash(NGN)"),s.a.createElement("th",{className:"adjust50"},"Transfer(NGN)"),s.a.createElement("th",{className:"adjust50"},"Complimentary(NGN)"),s.a.createElement("th",{className:"adjust50"},"Total(NGN)"))),s.a.createElement("tbody",{className:"table table-hover"},this.renderRoomSales(this.state.RoomSales),s.a.createElement("tr",null,s.a.createElement("td",{className:"table-light table-striped adjust2"},s.a.createElement("b",null,"Total")),s.a.createElement("td",{className:"table-light table-striped adjust2"},s.a.createElement("b",null," ")),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.depPOS),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.depCash),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.depTransfer),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.depComp),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null," ",s.a.createElement(E.a,{value:this.state.depPOS+this.state.depCash+this.state.depTransfer,thousandSeparator:!0,displayType:"text"})))))),s.a.createElement("h6",null,"Gross Collection:         ",s.a.createElement(E.a,{value:this.state.depPOS+this.state.depCash+this.state.depTransfer,thousandSeparator:!0,displayType:"text",prefix:"NGN"})),s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-danger movebtn printing",onClick:function(){return e.props.history.push("/EndOfDay")}},"Close"),s.a.createElement("button",{className:"btn btn-primary movebtn printing",onClick:function(){return window.print()}},"Print")))}},{key:"componentDidMount",value:function(){var e=this;console.log(">>> Inside CashDidMount",this.state),fetch("".concat("https://zarvichdemo.localto.net/feesAndCharges"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({levyData:t})}),fetch("".concat("https://zarvichdemo.localto.net/billingUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({loginDetails:t})});var t=k()(new Date).format("MMM DD YYYY"),a=k()(new Date).format("MMM DD YYYY"),n="".concat("https://zarvichdemo.localto.net/findHallSales?hall12=Hall%20Hire","&&hallstartdate12=").concat(t,"&&hallendDate12=").concat(a);this.setState({RoomSales:""}),fetch("".concat(n),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({RoomSales:t}),t.map(function(a){var n=0+parseInt(a.CashAmount)+parseInt(a.POSAmount)+parseInt(a.TransferAmount)+parseInt(a.roomDebit);e.setState({RoomTotal:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({depPOS:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({depCash:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({depTransfer:r});var l=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({depComp:l});var c=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);return e.setState({deproom:c}),"ok"})}),this.myTimer=setTimeout(function(){var t=0+e.state.RoomTotal;e.setState({TotalSales:t})},1e3),fetch("".concat("https://zarvichdemo.localto.net/hoteladdress"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){t.map(function(t){return e.setState({Hotelname:t.HotelName,Hoteladdress:t.Address,Hotelphone:t.Phone}),"ok"})}),this.myTimer=setTimeout(function(){var t=e.state.loginDetails,a=e.state.name;t.some(function(e){return e.name===a})?e.setState({Blogin:!0}):e.setState({Blogin:!1})},1e3)}}]),a}(n.Component),cr=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value))},n.handleChange10=function(e){var t;n.setState((t={},Object(h.a)(t,e.target.name,e.target.value),Object(h.a)(t,"roomSales",""),t))},n.renderRoomSales=function(e){if(e)return e.map(function(t){e.sort(function(e,t){return e.date-t.date});var a=k()(t.date).format("MMM DD YYYY");return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:t._id},s.a.createElement("td",{className:"table-light table-striped adjust222"},a),s.a.createElement("td",{className:"table-light table-striped adjust223 alignTet"},t.description),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:t.POSAmount,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:t.CashAmount,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:t.TransferAmount,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:t.CompDebit,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(t.POSAmount)+parseInt(t.CashAmount)+parseInt(t.TransferAmount),thousandSeparator:!0,displayType:"text"})))))})},console.log(">>>Inside CashConstructor",e),n.state={RoomSales:"",RoomTotal:"",depPOS:"",depCash:"",depTransfer:"",depComp:"",TotalSales:"",date:"",loginDetails:"",name:localStorage.getItem("userInfo"),login:"",Blogin:"",shift:"",startdate:"",endDate:"",levyData:"",ServiceChrg:"",TourismLevy:"",VAT:"",Hotelname:"",Hoteladdress:"",Hotelphone:""},n.checkinhandleChange=n.checkinhandleChange.bind(Object(f.a)(n)),n.endhandleChange=n.endhandleChange.bind(Object(f.a)(n)),n}return Object(p.a)(a,[{key:"checkinhandleChange",value:function(e){this.setState({date:e,startdate:e})}},{key:"endhandleChange",value:function(e){this.setState({endDate:e})}},{key:"renderDate",value:function(){return s.a.createElement("div",null,s.a.createElement(y.a,{selected:this.state.date,onChange:this.checkinhandleChange,maxDate:Object(N.default)(new Date,0),dropdownMode:"select",dateFormat:"MMM/d/ yyyy",className:"form-control mb-3 formsize printing alignText112",placeholderText:"Select Start Date"}))}},{key:"renderendDate",value:function(){return s.a.createElement("div",null,s.a.createElement(y.a,{selected:this.state.endDate,onChange:this.endhandleChange,maxDate:new Date,dropdownMode:"select",dateFormat:"MMM/d/ yyyy",className:"form-control mb-3 formsize printing alignText112 mvrght",placeholderText:"Search End Date"}))}},{key:"logout",value:function(){localStorage.removeItem("userInfo"),this.setState({login:!0})}},{key:"cleanup",value:function(){this.setState({RoomSales:0,RoomTotal:0,depPOS:0,depCash:0,depTransfer:0,depComp:0,TotalSales:0})}},{key:"findRoomReport",value:function(){var e=this,t=k()(this.state.date).format("MMM DD YYYY"),a=k()(this.state.endDate).format("MMM DD YYYY"),n="".concat("https://zarvichdemo.localto.net/findSwimmingSales?swim12=Swimming%20Sales","&&swimstartdate12=").concat(t,"&&swimendDate12=").concat(a);this.setState({RoomSales:""}),fetch("".concat(n),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({RoomSales:t}),t.map(function(a){var n=0+parseInt(a.CashAmount)+parseInt(a.POSAmount)+parseInt(a.TransferAmount)+parseInt(a.roomDebit);e.setState({RoomTotal:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({depPOS:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({depCash:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({depTransfer:r});var l=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({depComp:l});var c=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);return e.setState({deproom:c}),"ok"})}),this.myTimer=setTimeout(function(){var t=0+e.state.RoomTotal;e.setState({TotalSales:t})},1e3),this.myTimer=setTimeout(function(){var t=0+e.state.RoomTotal;e.setState({TotalSales:t})},1e3)}},{key:"render",value:function(){var e=this;return console.log(">>> Inside Cashdetails",this.state),null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement(et,null)):s.a.createElement("div",{className:"container"},s.a.createElement("div",null,s.a.createElement("img",{src:"https://i.ibb.co/pP1xN03/Orange-Groove2.png",className:"alignImg2",style:{width:"100px",height:"70px"},alt:"companylogo"})),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("h6",null,this.state.Hotelname),s.a.createElement("p",{className:"textSize"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSize"},this.state.Hotelphone))),s.a.createElement("center",null,s.a.createElement("h5",null,"Swimming Sales Report"),s.a.createElement("br",null),s.a.createElement("div",null,s.a.createElement("span",null,s.a.createElement("label",null,this.renderDate(this.state.startdate))),s.a.createElement("span",null,s.a.createElement("label",null,this.renderendDate(this.state.endDate))),s.a.createElement("span",null,s.a.createElement("button",{className:"btn btn-primary space btnadjuster printing",onClick:function(){e.cleanup(),e.findRoomReport()}},"Find")))),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust50"},"Date"),s.a.createElement("th",{className:"adjust50b"},"Description"),s.a.createElement("th",{className:"adjust50"},"POS (NGN)"),s.a.createElement("th",{className:"adjust50"},"Cash(NGN)"),s.a.createElement("th",{className:"adjust50"},"Transfer(NGN)"),s.a.createElement("th",{className:"adjust50"},"Complimentary(NGN)"),s.a.createElement("th",{className:"adjust50"},"Total(NGN)"))),s.a.createElement("tbody",{className:"table table-hover"},this.renderRoomSales(this.state.RoomSales),s.a.createElement("tr",null,s.a.createElement("td",{className:"table-light table-striped adjust2"},s.a.createElement("b",null,"Total")),s.a.createElement("td",{className:"table-light table-striped adjust2"},s.a.createElement("b",null," ")),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.depPOS),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.depCash),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.depTransfer),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null,s.a.createElement(E.a,{value:parseInt(this.state.depComp),thousandSeparator:!0,displayType:"text"}))),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement("b",null," ",s.a.createElement(E.a,{value:this.state.depPOS+this.state.depCash+this.state.depTransfer,thousandSeparator:!0,displayType:"text"})))))),s.a.createElement("h6",null,"Gross Collection:         ",s.a.createElement(E.a,{value:this.state.depPOS+this.state.depCash+this.state.depTransfer,thousandSeparator:!0,displayType:"text",prefix:"NGN"})),s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-danger movebtn printing",onClick:function(){return e.props.history.push("/EndOfDay")}},"Close"),s.a.createElement("button",{className:"btn btn-primary movebtn printing",onClick:function(){return window.print()}},"Print"),s.a.createElement("button",{className:"btn btn-warning movebtn printing",onClick:function(){e.props.history.push("/Dashboard")}},"Goto Dashboard")))}},{key:"componentDidMount",value:function(){var e=this;console.log(">>> Inside CashDidMount",this.state),fetch("".concat("https://zarvichdemo.localto.net/feesAndCharges"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({levyData:t})}),fetch("".concat("https://zarvichdemo.localto.net/billingUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({loginDetails:t})});var t=k()(new Date).format("MMM DD YYYY"),a=k()(new Date).format("MMM DD YYYY"),n="".concat("https://zarvichdemo.localto.net/findSwimmingSales?swim12=Swimming%20Sales","&&swimstartdate12=").concat(t,"&&swimendDate12=").concat(a);this.setState({RoomSales:""}),fetch("".concat(n),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({RoomSales:t}),t.map(function(a){var n=0+parseInt(a.CashAmount)+parseInt(a.POSAmount)+parseInt(a.TransferAmount)+parseInt(a.roomDebit);e.setState({RoomTotal:n});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({depPOS:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({depCash:o});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({depTransfer:r});var l=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({depComp:l});var c=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);return e.setState({deproom:c}),"ok"})}),this.myTimer=setTimeout(function(){var t=0+e.state.RoomTotal;e.setState({TotalSales:t})},1e3),fetch("".concat("https://zarvichdemo.localto.net/hoteladdress"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){t.map(function(t){return e.setState({Hotelname:t.HotelName,Hoteladdress:t.Address,Hotelphone:t.Phone}),"ok"})}),this.myTimer=setTimeout(function(){var t=e.state.loginDetails,a=e.state.name;t.some(function(e){return e.name===a})?e.setState({Blogin:!0}):e.setState({Blogin:!1})},1e3)}}]),a}(n.Component),ir=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).renderGuestBalances=function(e){if(e)return e.map(function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:e._id},s.a.createElement("td",{className:"table-light table-striped adjust2"},e.transactionDate),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet"},e.roomNumbers),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet"},e.fname," ",e.lname),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:e.totalDeposit,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:e.totalPosting,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:e.totalRoomRate,thousandSeparator:!0,displayType:"text"})),s.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},s.a.createElement(E.a,{value:e.guestBalance,thousandSeparator:!0,displayType:"text"}))))})},console.log(">>>Inside CashConstructor",e),n.state={loginDetails:"",name:localStorage.getItem("userInfo"),login:"",Blogin:"",shift:"",date:"",Hotelname:"",Hoteladdress:"",Hotelphone:"",guestBal:""},n}return Object(p.a)(a,[{key:"logout",value:function(){localStorage.removeItem("userInfo"),this.setState({login:!0}),localStorage.removeItem("shift")}},{key:"render",value:function(){var e=this;return console.log(">>> Inside Cashdetails",this.state),null==localStorage.getItem("userInfo")||!1===this.state.Blogin?s.a.createElement(s.a.Fragment,null,s.a.createElement(et,null)):s.a.createElement("div",{className:"container"},s.a.createElement("div",null,s.a.createElement("img",{src:"https://i.ibb.co/pP1xN03/Orange-Groove2.png",className:"alignImg2",style:{width:"100px",height:"70px"},alt:"companylogo"})),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("h6",null,this.state.Hotelname),s.a.createElement("p",{className:"textSize"},this.state.Hoteladdress),s.a.createElement("p",{className:"textSize"},this.state.Hotelphone))),s.a.createElement("center",null,s.a.createElement("h5",null,"Guest Balances Report  (",this.state.date,")"),s.a.createElement("br",null)),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"table-warning"},s.a.createElement("tr",null,s.a.createElement("th",{className:"adjust50"},"Arrival Date"),s.a.createElement("th",{className:"adjust50"},"Room Number"),s.a.createElement("th",{className:"adjust50"},"Names"),s.a.createElement("th",{className:"adjust50"},"Total Deposits (NGN)"),s.a.createElement("th",{className:"adjust50"},"Total Dockets(NGN)"),s.a.createElement("th",{className:"adjust50"},"Room Charges(NGN)"),s.a.createElement("th",{className:"adjust50"},"Guest Balance(NGN)"))),s.a.createElement("tbody",{className:"table table-hover"},this.renderGuestBalances(this.state.guestBal))),s.a.createElement("hr",null),s.a.createElement("center",null,s.a.createElement("button",{className:"btn btn-danger movebtn printing",onClick:function(){return e.props.history.push("/EndOfDay")}},"Close"),s.a.createElement("button",{className:"btn btn-primary movebtn printing",onClick:function(){return window.print()}},"Print"),s.a.createElement("button",{className:"btn btn-warning movebtn printing",onClick:function(){e.props.history.push("/Dashboard")}},"Goto Dashboard")))}},{key:"componentDidMount",value:function(){var e=this;console.log(">>> Inside CashDidMount",this.state),fetch("".concat("https://zarvichdemo.localto.net/owingGuests"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({guestBal:t})}),fetch("".concat("https://zarvichdemo.localto.net/billingUserInfo"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({loginDetails:t})}),fetch("".concat("https://zarvichdemo.localto.net/hoteladdress"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){t.map(function(t){return e.setState({Hotelname:t.HotelName,Hoteladdress:t.Address,Hotelphone:t.Phone}),"ok"})}),fetch("".concat("https://zarvichdemo.localto.net/getActive"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){t.map(function(t){return e.setState({date:k()(t.date).format("MMM DD YYYY")}),"ok"})}),this.myTimer=setTimeout(function(){var t=e.state.loginDetails,a=e.state.name;t.some(function(e){return e.name===a})?e.setState({Blogin:!0}):e.setState({Blogin:!1}),fetch("".concat("https://zarvichdemo.localto.net/getActive"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){t.map(function(t){return e.setState({date:k()(t.date).format("MMM DD YYYY")}),"ok"})})},1e3)}}]),a}(n.Component),mr=function(){return s.a.createElement(l.a,null,s.a.createElement(c.a,{exact:!0,path:"/roomchart",component:H}),s.a.createElement(c.a,{exact:!0,path:"/form/:reID",component:M}),s.a.createElement(c.a,{exact:!0,path:"/guestForm/:rmID",component:R}),s.a.createElement(c.a,{exact:!0,path:"/stay/:stID",component:L}),s.a.createElement(c.a,{exact:!0,path:"/change/:rcID",component:J}),s.a.createElement(c.a,{exact:!0,path:"/restaurant",component:re}),s.a.createElement(c.a,{exact:!0,path:"/Laundry",component:fe}),s.a.createElement(c.a,{exact:!0,path:"/LaundryApp",component:fe}),s.a.createElement(c.a,{exact:!0,path:"/RestPortal",component:Ie}),s.a.createElement(c.a,{exact:!0,path:"/sales",component:Ce}),s.a.createElement(c.a,{exact:!0,path:"/OtherSalesReport",component:nt}),s.a.createElement(c.a,{exact:!0,path:"/bar",component:Be}),s.a.createElement(c.a,{exact:!0,path:"/GuestBarOrder",component:We}),s.a.createElement(c.a,{exact:!0,path:"/PoolBar",component:_a}),s.a.createElement(c.a,{exact:!0,path:"/MobilePoolBar",component:Xa}),s.a.createElement(c.a,{exact:!0,path:"/Club",component:mn}),s.a.createElement(c.a,{exact:!0,path:"/BarPortal",component:Ze}),s.a.createElement(c.a,{exact:!0,path:"/PoolBarPortal",component:ot}),s.a.createElement(c.a,{exact:!0,path:"/PoolBarsales",component:Ke}),s.a.createElement(c.a,{exact:!0,path:"/housekeeping",component:ut}),s.a.createElement(c.a,{exact:!0,path:"/hskPortal",component:dt}),s.a.createElement(c.a,{exact:!0,path:"/otherSales",component:It}),s.a.createElement(c.a,{exact:!0,path:"/LaundryReport",component:tr}),s.a.createElement(c.a,{exact:!0,path:"/GymnasiumReport",component:ar}),s.a.createElement(c.a,{exact:!0,path:"/SmoothieReport",component:nr}),s.a.createElement(c.a,{exact:!0,path:"/SwimmingReport",component:cr}),s.a.createElement(c.a,{exact:!0,path:"/MinimartReport",component:sr}),s.a.createElement(c.a,{exact:!0,path:"/BarbequeReport",component:or}),s.a.createElement(c.a,{exact:!0,path:"/ShishaReport",component:rr}),s.a.createElement(c.a,{exact:!0,path:"/HallHireReport",component:lr}),s.a.createElement(c.a,{exact:!0,path:"/guestBill/:refID",component:Rt}),s.a.createElement(c.a,{exact:!0,path:"/GroupBill",component:Gn}),s.a.createElement(c.a,{exact:!0,path:"/BillingMenu",component:Ft}),s.a.createElement(c.a,{exact:!0,path:"/Reservation",component:Zt}),s.a.createElement(c.a,{exact:!0,path:"/EditReservation",component:aa}),s.a.createElement(c.a,{exact:!0,path:"/Occuppancy",component:sa}),s.a.createElement(c.a,{exact:!0,path:"/HouseKeepingPrint",component:ra}),s.a.createElement(c.a,{exact:!0,path:"/roomChangeReport",component:ca}),s.a.createElement(c.a,{exact:!0,path:"/policeReport",component:ma}),s.a.createElement(c.a,{exact:!0,path:"/checkOut",component:ha}),s.a.createElement(c.a,{exact:!0,path:"/Group",component:fa}),s.a.createElement(c.a,{exact:!0,path:"/DailyCheckIn",component:ga}),s.a.createElement(c.a,{exact:!0,path:"/RetireBar",component:ja}),s.a.createElement(c.a,{exact:!0,path:"/CashCollection",component:kn}),s.a.createElement(c.a,{exact:!0,path:"/EndOfDay",component:An}),s.a.createElement(c.a,{exact:!0,path:"/DailyRoomSales",component:jn}),s.a.createElement(c.a,{exact:!0,path:"/OwingGuests",component:Mn}),s.a.createElement(c.a,{exact:!0,path:"/RestaurantReport",component:wn}),s.a.createElement(c.a,{exact:!0,path:"/BarSalesReport",component:as}),s.a.createElement(c.a,{exact:!0,path:"/PoolBarDailySales",component:Pn}),s.a.createElement(c.a,{exact:!0,path:"/ReservationReports",component:er}),s.a.createElement(c.a,{exact:!0,path:"/ClubSalesReport",component:Rn}),s.a.createElement(c.a,{exact:!0,path:"/ClubPortal",component:$o}),s.a.createElement(c.a,{exact:!0,path:"/DailyDiscountList",component:zn}),s.a.createElement(c.a,{exact:!0,path:"/ReceptionMenu",component:Yn}),s.a.createElement(c.a,{exact:!0,path:"/HallHire",component:qn}),s.a.createElement(c.a,{exact:!0,path:"/EditHallHire",component:_n}),s.a.createElement(c.a,{exact:!0,path:"/FandB",component:Vn}),s.a.createElement(c.a,{exact:!0,path:"/FandBMenu",component:Kn}),s.a.createElement(c.a,{exact:!0,path:"/FandBReport",component:es}),s.a.createElement(c.a,{exact:!0,path:"/ReceptionFunctnAcc",component:ts}),s.a.createElement(c.a,{exact:!0,path:"/departments",component:ss}),s.a.createElement(c.a,{exact:!0,path:"/categories",component:rs}),s.a.createElement(c.a,{exact:!0,path:"/storeMenu",component:ls}),s.a.createElement(c.a,{exact:!0,path:"/vendor",component:is}),s.a.createElement(c.a,{exact:!0,path:"/priceReview",component:us}),s.a.createElement(c.a,{exact:!0,path:"/Units",component:ds}),s.a.createElement(c.a,{exact:!0,path:"/Products",component:Ds}),s.a.createElement(c.a,{exact:!0,path:"/Products",component:Ds}),s.a.createElement(c.a,{exact:!0,path:"/stockIn",component:Os}),s.a.createElement(c.a,{exact:!0,path:"/StoreReport",component:Rs}),s.a.createElement(c.a,{exact:!0,path:"/stockOut",component:Ls}),s.a.createElement(c.a,{exact:!0,path:"/",component:zs}),s.a.createElement(c.a,{exact:!0,path:"/Dashboard",component:ho}),s.a.createElement(c.a,{exact:!0,path:"/AppMenu",component:zs}),s.a.createElement(c.a,{exact:!0,path:"/OldDashboard",component:fo}),s.a.createElement(c.a,{exact:!0,path:"/Levy",component:go}),s.a.createElement(c.a,{exact:!0,path:"/RoomSettings",component:yo}),s.a.createElement(c.a,{exact:!0,path:"/Users",component:Xo}),s.a.createElement(c.a,{exact:!0,path:"/Settings",component:Zo}),s.a.createElement(c.a,{exact:!0,path:"/AddMenu",component:$n}),s.a.createElement(c.a,{exact:!0,path:"/GuestBal",component:ir}))};r.a.render(s.a.createElement(mr,null),document.getElementById("root"))},47:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){}},[[166,1,2]]]);
//# sourceMappingURL=main.400e4ad4.chunk.js.map